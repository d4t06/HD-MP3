function u2(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var ev=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function c2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var D1={exports:{}},Wc={},L1={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ga=Symbol.for("react.element"),d2=Symbol.for("react.portal"),h2=Symbol.for("react.fragment"),f2=Symbol.for("react.strict_mode"),p2=Symbol.for("react.profiler"),m2=Symbol.for("react.provider"),g2=Symbol.for("react.context"),y2=Symbol.for("react.forward_ref"),v2=Symbol.for("react.suspense"),_2=Symbol.for("react.memo"),w2=Symbol.for("react.lazy"),tv=Symbol.iterator;function x2(t){return t===null||typeof t!="object"?null:(t=tv&&t[tv]||t["@@iterator"],typeof t=="function"?t:null)}var j1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M1=Object.assign,V1={};function ro(t,e,n){this.props=t,this.context=e,this.refs=V1,this.updater=n||j1}ro.prototype.isReactComponent={};ro.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ro.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function $1(){}$1.prototype=ro.prototype;function gm(t,e,n){this.props=t,this.context=e,this.refs=V1,this.updater=n||j1}var ym=gm.prototype=new $1;ym.constructor=gm;M1(ym,ro.prototype);ym.isPureReactComponent=!0;var nv=Array.isArray,F1=Object.prototype.hasOwnProperty,vm={current:null},U1={key:!0,ref:!0,__self:!0,__source:!0};function B1(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)F1.call(e,r)&&!U1.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ga,type:t,key:s,ref:o,props:i,_owner:vm.current}}function E2(t,e){return{$$typeof:Ga,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function _m(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ga}function T2(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var rv=/\/+/g;function yh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?T2(""+t.key):e.toString(36)}function uu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ga:case d2:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+yh(o,0):r,nv(i)?(n="",t!=null&&(n=t.replace(rv,"$&/")+"/"),uu(i,e,n,"",function(u){return u})):i!=null&&(_m(i)&&(i=E2(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(rv,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",nv(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+yh(s,a);o+=uu(s,e,n,l,i)}else if(l=x2(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+yh(s,a++),o+=uu(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function bl(t,e,n){if(t==null)return t;var r=[],i=0;return uu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function S2(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ct={current:null},cu={transition:null},I2={ReactCurrentDispatcher:Ct,ReactCurrentBatchConfig:cu,ReactCurrentOwner:vm};re.Children={map:bl,forEach:function(t,e,n){bl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return bl(t,function(){e++}),e},toArray:function(t){return bl(t,function(e){return e})||[]},only:function(t){if(!_m(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};re.Component=ro;re.Fragment=h2;re.Profiler=p2;re.PureComponent=gm;re.StrictMode=f2;re.Suspense=v2;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I2;re.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=M1({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=vm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)F1.call(e,l)&&!U1.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ga,type:t.type,key:i,ref:s,props:r,_owner:o}};re.createContext=function(t){return t={$$typeof:g2,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:m2,_context:t},t.Consumer=t};re.createElement=B1;re.createFactory=function(t){var e=B1.bind(null,t);return e.type=t,e};re.createRef=function(){return{current:null}};re.forwardRef=function(t){return{$$typeof:y2,render:t}};re.isValidElement=_m;re.lazy=function(t){return{$$typeof:w2,_payload:{_status:-1,_result:t},_init:S2}};re.memo=function(t,e){return{$$typeof:_2,type:t,compare:e===void 0?null:e}};re.startTransition=function(t){var e=cu.transition;cu.transition={};try{t()}finally{cu.transition=e}};re.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};re.useCallback=function(t,e){return Ct.current.useCallback(t,e)};re.useContext=function(t){return Ct.current.useContext(t)};re.useDebugValue=function(){};re.useDeferredValue=function(t){return Ct.current.useDeferredValue(t)};re.useEffect=function(t,e){return Ct.current.useEffect(t,e)};re.useId=function(){return Ct.current.useId()};re.useImperativeHandle=function(t,e,n){return Ct.current.useImperativeHandle(t,e,n)};re.useInsertionEffect=function(t,e){return Ct.current.useInsertionEffect(t,e)};re.useLayoutEffect=function(t,e){return Ct.current.useLayoutEffect(t,e)};re.useMemo=function(t,e){return Ct.current.useMemo(t,e)};re.useReducer=function(t,e,n){return Ct.current.useReducer(t,e,n)};re.useRef=function(t){return Ct.current.useRef(t)};re.useState=function(t){return Ct.current.useState(t)};re.useSyncExternalStore=function(t,e,n){return Ct.current.useSyncExternalStore(t,e,n)};re.useTransition=function(){return Ct.current.useTransition()};re.version="18.2.0";L1.exports=re;var m=L1.exports;const z1=c2(m),wm=u2({__proto__:null,default:z1},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R2=m,C2=Symbol.for("react.element"),k2=Symbol.for("react.fragment"),A2=Object.prototype.hasOwnProperty,P2=R2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,N2={key:!0,ref:!0,__self:!0,__source:!0};function W1(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)A2.call(e,r)&&!N2.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:C2,type:t,key:s,ref:o,props:i,_owner:P2.current}}Wc.Fragment=k2;Wc.jsx=W1;Wc.jsxs=W1;D1.exports=Wc;var d=D1.exports,Rf={},H1={exports:{}},Ht={},q1={exports:{}},K1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,O){var M=k.length;k.push(O);e:for(;0<M;){var A=M-1>>>1,V=k[A];if(0<i(V,O))k[A]=O,k[M]=V,M=A;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var O=k[0],M=k.pop();if(M!==O){k[0]=M;e:for(var A=0,V=k.length,W=V>>>1;A<W;){var q=2*(A+1)-1,Pe=k[q],ce=q+1,ie=k[ce];if(0>i(Pe,M))ce<V&&0>i(ie,Pe)?(k[A]=ie,k[ce]=M,A=ce):(k[A]=Pe,k[q]=M,A=q);else if(ce<V&&0>i(ie,M))k[A]=ie,k[ce]=M,A=ce;else break e}}return O}function i(k,O){var M=k.sortIndex-O.sortIndex;return M!==0?M:k.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,f=3,p=!1,v=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(k){for(var O=n(u);O!==null;){if(O.callback===null)r(u);else if(O.startTime<=k)r(u),O.sortIndex=O.expirationTime,e(l,O);else break;O=n(u)}}function E(k){if(_=!1,w(k),!v)if(n(l)!==null)v=!0,Q(T);else{var O=n(u);O!==null&&ae(E,O.startTime-k)}}function T(k,O){v=!1,_&&(_=!1,y(I),I=-1),p=!0;var M=f;try{for(w(O),h=n(l);h!==null&&(!(h.expirationTime>O)||k&&!N());){var A=h.callback;if(typeof A=="function"){h.callback=null,f=h.priorityLevel;var V=A(h.expirationTime<=O);O=t.unstable_now(),typeof V=="function"?h.callback=V:h===n(l)&&r(l),w(O)}else r(l);h=n(l)}if(h!==null)var W=!0;else{var q=n(u);q!==null&&ae(E,q.startTime-O),W=!1}return W}finally{h=null,f=M,p=!1}}var S=!1,R=null,I=-1,L=5,C=-1;function N(){return!(t.unstable_now()-C<L)}function G(){if(R!==null){var k=t.unstable_now();C=k;var O=!0;try{O=R(!0,k)}finally{O?$():(S=!1,R=null)}}else S=!1}var $;if(typeof g=="function")$=function(){g(G)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,te=z.port2;z.port1.onmessage=G,$=function(){te.postMessage(null)}}else $=function(){x(G,0)};function Q(k){R=k,S||(S=!0,$())}function ae(k,O){I=x(function(){k(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,Q(T))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(k){switch(f){case 1:case 2:case 3:var O=3;break;default:O=f}var M=f;f=O;try{return k()}finally{f=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,O){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var M=f;f=k;try{return O()}finally{f=M}},t.unstable_scheduleCallback=function(k,O,M){var A=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?A+M:A):M=A,k){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=M+V,k={id:c++,callback:O,priorityLevel:k,startTime:M,expirationTime:V,sortIndex:-1},M>A?(k.sortIndex=M,e(u,k),n(l)===null&&k===n(u)&&(_?(y(I),I=-1):_=!0,ae(E,M-A))):(k.sortIndex=V,e(l,k),v||p||(v=!0,Q(T))),k},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(k){var O=f;return function(){var M=f;f=O;try{return k.apply(this,arguments)}finally{f=M}}}})(K1);q1.exports=K1;var b2=q1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G1=m,Ut=b2;function b(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Q1=new Set,ra={};function Ki(t,e){Ms(t,e),Ms(t+"Capture",e)}function Ms(t,e){for(ra[t]=e,t=0;t<e.length;t++)Q1.add(e[t])}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cf=Object.prototype.hasOwnProperty,O2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,iv={},sv={};function D2(t){return Cf.call(sv,t)?!0:Cf.call(iv,t)?!1:O2.test(t)?sv[t]=!0:(iv[t]=!0,!1)}function L2(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function j2(t,e,n,r){if(e===null||typeof e>"u"||L2(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function kt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var it={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){it[t]=new kt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];it[e]=new kt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){it[t]=new kt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){it[t]=new kt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){it[t]=new kt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){it[t]=new kt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){it[t]=new kt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){it[t]=new kt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){it[t]=new kt(t,5,!1,t.toLowerCase(),null,!1,!1)});var xm=/[\-:]([a-z])/g;function Em(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(xm,Em);it[e]=new kt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(xm,Em);it[e]=new kt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(xm,Em);it[e]=new kt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){it[t]=new kt(t,1,!1,t.toLowerCase(),null,!1,!1)});it.xlinkHref=new kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){it[t]=new kt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Tm(t,e,n,r){var i=it.hasOwnProperty(e)?it[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(j2(e,n,i,r)&&(n=null),r||i===null?D2(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ar=G1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ol=Symbol.for("react.element"),us=Symbol.for("react.portal"),cs=Symbol.for("react.fragment"),Sm=Symbol.for("react.strict_mode"),kf=Symbol.for("react.profiler"),X1=Symbol.for("react.provider"),Y1=Symbol.for("react.context"),Im=Symbol.for("react.forward_ref"),Af=Symbol.for("react.suspense"),Pf=Symbol.for("react.suspense_list"),Rm=Symbol.for("react.memo"),fr=Symbol.for("react.lazy"),J1=Symbol.for("react.offscreen"),ov=Symbol.iterator;function vo(t){return t===null||typeof t!="object"?null:(t=ov&&t[ov]||t["@@iterator"],typeof t=="function"?t:null)}var ke=Object.assign,vh;function Ao(t){if(vh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);vh=e&&e[1]||""}return`
`+vh+t}var _h=!1;function wh(t,e){if(!t||_h)return"";_h=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{_h=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ao(t):""}function M2(t){switch(t.tag){case 5:return Ao(t.type);case 16:return Ao("Lazy");case 13:return Ao("Suspense");case 19:return Ao("SuspenseList");case 0:case 2:case 15:return t=wh(t.type,!1),t;case 11:return t=wh(t.type.render,!1),t;case 1:return t=wh(t.type,!0),t;default:return""}}function Nf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case cs:return"Fragment";case us:return"Portal";case kf:return"Profiler";case Sm:return"StrictMode";case Af:return"Suspense";case Pf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Y1:return(t.displayName||"Context")+".Consumer";case X1:return(t._context.displayName||"Context")+".Provider";case Im:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Rm:return e=t.displayName||null,e!==null?e:Nf(t.type)||"Memo";case fr:e=t._payload,t=t._init;try{return Nf(t(e))}catch{}}return null}function V2(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Nf(e);case 8:return e===Sm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Br(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Z1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function $2(t){var e=Z1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Dl(t){t._valueTracker||(t._valueTracker=$2(t))}function ew(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Z1(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Nu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function bf(t,e){var n=e.checked;return ke({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function av(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Br(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function tw(t,e){e=e.checked,e!=null&&Tm(t,"checked",e,!1)}function Of(t,e){tw(t,e);var n=Br(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Df(t,e.type,n):e.hasOwnProperty("defaultValue")&&Df(t,e.type,Br(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function lv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Df(t,e,n){(e!=="number"||Nu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Po=Array.isArray;function Ts(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Br(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Lf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(b(91));return ke({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function uv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(b(92));if(Po(n)){if(1<n.length)throw Error(b(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Br(n)}}function nw(t,e){var n=Br(e.value),r=Br(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function cv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function rw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?rw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ll,iw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ll=Ll||document.createElement("div"),Ll.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ll.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ia(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var $o={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},F2=["Webkit","ms","Moz","O"];Object.keys($o).forEach(function(t){F2.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),$o[e]=$o[t]})});function sw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||$o.hasOwnProperty(t)&&$o[t]?(""+e).trim():e+"px"}function ow(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=sw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var U2=ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mf(t,e){if(e){if(U2[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(b(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(b(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(b(61))}if(e.style!=null&&typeof e.style!="object")throw Error(b(62))}}function Vf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $f=null;function Cm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ff=null,Ss=null,Is=null;function dv(t){if(t=Ya(t)){if(typeof Ff!="function")throw Error(b(280));var e=t.stateNode;e&&(e=Qc(e),Ff(t.stateNode,t.type,e))}}function aw(t){Ss?Is?Is.push(t):Is=[t]:Ss=t}function lw(){if(Ss){var t=Ss,e=Is;if(Is=Ss=null,dv(t),e)for(t=0;t<e.length;t++)dv(e[t])}}function uw(t,e){return t(e)}function cw(){}var xh=!1;function dw(t,e,n){if(xh)return t(e,n);xh=!0;try{return uw(t,e,n)}finally{xh=!1,(Ss!==null||Is!==null)&&(cw(),lw())}}function sa(t,e){var n=t.stateNode;if(n===null)return null;var r=Qc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(b(231,e,typeof n));return n}var Uf=!1;if(Qn)try{var _o={};Object.defineProperty(_o,"passive",{get:function(){Uf=!0}}),window.addEventListener("test",_o,_o),window.removeEventListener("test",_o,_o)}catch{Uf=!1}function B2(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Fo=!1,bu=null,Ou=!1,Bf=null,z2={onError:function(t){Fo=!0,bu=t}};function W2(t,e,n,r,i,s,o,a,l){Fo=!1,bu=null,B2.apply(z2,arguments)}function H2(t,e,n,r,i,s,o,a,l){if(W2.apply(this,arguments),Fo){if(Fo){var u=bu;Fo=!1,bu=null}else throw Error(b(198));Ou||(Ou=!0,Bf=u)}}function Gi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function hw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function hv(t){if(Gi(t)!==t)throw Error(b(188))}function q2(t){var e=t.alternate;if(!e){if(e=Gi(t),e===null)throw Error(b(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return hv(i),t;if(s===r)return hv(i),e;s=s.sibling}throw Error(b(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(b(189))}}if(n.alternate!==r)throw Error(b(190))}if(n.tag!==3)throw Error(b(188));return n.stateNode.current===n?t:e}function fw(t){return t=q2(t),t!==null?pw(t):null}function pw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=pw(t);if(e!==null)return e;t=t.sibling}return null}var mw=Ut.unstable_scheduleCallback,fv=Ut.unstable_cancelCallback,K2=Ut.unstable_shouldYield,G2=Ut.unstable_requestPaint,Le=Ut.unstable_now,Q2=Ut.unstable_getCurrentPriorityLevel,km=Ut.unstable_ImmediatePriority,gw=Ut.unstable_UserBlockingPriority,Du=Ut.unstable_NormalPriority,X2=Ut.unstable_LowPriority,yw=Ut.unstable_IdlePriority,Hc=null,Sn=null;function Y2(t){if(Sn&&typeof Sn.onCommitFiberRoot=="function")try{Sn.onCommitFiberRoot(Hc,t,void 0,(t.current.flags&128)===128)}catch{}}var cn=Math.clz32?Math.clz32:eC,J2=Math.log,Z2=Math.LN2;function eC(t){return t>>>=0,t===0?32:31-(J2(t)/Z2|0)|0}var jl=64,Ml=4194304;function No(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Lu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=No(a):(s&=o,s!==0&&(r=No(s)))}else o=n&~i,o!==0?r=No(o):s!==0&&(r=No(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-cn(e),i=1<<n,r|=t[n],e&=~i;return r}function tC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-cn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=tC(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function zf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function vw(){var t=jl;return jl<<=1,!(jl&4194240)&&(jl=64),t}function Eh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Qa(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-cn(e),t[e]=n}function rC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-cn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Am(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-cn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var de=0;function _w(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ww,Pm,xw,Ew,Tw,Wf=!1,Vl=[],kr=null,Ar=null,Pr=null,oa=new Map,aa=new Map,mr=[],iC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pv(t,e){switch(t){case"focusin":case"focusout":kr=null;break;case"dragenter":case"dragleave":Ar=null;break;case"mouseover":case"mouseout":Pr=null;break;case"pointerover":case"pointerout":oa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":aa.delete(e.pointerId)}}function wo(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ya(e),e!==null&&Pm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function sC(t,e,n,r,i){switch(e){case"focusin":return kr=wo(kr,t,e,n,r,i),!0;case"dragenter":return Ar=wo(Ar,t,e,n,r,i),!0;case"mouseover":return Pr=wo(Pr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return oa.set(s,wo(oa.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,aa.set(s,wo(aa.get(s)||null,t,e,n,r,i)),!0}return!1}function Sw(t){var e=di(t.target);if(e!==null){var n=Gi(e);if(n!==null){if(e=n.tag,e===13){if(e=hw(n),e!==null){t.blockedOn=e,Tw(t.priority,function(){xw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function du(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Hf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);$f=r,n.target.dispatchEvent(r),$f=null}else return e=Ya(n),e!==null&&Pm(e),t.blockedOn=n,!1;e.shift()}return!0}function mv(t,e,n){du(t)&&n.delete(e)}function oC(){Wf=!1,kr!==null&&du(kr)&&(kr=null),Ar!==null&&du(Ar)&&(Ar=null),Pr!==null&&du(Pr)&&(Pr=null),oa.forEach(mv),aa.forEach(mv)}function xo(t,e){t.blockedOn===e&&(t.blockedOn=null,Wf||(Wf=!0,Ut.unstable_scheduleCallback(Ut.unstable_NormalPriority,oC)))}function la(t){function e(i){return xo(i,t)}if(0<Vl.length){xo(Vl[0],t);for(var n=1;n<Vl.length;n++){var r=Vl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(kr!==null&&xo(kr,t),Ar!==null&&xo(Ar,t),Pr!==null&&xo(Pr,t),oa.forEach(e),aa.forEach(e),n=0;n<mr.length;n++)r=mr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<mr.length&&(n=mr[0],n.blockedOn===null);)Sw(n),n.blockedOn===null&&mr.shift()}var Rs=ar.ReactCurrentBatchConfig,ju=!0;function aC(t,e,n,r){var i=de,s=Rs.transition;Rs.transition=null;try{de=1,Nm(t,e,n,r)}finally{de=i,Rs.transition=s}}function lC(t,e,n,r){var i=de,s=Rs.transition;Rs.transition=null;try{de=4,Nm(t,e,n,r)}finally{de=i,Rs.transition=s}}function Nm(t,e,n,r){if(ju){var i=Hf(t,e,n,r);if(i===null)bh(t,e,r,Mu,n),pv(t,r);else if(sC(i,t,e,n,r))r.stopPropagation();else if(pv(t,r),e&4&&-1<iC.indexOf(t)){for(;i!==null;){var s=Ya(i);if(s!==null&&ww(s),s=Hf(t,e,n,r),s===null&&bh(t,e,r,Mu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else bh(t,e,r,null,n)}}var Mu=null;function Hf(t,e,n,r){if(Mu=null,t=Cm(r),t=di(t),t!==null)if(e=Gi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=hw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Mu=t,null}function Iw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Q2()){case km:return 1;case gw:return 4;case Du:case X2:return 16;case yw:return 536870912;default:return 16}default:return 16}}var Er=null,bm=null,hu=null;function Rw(){if(hu)return hu;var t,e=bm,n=e.length,r,i="value"in Er?Er.value:Er.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return hu=i.slice(t,1<r?1-r:void 0)}function fu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function $l(){return!0}function gv(){return!1}function qt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?$l:gv,this.isPropagationStopped=gv,this}return ke(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$l)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$l)},persist:function(){},isPersistent:$l}),e}var io={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Om=qt(io),Xa=ke({},io,{view:0,detail:0}),uC=qt(Xa),Th,Sh,Eo,qc=ke({},Xa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Eo&&(Eo&&t.type==="mousemove"?(Th=t.screenX-Eo.screenX,Sh=t.screenY-Eo.screenY):Sh=Th=0,Eo=t),Th)},movementY:function(t){return"movementY"in t?t.movementY:Sh}}),yv=qt(qc),cC=ke({},qc,{dataTransfer:0}),dC=qt(cC),hC=ke({},Xa,{relatedTarget:0}),Ih=qt(hC),fC=ke({},io,{animationName:0,elapsedTime:0,pseudoElement:0}),pC=qt(fC),mC=ke({},io,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gC=qt(mC),yC=ke({},io,{data:0}),vv=qt(yC),vC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_C={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=wC[t])?!!e[t]:!1}function Dm(){return xC}var EC=ke({},Xa,{key:function(t){if(t.key){var e=vC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=fu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_C[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dm,charCode:function(t){return t.type==="keypress"?fu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),TC=qt(EC),SC=ke({},qc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_v=qt(SC),IC=ke({},Xa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dm}),RC=qt(IC),CC=ke({},io,{propertyName:0,elapsedTime:0,pseudoElement:0}),kC=qt(CC),AC=ke({},qc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),PC=qt(AC),NC=[9,13,27,32],Lm=Qn&&"CompositionEvent"in window,Uo=null;Qn&&"documentMode"in document&&(Uo=document.documentMode);var bC=Qn&&"TextEvent"in window&&!Uo,Cw=Qn&&(!Lm||Uo&&8<Uo&&11>=Uo),wv=String.fromCharCode(32),xv=!1;function kw(t,e){switch(t){case"keyup":return NC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Aw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ds=!1;function OC(t,e){switch(t){case"compositionend":return Aw(e);case"keypress":return e.which!==32?null:(xv=!0,wv);case"textInput":return t=e.data,t===wv&&xv?null:t;default:return null}}function DC(t,e){if(ds)return t==="compositionend"||!Lm&&kw(t,e)?(t=Rw(),hu=bm=Er=null,ds=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Cw&&e.locale!=="ko"?null:e.data;default:return null}}var LC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ev(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!LC[t.type]:e==="textarea"}function Pw(t,e,n,r){aw(r),e=Vu(e,"onChange"),0<e.length&&(n=new Om("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Bo=null,ua=null;function jC(t){Uw(t,0)}function Kc(t){var e=ps(t);if(ew(e))return t}function MC(t,e){if(t==="change")return e}var Nw=!1;if(Qn){var Rh;if(Qn){var Ch="oninput"in document;if(!Ch){var Tv=document.createElement("div");Tv.setAttribute("oninput","return;"),Ch=typeof Tv.oninput=="function"}Rh=Ch}else Rh=!1;Nw=Rh&&(!document.documentMode||9<document.documentMode)}function Sv(){Bo&&(Bo.detachEvent("onpropertychange",bw),ua=Bo=null)}function bw(t){if(t.propertyName==="value"&&Kc(ua)){var e=[];Pw(e,ua,t,Cm(t)),dw(jC,e)}}function VC(t,e,n){t==="focusin"?(Sv(),Bo=e,ua=n,Bo.attachEvent("onpropertychange",bw)):t==="focusout"&&Sv()}function $C(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Kc(ua)}function FC(t,e){if(t==="click")return Kc(e)}function UC(t,e){if(t==="input"||t==="change")return Kc(e)}function BC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hn=typeof Object.is=="function"?Object.is:BC;function ca(t,e){if(hn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Cf.call(e,i)||!hn(t[i],e[i]))return!1}return!0}function Iv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Rv(t,e){var n=Iv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Iv(n)}}function Ow(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ow(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Dw(){for(var t=window,e=Nu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Nu(t.document)}return e}function jm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function zC(t){var e=Dw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Ow(n.ownerDocument.documentElement,n)){if(r!==null&&jm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Rv(n,s);var o=Rv(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var WC=Qn&&"documentMode"in document&&11>=document.documentMode,hs=null,qf=null,zo=null,Kf=!1;function Cv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Kf||hs==null||hs!==Nu(r)||(r=hs,"selectionStart"in r&&jm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),zo&&ca(zo,r)||(zo=r,r=Vu(qf,"onSelect"),0<r.length&&(e=new Om("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=hs)))}function Fl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var fs={animationend:Fl("Animation","AnimationEnd"),animationiteration:Fl("Animation","AnimationIteration"),animationstart:Fl("Animation","AnimationStart"),transitionend:Fl("Transition","TransitionEnd")},kh={},Lw={};Qn&&(Lw=document.createElement("div").style,"AnimationEvent"in window||(delete fs.animationend.animation,delete fs.animationiteration.animation,delete fs.animationstart.animation),"TransitionEvent"in window||delete fs.transitionend.transition);function Gc(t){if(kh[t])return kh[t];if(!fs[t])return t;var e=fs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Lw)return kh[t]=e[n];return t}var jw=Gc("animationend"),Mw=Gc("animationiteration"),Vw=Gc("animationstart"),$w=Gc("transitionend"),Fw=new Map,kv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zr(t,e){Fw.set(t,e),Ki(e,[t])}for(var Ah=0;Ah<kv.length;Ah++){var Ph=kv[Ah],HC=Ph.toLowerCase(),qC=Ph[0].toUpperCase()+Ph.slice(1);Zr(HC,"on"+qC)}Zr(jw,"onAnimationEnd");Zr(Mw,"onAnimationIteration");Zr(Vw,"onAnimationStart");Zr("dblclick","onDoubleClick");Zr("focusin","onFocus");Zr("focusout","onBlur");Zr($w,"onTransitionEnd");Ms("onMouseEnter",["mouseout","mouseover"]);Ms("onMouseLeave",["mouseout","mouseover"]);Ms("onPointerEnter",["pointerout","pointerover"]);Ms("onPointerLeave",["pointerout","pointerover"]);Ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ki("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KC=new Set("cancel close invalid load scroll toggle".split(" ").concat(bo));function Av(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,H2(r,e,void 0,t),t.currentTarget=null}function Uw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Av(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Av(i,a,u),s=l}}}if(Ou)throw t=Bf,Ou=!1,Bf=null,t}function ye(t,e){var n=e[Jf];n===void 0&&(n=e[Jf]=new Set);var r=t+"__bubble";n.has(r)||(Bw(e,t,2,!1),n.add(r))}function Nh(t,e,n){var r=0;e&&(r|=4),Bw(n,t,r,e)}var Ul="_reactListening"+Math.random().toString(36).slice(2);function da(t){if(!t[Ul]){t[Ul]=!0,Q1.forEach(function(n){n!=="selectionchange"&&(KC.has(n)||Nh(n,!1,t),Nh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ul]||(e[Ul]=!0,Nh("selectionchange",!1,e))}}function Bw(t,e,n,r){switch(Iw(e)){case 1:var i=aC;break;case 4:i=lC;break;default:i=Nm}n=i.bind(null,e,n,t),i=void 0,!Uf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function bh(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=di(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}dw(function(){var u=s,c=Cm(n),h=[];e:{var f=Fw.get(t);if(f!==void 0){var p=Om,v=t;switch(t){case"keypress":if(fu(n)===0)break e;case"keydown":case"keyup":p=TC;break;case"focusin":v="focus",p=Ih;break;case"focusout":v="blur",p=Ih;break;case"beforeblur":case"afterblur":p=Ih;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=yv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=dC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=RC;break;case jw:case Mw:case Vw:p=pC;break;case $w:p=kC;break;case"scroll":p=uC;break;case"wheel":p=PC;break;case"copy":case"cut":case"paste":p=gC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=_v}var _=(e&4)!==0,x=!_&&t==="scroll",y=_?f!==null?f+"Capture":null:f;_=[];for(var g=u,w;g!==null;){w=g;var E=w.stateNode;if(w.tag===5&&E!==null&&(w=E,y!==null&&(E=sa(g,y),E!=null&&_.push(ha(g,E,w)))),x)break;g=g.return}0<_.length&&(f=new p(f,v,null,n,c),h.push({event:f,listeners:_}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==$f&&(v=n.relatedTarget||n.fromElement)&&(di(v)||v[Xn]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=u,v=v?di(v):null,v!==null&&(x=Gi(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(_=yv,E="onMouseLeave",y="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(_=_v,E="onPointerLeave",y="onPointerEnter",g="pointer"),x=p==null?f:ps(p),w=v==null?f:ps(v),f=new _(E,g+"leave",p,n,c),f.target=x,f.relatedTarget=w,E=null,di(c)===u&&(_=new _(y,g+"enter",v,n,c),_.target=w,_.relatedTarget=x,E=_),x=E,p&&v)t:{for(_=p,y=v,g=0,w=_;w;w=rs(w))g++;for(w=0,E=y;E;E=rs(E))w++;for(;0<g-w;)_=rs(_),g--;for(;0<w-g;)y=rs(y),w--;for(;g--;){if(_===y||y!==null&&_===y.alternate)break t;_=rs(_),y=rs(y)}_=null}else _=null;p!==null&&Pv(h,f,p,_,!1),v!==null&&x!==null&&Pv(h,x,v,_,!0)}}e:{if(f=u?ps(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var T=MC;else if(Ev(f))if(Nw)T=UC;else{T=$C;var S=VC}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=FC);if(T&&(T=T(t,u))){Pw(h,T,n,c);break e}S&&S(t,f,u),t==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&Df(f,"number",f.value)}switch(S=u?ps(u):window,t){case"focusin":(Ev(S)||S.contentEditable==="true")&&(hs=S,qf=u,zo=null);break;case"focusout":zo=qf=hs=null;break;case"mousedown":Kf=!0;break;case"contextmenu":case"mouseup":case"dragend":Kf=!1,Cv(h,n,c);break;case"selectionchange":if(WC)break;case"keydown":case"keyup":Cv(h,n,c)}var R;if(Lm)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else ds?kw(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(Cw&&n.locale!=="ko"&&(ds||I!=="onCompositionStart"?I==="onCompositionEnd"&&ds&&(R=Rw()):(Er=c,bm="value"in Er?Er.value:Er.textContent,ds=!0)),S=Vu(u,I),0<S.length&&(I=new vv(I,t,null,n,c),h.push({event:I,listeners:S}),R?I.data=R:(R=Aw(n),R!==null&&(I.data=R)))),(R=bC?OC(t,n):DC(t,n))&&(u=Vu(u,"onBeforeInput"),0<u.length&&(c=new vv("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=R))}Uw(h,e)})}function ha(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Vu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=sa(t,n),s!=null&&r.unshift(ha(t,s,i)),s=sa(t,e),s!=null&&r.push(ha(t,s,i))),t=t.return}return r}function rs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Pv(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=sa(n,s),l!=null&&o.unshift(ha(n,l,a))):i||(l=sa(n,s),l!=null&&o.push(ha(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var GC=/\r\n?/g,QC=/\u0000|\uFFFD/g;function Nv(t){return(typeof t=="string"?t:""+t).replace(GC,`
`).replace(QC,"")}function Bl(t,e,n){if(e=Nv(e),Nv(t)!==e&&n)throw Error(b(425))}function $u(){}var Gf=null,Qf=null;function Xf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Yf=typeof setTimeout=="function"?setTimeout:void 0,XC=typeof clearTimeout=="function"?clearTimeout:void 0,bv=typeof Promise=="function"?Promise:void 0,YC=typeof queueMicrotask=="function"?queueMicrotask:typeof bv<"u"?function(t){return bv.resolve(null).then(t).catch(JC)}:Yf;function JC(t){setTimeout(function(){throw t})}function Oh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),la(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);la(e)}function Nr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ov(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var so=Math.random().toString(36).slice(2),yn="__reactFiber$"+so,fa="__reactProps$"+so,Xn="__reactContainer$"+so,Jf="__reactEvents$"+so,ZC="__reactListeners$"+so,ek="__reactHandles$"+so;function di(t){var e=t[yn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Xn]||n[yn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ov(t);t!==null;){if(n=t[yn])return n;t=Ov(t)}return e}t=n,n=t.parentNode}return null}function Ya(t){return t=t[yn]||t[Xn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ps(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(b(33))}function Qc(t){return t[fa]||null}var Zf=[],ms=-1;function ei(t){return{current:t}}function xe(t){0>ms||(t.current=Zf[ms],Zf[ms]=null,ms--)}function me(t,e){ms++,Zf[ms]=t.current,t.current=e}var zr={},yt=ei(zr),Nt=ei(!1),Ri=zr;function Vs(t,e){var n=t.type.contextTypes;if(!n)return zr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function bt(t){return t=t.childContextTypes,t!=null}function Fu(){xe(Nt),xe(yt)}function Dv(t,e,n){if(yt.current!==zr)throw Error(b(168));me(yt,e),me(Nt,n)}function zw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(b(108,V2(t)||"Unknown",i));return ke({},n,r)}function Uu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||zr,Ri=yt.current,me(yt,t),me(Nt,Nt.current),!0}function Lv(t,e,n){var r=t.stateNode;if(!r)throw Error(b(169));n?(t=zw(t,e,Ri),r.__reactInternalMemoizedMergedChildContext=t,xe(Nt),xe(yt),me(yt,t)):xe(Nt),me(Nt,n)}var $n=null,Xc=!1,Dh=!1;function Ww(t){$n===null?$n=[t]:$n.push(t)}function tk(t){Xc=!0,Ww(t)}function ti(){if(!Dh&&$n!==null){Dh=!0;var t=0,e=de;try{var n=$n;for(de=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}$n=null,Xc=!1}catch(i){throw $n!==null&&($n=$n.slice(t+1)),mw(km,ti),i}finally{de=e,Dh=!1}}return null}var gs=[],ys=0,Bu=null,zu=0,Gt=[],Qt=0,Ci=null,Fn=1,Un="";function ai(t,e){gs[ys++]=zu,gs[ys++]=Bu,Bu=t,zu=e}function Hw(t,e,n){Gt[Qt++]=Fn,Gt[Qt++]=Un,Gt[Qt++]=Ci,Ci=t;var r=Fn;t=Un;var i=32-cn(r)-1;r&=~(1<<i),n+=1;var s=32-cn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Fn=1<<32-cn(e)+i|n<<i|r,Un=s+t}else Fn=1<<s|n<<i|r,Un=t}function Mm(t){t.return!==null&&(ai(t,1),Hw(t,1,0))}function Vm(t){for(;t===Bu;)Bu=gs[--ys],gs[ys]=null,zu=gs[--ys],gs[ys]=null;for(;t===Ci;)Ci=Gt[--Qt],Gt[Qt]=null,Un=Gt[--Qt],Gt[Qt]=null,Fn=Gt[--Qt],Gt[Qt]=null}var $t=null,Mt=null,Se=!1,an=null;function qw(t,e){var n=Jt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function jv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,$t=t,Mt=Nr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,$t=t,Mt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ci!==null?{id:Fn,overflow:Un}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Jt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,$t=t,Mt=null,!0):!1;default:return!1}}function ep(t){return(t.mode&1)!==0&&(t.flags&128)===0}function tp(t){if(Se){var e=Mt;if(e){var n=e;if(!jv(t,e)){if(ep(t))throw Error(b(418));e=Nr(n.nextSibling);var r=$t;e&&jv(t,e)?qw(r,n):(t.flags=t.flags&-4097|2,Se=!1,$t=t)}}else{if(ep(t))throw Error(b(418));t.flags=t.flags&-4097|2,Se=!1,$t=t}}}function Mv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;$t=t}function zl(t){if(t!==$t)return!1;if(!Se)return Mv(t),Se=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Xf(t.type,t.memoizedProps)),e&&(e=Mt)){if(ep(t))throw Kw(),Error(b(418));for(;e;)qw(t,e),e=Nr(e.nextSibling)}if(Mv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(b(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Mt=Nr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Mt=null}}else Mt=$t?Nr(t.stateNode.nextSibling):null;return!0}function Kw(){for(var t=Mt;t;)t=Nr(t.nextSibling)}function $s(){Mt=$t=null,Se=!1}function $m(t){an===null?an=[t]:an.push(t)}var nk=ar.ReactCurrentBatchConfig;function sn(t,e){if(t&&t.defaultProps){e=ke({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Wu=ei(null),Hu=null,vs=null,Fm=null;function Um(){Fm=vs=Hu=null}function Bm(t){var e=Wu.current;xe(Wu),t._currentValue=e}function np(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Cs(t,e){Hu=t,Fm=vs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Pt=!0),t.firstContext=null)}function en(t){var e=t._currentValue;if(Fm!==t)if(t={context:t,memoizedValue:e,next:null},vs===null){if(Hu===null)throw Error(b(308));vs=t,Hu.dependencies={lanes:0,firstContext:t}}else vs=vs.next=t;return e}var hi=null;function zm(t){hi===null?hi=[t]:hi.push(t)}function Gw(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,zm(e)):(n.next=i.next,i.next=n),e.interleaved=n,Yn(t,r)}function Yn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var pr=!1;function Wm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Hn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function br(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,oe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Yn(t,n)}return i=r.interleaved,i===null?(e.next=e,zm(r)):(e.next=i.next,i.next=e),r.interleaved=e,Yn(t,n)}function pu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Am(t,n)}}function Vv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function qu(t,e,n,r){var i=t.updateQueue;pr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,_=a;switch(f=e,p=n,_.tag){case 1:if(v=_.payload,typeof v=="function"){h=v.call(p,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=_.payload,f=typeof v=="function"?v.call(p,h,f):v,f==null)break e;h=ke({},h,f);break e;case 2:pr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=h):c=c.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ai|=o,t.lanes=o,t.memoizedState=h}}function $v(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(b(191,i));i.call(r)}}}var Xw=new G1.Component().refs;function rp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ke({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Yc={isMounted:function(t){return(t=t._reactInternals)?Gi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=It(),i=Dr(t),s=Hn(r,i);s.payload=e,n!=null&&(s.callback=n),e=br(t,s,i),e!==null&&(dn(e,t,i,r),pu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=It(),i=Dr(t),s=Hn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=br(t,s,i),e!==null&&(dn(e,t,i,r),pu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=It(),r=Dr(t),i=Hn(n,r);i.tag=2,e!=null&&(i.callback=e),e=br(t,i,r),e!==null&&(dn(e,t,r,n),pu(e,t,r))}};function Fv(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ca(n,r)||!ca(i,s):!0}function Yw(t,e,n){var r=!1,i=zr,s=e.contextType;return typeof s=="object"&&s!==null?s=en(s):(i=bt(e)?Ri:yt.current,r=e.contextTypes,s=(r=r!=null)?Vs(t,i):zr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Yc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Uv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Yc.enqueueReplaceState(e,e.state,null)}function ip(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Xw,Wm(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=en(s):(s=bt(e)?Ri:yt.current,i.context=Vs(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(rp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Yc.enqueueReplaceState(i,i.state,null),qu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function To(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(b(309));var r=n.stateNode}if(!r)throw Error(b(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===Xw&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(b(284));if(!n._owner)throw Error(b(290,t))}return t}function Wl(t,e){throw t=Object.prototype.toString.call(e),Error(b(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Bv(t){var e=t._init;return e(t._payload)}function Jw(t){function e(y,g){if(t){var w=y.deletions;w===null?(y.deletions=[g],y.flags|=16):w.push(g)}}function n(y,g){if(!t)return null;for(;g!==null;)e(y,g),g=g.sibling;return null}function r(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function i(y,g){return y=Lr(y,g),y.index=0,y.sibling=null,y}function s(y,g,w){return y.index=w,t?(w=y.alternate,w!==null?(w=w.index,w<g?(y.flags|=2,g):w):(y.flags|=2,g)):(y.flags|=1048576,g)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,g,w,E){return g===null||g.tag!==6?(g=Uh(w,y.mode,E),g.return=y,g):(g=i(g,w),g.return=y,g)}function l(y,g,w,E){var T=w.type;return T===cs?c(y,g,w.props.children,E,w.key):g!==null&&(g.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===fr&&Bv(T)===g.type)?(E=i(g,w.props),E.ref=To(y,g,w),E.return=y,E):(E=wu(w.type,w.key,w.props,null,y.mode,E),E.ref=To(y,g,w),E.return=y,E)}function u(y,g,w,E){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=Bh(w,y.mode,E),g.return=y,g):(g=i(g,w.children||[]),g.return=y,g)}function c(y,g,w,E,T){return g===null||g.tag!==7?(g=wi(w,y.mode,E,T),g.return=y,g):(g=i(g,w),g.return=y,g)}function h(y,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Uh(""+g,y.mode,w),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ol:return w=wu(g.type,g.key,g.props,null,y.mode,w),w.ref=To(y,null,g),w.return=y,w;case us:return g=Bh(g,y.mode,w),g.return=y,g;case fr:var E=g._init;return h(y,E(g._payload),w)}if(Po(g)||vo(g))return g=wi(g,y.mode,w,null),g.return=y,g;Wl(y,g)}return null}function f(y,g,w,E){var T=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return T!==null?null:a(y,g,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ol:return w.key===T?l(y,g,w,E):null;case us:return w.key===T?u(y,g,w,E):null;case fr:return T=w._init,f(y,g,T(w._payload),E)}if(Po(w)||vo(w))return T!==null?null:c(y,g,w,E,null);Wl(y,w)}return null}function p(y,g,w,E,T){if(typeof E=="string"&&E!==""||typeof E=="number")return y=y.get(w)||null,a(g,y,""+E,T);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ol:return y=y.get(E.key===null?w:E.key)||null,l(g,y,E,T);case us:return y=y.get(E.key===null?w:E.key)||null,u(g,y,E,T);case fr:var S=E._init;return p(y,g,w,S(E._payload),T)}if(Po(E)||vo(E))return y=y.get(w)||null,c(g,y,E,T,null);Wl(g,E)}return null}function v(y,g,w,E){for(var T=null,S=null,R=g,I=g=0,L=null;R!==null&&I<w.length;I++){R.index>I?(L=R,R=null):L=R.sibling;var C=f(y,R,w[I],E);if(C===null){R===null&&(R=L);break}t&&R&&C.alternate===null&&e(y,R),g=s(C,g,I),S===null?T=C:S.sibling=C,S=C,R=L}if(I===w.length)return n(y,R),Se&&ai(y,I),T;if(R===null){for(;I<w.length;I++)R=h(y,w[I],E),R!==null&&(g=s(R,g,I),S===null?T=R:S.sibling=R,S=R);return Se&&ai(y,I),T}for(R=r(y,R);I<w.length;I++)L=p(R,y,I,w[I],E),L!==null&&(t&&L.alternate!==null&&R.delete(L.key===null?I:L.key),g=s(L,g,I),S===null?T=L:S.sibling=L,S=L);return t&&R.forEach(function(N){return e(y,N)}),Se&&ai(y,I),T}function _(y,g,w,E){var T=vo(w);if(typeof T!="function")throw Error(b(150));if(w=T.call(w),w==null)throw Error(b(151));for(var S=T=null,R=g,I=g=0,L=null,C=w.next();R!==null&&!C.done;I++,C=w.next()){R.index>I?(L=R,R=null):L=R.sibling;var N=f(y,R,C.value,E);if(N===null){R===null&&(R=L);break}t&&R&&N.alternate===null&&e(y,R),g=s(N,g,I),S===null?T=N:S.sibling=N,S=N,R=L}if(C.done)return n(y,R),Se&&ai(y,I),T;if(R===null){for(;!C.done;I++,C=w.next())C=h(y,C.value,E),C!==null&&(g=s(C,g,I),S===null?T=C:S.sibling=C,S=C);return Se&&ai(y,I),T}for(R=r(y,R);!C.done;I++,C=w.next())C=p(R,y,I,C.value,E),C!==null&&(t&&C.alternate!==null&&R.delete(C.key===null?I:C.key),g=s(C,g,I),S===null?T=C:S.sibling=C,S=C);return t&&R.forEach(function(G){return e(y,G)}),Se&&ai(y,I),T}function x(y,g,w,E){if(typeof w=="object"&&w!==null&&w.type===cs&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Ol:e:{for(var T=w.key,S=g;S!==null;){if(S.key===T){if(T=w.type,T===cs){if(S.tag===7){n(y,S.sibling),g=i(S,w.props.children),g.return=y,y=g;break e}}else if(S.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===fr&&Bv(T)===S.type){n(y,S.sibling),g=i(S,w.props),g.ref=To(y,S,w),g.return=y,y=g;break e}n(y,S);break}else e(y,S);S=S.sibling}w.type===cs?(g=wi(w.props.children,y.mode,E,w.key),g.return=y,y=g):(E=wu(w.type,w.key,w.props,null,y.mode,E),E.ref=To(y,g,w),E.return=y,y=E)}return o(y);case us:e:{for(S=w.key;g!==null;){if(g.key===S)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){n(y,g.sibling),g=i(g,w.children||[]),g.return=y,y=g;break e}else{n(y,g);break}else e(y,g);g=g.sibling}g=Bh(w,y.mode,E),g.return=y,y=g}return o(y);case fr:return S=w._init,x(y,g,S(w._payload),E)}if(Po(w))return v(y,g,w,E);if(vo(w))return _(y,g,w,E);Wl(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,g!==null&&g.tag===6?(n(y,g.sibling),g=i(g,w),g.return=y,y=g):(n(y,g),g=Uh(w,y.mode,E),g.return=y,y=g),o(y)):n(y,g)}return x}var Fs=Jw(!0),Zw=Jw(!1),Ja={},In=ei(Ja),pa=ei(Ja),ma=ei(Ja);function fi(t){if(t===Ja)throw Error(b(174));return t}function Hm(t,e){switch(me(ma,e),me(pa,t),me(In,Ja),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:jf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=jf(e,t)}xe(In),me(In,e)}function Us(){xe(In),xe(pa),xe(ma)}function ex(t){fi(ma.current);var e=fi(In.current),n=jf(e,t.type);e!==n&&(me(pa,t),me(In,n))}function qm(t){pa.current===t&&(xe(In),xe(pa))}var Re=ei(0);function Ku(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Lh=[];function Km(){for(var t=0;t<Lh.length;t++)Lh[t]._workInProgressVersionPrimary=null;Lh.length=0}var mu=ar.ReactCurrentDispatcher,jh=ar.ReactCurrentBatchConfig,ki=0,Ce=null,Ue=null,Ke=null,Gu=!1,Wo=!1,ga=0,rk=0;function st(){throw Error(b(321))}function Gm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!hn(t[n],e[n]))return!1;return!0}function Qm(t,e,n,r,i,s){if(ki=s,Ce=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,mu.current=t===null||t.memoizedState===null?ak:lk,t=n(r,i),Wo){s=0;do{if(Wo=!1,ga=0,25<=s)throw Error(b(301));s+=1,Ke=Ue=null,e.updateQueue=null,mu.current=uk,t=n(r,i)}while(Wo)}if(mu.current=Qu,e=Ue!==null&&Ue.next!==null,ki=0,Ke=Ue=Ce=null,Gu=!1,e)throw Error(b(300));return t}function Xm(){var t=ga!==0;return ga=0,t}function gn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?Ce.memoizedState=Ke=t:Ke=Ke.next=t,Ke}function tn(){if(Ue===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=Ue.next;var e=Ke===null?Ce.memoizedState:Ke.next;if(e!==null)Ke=e,Ue=t;else{if(t===null)throw Error(b(310));Ue=t,t={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},Ke===null?Ce.memoizedState=Ke=t:Ke=Ke.next=t}return Ke}function ya(t,e){return typeof e=="function"?e(t):e}function Mh(t){var e=tn(),n=e.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=t;var r=Ue,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((ki&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Ce.lanes|=c,Ai|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,hn(r,e.memoizedState)||(Pt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ce.lanes|=s,Ai|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Vh(t){var e=tn(),n=e.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);hn(s,e.memoizedState)||(Pt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function tx(){}function nx(t,e){var n=Ce,r=tn(),i=e(),s=!hn(r.memoizedState,i);if(s&&(r.memoizedState=i,Pt=!0),r=r.queue,Ym(sx.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ke!==null&&Ke.memoizedState.tag&1){if(n.flags|=2048,va(9,ix.bind(null,n,r,i,e),void 0,null),Qe===null)throw Error(b(349));ki&30||rx(n,e,i)}return i}function rx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ce.updateQueue,e===null?(e={lastEffect:null,stores:null},Ce.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ix(t,e,n,r){e.value=n,e.getSnapshot=r,ox(e)&&ax(t)}function sx(t,e,n){return n(function(){ox(e)&&ax(t)})}function ox(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!hn(t,n)}catch{return!0}}function ax(t){var e=Yn(t,1);e!==null&&dn(e,t,1,-1)}function zv(t){var e=gn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ya,lastRenderedState:t},e.queue=t,t=t.dispatch=ok.bind(null,Ce,t),[e.memoizedState,t]}function va(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ce.updateQueue,e===null?(e={lastEffect:null,stores:null},Ce.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function lx(){return tn().memoizedState}function gu(t,e,n,r){var i=gn();Ce.flags|=t,i.memoizedState=va(1|e,n,void 0,r===void 0?null:r)}function Jc(t,e,n,r){var i=tn();r=r===void 0?null:r;var s=void 0;if(Ue!==null){var o=Ue.memoizedState;if(s=o.destroy,r!==null&&Gm(r,o.deps)){i.memoizedState=va(e,n,s,r);return}}Ce.flags|=t,i.memoizedState=va(1|e,n,s,r)}function Wv(t,e){return gu(8390656,8,t,e)}function Ym(t,e){return Jc(2048,8,t,e)}function ux(t,e){return Jc(4,2,t,e)}function cx(t,e){return Jc(4,4,t,e)}function dx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function hx(t,e,n){return n=n!=null?n.concat([t]):null,Jc(4,4,dx.bind(null,e,t),n)}function Jm(){}function fx(t,e){var n=tn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Gm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function px(t,e){var n=tn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Gm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function mx(t,e,n){return ki&21?(hn(n,e)||(n=vw(),Ce.lanes|=n,Ai|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Pt=!0),t.memoizedState=n)}function ik(t,e){var n=de;de=n!==0&&4>n?n:4,t(!0);var r=jh.transition;jh.transition={};try{t(!1),e()}finally{de=n,jh.transition=r}}function gx(){return tn().memoizedState}function sk(t,e,n){var r=Dr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},yx(t))vx(e,n);else if(n=Gw(t,e,n,r),n!==null){var i=It();dn(n,t,r,i),_x(n,e,r)}}function ok(t,e,n){var r=Dr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(yx(t))vx(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,hn(a,o)){var l=e.interleaved;l===null?(i.next=i,zm(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Gw(t,e,i,r),n!==null&&(i=It(),dn(n,t,r,i),_x(n,e,r))}}function yx(t){var e=t.alternate;return t===Ce||e!==null&&e===Ce}function vx(t,e){Wo=Gu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function _x(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Am(t,n)}}var Qu={readContext:en,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useInsertionEffect:st,useLayoutEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useMutableSource:st,useSyncExternalStore:st,useId:st,unstable_isNewReconciler:!1},ak={readContext:en,useCallback:function(t,e){return gn().memoizedState=[t,e===void 0?null:e],t},useContext:en,useEffect:Wv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,gu(4194308,4,dx.bind(null,e,t),n)},useLayoutEffect:function(t,e){return gu(4194308,4,t,e)},useInsertionEffect:function(t,e){return gu(4,2,t,e)},useMemo:function(t,e){var n=gn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=gn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=sk.bind(null,Ce,t),[r.memoizedState,t]},useRef:function(t){var e=gn();return t={current:t},e.memoizedState=t},useState:zv,useDebugValue:Jm,useDeferredValue:function(t){return gn().memoizedState=t},useTransition:function(){var t=zv(!1),e=t[0];return t=ik.bind(null,t[1]),gn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ce,i=gn();if(Se){if(n===void 0)throw Error(b(407));n=n()}else{if(n=e(),Qe===null)throw Error(b(349));ki&30||rx(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Wv(sx.bind(null,r,s,t),[t]),r.flags|=2048,va(9,ix.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=gn(),e=Qe.identifierPrefix;if(Se){var n=Un,r=Fn;n=(r&~(1<<32-cn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ga++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=rk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},lk={readContext:en,useCallback:fx,useContext:en,useEffect:Ym,useImperativeHandle:hx,useInsertionEffect:ux,useLayoutEffect:cx,useMemo:px,useReducer:Mh,useRef:lx,useState:function(){return Mh(ya)},useDebugValue:Jm,useDeferredValue:function(t){var e=tn();return mx(e,Ue.memoizedState,t)},useTransition:function(){var t=Mh(ya)[0],e=tn().memoizedState;return[t,e]},useMutableSource:tx,useSyncExternalStore:nx,useId:gx,unstable_isNewReconciler:!1},uk={readContext:en,useCallback:fx,useContext:en,useEffect:Ym,useImperativeHandle:hx,useInsertionEffect:ux,useLayoutEffect:cx,useMemo:px,useReducer:Vh,useRef:lx,useState:function(){return Vh(ya)},useDebugValue:Jm,useDeferredValue:function(t){var e=tn();return Ue===null?e.memoizedState=t:mx(e,Ue.memoizedState,t)},useTransition:function(){var t=Vh(ya)[0],e=tn().memoizedState;return[t,e]},useMutableSource:tx,useSyncExternalStore:nx,useId:gx,unstable_isNewReconciler:!1};function Bs(t,e){try{var n="",r=e;do n+=M2(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function $h(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function sp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ck=typeof WeakMap=="function"?WeakMap:Map;function wx(t,e,n){n=Hn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Yu||(Yu=!0,mp=r),sp(t,e)},n}function xx(t,e,n){n=Hn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){sp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){sp(t,e),typeof r!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Hv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ck;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Sk.bind(null,t,e,n),e.then(t,t))}function qv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Kv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Hn(-1,1),e.tag=2,br(n,e,1))),n.lanes|=1),t)}var dk=ar.ReactCurrentOwner,Pt=!1;function Et(t,e,n,r){e.child=t===null?Zw(e,null,n,r):Fs(e,t.child,n,r)}function Gv(t,e,n,r,i){n=n.render;var s=e.ref;return Cs(e,i),r=Qm(t,e,n,r,s,i),n=Xm(),t!==null&&!Pt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Jn(t,e,i)):(Se&&n&&Mm(e),e.flags|=1,Et(t,e,r,i),e.child)}function Qv(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!og(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Ex(t,e,s,r,i)):(t=wu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ca,n(o,r)&&t.ref===e.ref)return Jn(t,e,i)}return e.flags|=1,t=Lr(s,r),t.ref=e.ref,t.return=e,e.child=t}function Ex(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ca(s,r)&&t.ref===e.ref)if(Pt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Pt=!0);else return e.lanes=t.lanes,Jn(t,e,i)}return op(t,e,n,r,i)}function Tx(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},me(ws,jt),jt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,me(ws,jt),jt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,me(ws,jt),jt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,me(ws,jt),jt|=r;return Et(t,e,i,n),e.child}function Sx(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function op(t,e,n,r,i){var s=bt(n)?Ri:yt.current;return s=Vs(e,s),Cs(e,i),n=Qm(t,e,n,r,s,i),r=Xm(),t!==null&&!Pt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Jn(t,e,i)):(Se&&r&&Mm(e),e.flags|=1,Et(t,e,n,i),e.child)}function Xv(t,e,n,r,i){if(bt(n)){var s=!0;Uu(e)}else s=!1;if(Cs(e,i),e.stateNode===null)yu(t,e),Yw(e,n,r),ip(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=en(u):(u=bt(n)?Ri:yt.current,u=Vs(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Uv(e,o,r,u),pr=!1;var f=e.memoizedState;o.state=f,qu(e,r,o,i),l=e.memoizedState,a!==r||f!==l||Nt.current||pr?(typeof c=="function"&&(rp(e,n,c,r),l=e.memoizedState),(a=pr||Fv(e,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Qw(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:sn(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=en(l):(l=bt(n)?Ri:yt.current,l=Vs(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&Uv(e,o,r,l),pr=!1,f=e.memoizedState,o.state=f,qu(e,r,o,i);var v=e.memoizedState;a!==h||f!==v||Nt.current||pr?(typeof p=="function"&&(rp(e,n,p,r),v=e.memoizedState),(u=pr||Fv(e,n,u,r,f,v,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return ap(t,e,n,r,s,i)}function ap(t,e,n,r,i,s){Sx(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Lv(e,n,!1),Jn(t,e,s);r=e.stateNode,dk.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Fs(e,t.child,null,s),e.child=Fs(e,null,a,s)):Et(t,e,a,s),e.memoizedState=r.state,i&&Lv(e,n,!0),e.child}function Ix(t){var e=t.stateNode;e.pendingContext?Dv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Dv(t,e.context,!1),Hm(t,e.containerInfo)}function Yv(t,e,n,r,i){return $s(),$m(i),e.flags|=256,Et(t,e,n,r),e.child}var lp={dehydrated:null,treeContext:null,retryLane:0};function up(t){return{baseLanes:t,cachePool:null,transitions:null}}function Rx(t,e,n){var r=e.pendingProps,i=Re.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),me(Re,i&1),t===null)return tp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=td(o,r,0,null),t=wi(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=up(n),e.memoizedState=lp,t):Zm(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return hk(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Lr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Lr(a,s):(s=wi(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?up(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=lp,r}return s=t.child,t=s.sibling,r=Lr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Zm(t,e){return e=td({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Hl(t,e,n,r){return r!==null&&$m(r),Fs(e,t.child,null,n),t=Zm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function hk(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=$h(Error(b(422))),Hl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=td({mode:"visible",children:r.children},i,0,null),s=wi(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Fs(e,t.child,null,o),e.child.memoizedState=up(o),e.memoizedState=lp,s);if(!(e.mode&1))return Hl(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(b(419)),r=$h(s,r,void 0),Hl(t,e,o,r)}if(a=(o&t.childLanes)!==0,Pt||a){if(r=Qe,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Yn(t,i),dn(r,t,i,-1))}return sg(),r=$h(Error(b(421))),Hl(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Ik.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Mt=Nr(i.nextSibling),$t=e,Se=!0,an=null,t!==null&&(Gt[Qt++]=Fn,Gt[Qt++]=Un,Gt[Qt++]=Ci,Fn=t.id,Un=t.overflow,Ci=e),e=Zm(e,r.children),e.flags|=4096,e)}function Jv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),np(t.return,e,n)}function Fh(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Cx(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Et(t,e,r.children,n),r=Re.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jv(t,n,e);else if(t.tag===19)Jv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(me(Re,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ku(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Fh(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ku(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Fh(e,!0,n,null,s);break;case"together":Fh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function yu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Jn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ai|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(b(153));if(e.child!==null){for(t=e.child,n=Lr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Lr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function fk(t,e,n){switch(e.tag){case 3:Ix(e),$s();break;case 5:ex(e);break;case 1:bt(e.type)&&Uu(e);break;case 4:Hm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;me(Wu,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(me(Re,Re.current&1),e.flags|=128,null):n&e.child.childLanes?Rx(t,e,n):(me(Re,Re.current&1),t=Jn(t,e,n),t!==null?t.sibling:null);me(Re,Re.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Cx(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),me(Re,Re.current),r)break;return null;case 22:case 23:return e.lanes=0,Tx(t,e,n)}return Jn(t,e,n)}var kx,cp,Ax,Px;kx=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};cp=function(){};Ax=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,fi(In.current);var s=null;switch(n){case"input":i=bf(t,i),r=bf(t,r),s=[];break;case"select":i=ke({},i,{value:void 0}),r=ke({},r,{value:void 0}),s=[];break;case"textarea":i=Lf(t,i),r=Lf(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=$u)}Mf(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ra.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ra.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ye("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Px=function(t,e,n,r){n!==r&&(e.flags|=4)};function So(t,e){if(!Se)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ot(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function pk(t,e,n){var r=e.pendingProps;switch(Vm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(e),null;case 1:return bt(e.type)&&Fu(),ot(e),null;case 3:return r=e.stateNode,Us(),xe(Nt),xe(yt),Km(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(zl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,an!==null&&(vp(an),an=null))),cp(t,e),ot(e),null;case 5:qm(e);var i=fi(ma.current);if(n=e.type,t!==null&&e.stateNode!=null)Ax(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(b(166));return ot(e),null}if(t=fi(In.current),zl(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[yn]=e,r[fa]=s,t=(e.mode&1)!==0,n){case"dialog":ye("cancel",r),ye("close",r);break;case"iframe":case"object":case"embed":ye("load",r);break;case"video":case"audio":for(i=0;i<bo.length;i++)ye(bo[i],r);break;case"source":ye("error",r);break;case"img":case"image":case"link":ye("error",r),ye("load",r);break;case"details":ye("toggle",r);break;case"input":av(r,s),ye("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ye("invalid",r);break;case"textarea":uv(r,s),ye("invalid",r)}Mf(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Bl(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Bl(r.textContent,a,t),i=["children",""+a]):ra.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ye("scroll",r)}switch(n){case"input":Dl(r),lv(r,s,!0);break;case"textarea":Dl(r),cv(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=$u)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=rw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[yn]=e,t[fa]=r,kx(t,e,!1,!1),e.stateNode=t;e:{switch(o=Vf(n,r),n){case"dialog":ye("cancel",t),ye("close",t),i=r;break;case"iframe":case"object":case"embed":ye("load",t),i=r;break;case"video":case"audio":for(i=0;i<bo.length;i++)ye(bo[i],t);i=r;break;case"source":ye("error",t),i=r;break;case"img":case"image":case"link":ye("error",t),ye("load",t),i=r;break;case"details":ye("toggle",t),i=r;break;case"input":av(t,r),i=bf(t,r),ye("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ke({},r,{value:void 0}),ye("invalid",t);break;case"textarea":uv(t,r),i=Lf(t,r),ye("invalid",t);break;default:i=r}Mf(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?ow(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&iw(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ia(t,l):typeof l=="number"&&ia(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ra.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ye("scroll",t):l!=null&&Tm(t,s,l,o))}switch(n){case"input":Dl(t),lv(t,r,!1);break;case"textarea":Dl(t),cv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Br(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ts(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ts(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=$u)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ot(e),null;case 6:if(t&&e.stateNode!=null)Px(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(b(166));if(n=fi(ma.current),fi(In.current),zl(e)){if(r=e.stateNode,n=e.memoizedProps,r[yn]=e,(s=r.nodeValue!==n)&&(t=$t,t!==null))switch(t.tag){case 3:Bl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Bl(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[yn]=e,e.stateNode=r}return ot(e),null;case 13:if(xe(Re),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Se&&Mt!==null&&e.mode&1&&!(e.flags&128))Kw(),$s(),e.flags|=98560,s=!1;else if(s=zl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(b(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(b(317));s[yn]=e}else $s(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ot(e),s=!1}else an!==null&&(vp(an),an=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Re.current&1?ze===0&&(ze=3):sg())),e.updateQueue!==null&&(e.flags|=4),ot(e),null);case 4:return Us(),cp(t,e),t===null&&da(e.stateNode.containerInfo),ot(e),null;case 10:return Bm(e.type._context),ot(e),null;case 17:return bt(e.type)&&Fu(),ot(e),null;case 19:if(xe(Re),s=e.memoizedState,s===null)return ot(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)So(s,!1);else{if(ze!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ku(t),o!==null){for(e.flags|=128,So(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return me(Re,Re.current&1|2),e.child}t=t.sibling}s.tail!==null&&Le()>zs&&(e.flags|=128,r=!0,So(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ku(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),So(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Se)return ot(e),null}else 2*Le()-s.renderingStartTime>zs&&n!==1073741824&&(e.flags|=128,r=!0,So(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Le(),e.sibling=null,n=Re.current,me(Re,r?n&1|2:n&1),e):(ot(e),null);case 22:case 23:return ig(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?jt&1073741824&&(ot(e),e.subtreeFlags&6&&(e.flags|=8192)):ot(e),null;case 24:return null;case 25:return null}throw Error(b(156,e.tag))}function mk(t,e){switch(Vm(e),e.tag){case 1:return bt(e.type)&&Fu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Us(),xe(Nt),xe(yt),Km(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return qm(e),null;case 13:if(xe(Re),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(b(340));$s()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return xe(Re),null;case 4:return Us(),null;case 10:return Bm(e.type._context),null;case 22:case 23:return ig(),null;case 24:return null;default:return null}}var ql=!1,dt=!1,gk=typeof WeakSet=="function"?WeakSet:Set,F=null;function _s(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ne(t,e,r)}else n.current=null}function dp(t,e,n){try{n()}catch(r){Ne(t,e,r)}}var Zv=!1;function yk(t,e){if(Gf=ju,t=Dw(),jm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,f=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++c===r&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qf={focusedElem:t,selectionRange:n},ju=!1,F=e;F!==null;)if(e=F,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,F=t;else for(;F!==null;){e=F;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var _=v.memoizedProps,x=v.memoizedState,y=e.stateNode,g=y.getSnapshotBeforeUpdate(e.elementType===e.type?_:sn(e.type,_),x);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(b(163))}}catch(E){Ne(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,F=t;break}F=e.return}return v=Zv,Zv=!1,v}function Ho(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&dp(e,n,s)}i=i.next}while(i!==r)}}function Zc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function hp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Nx(t){var e=t.alternate;e!==null&&(t.alternate=null,Nx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[yn],delete e[fa],delete e[Jf],delete e[ZC],delete e[ek])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function bx(t){return t.tag===5||t.tag===3||t.tag===4}function e0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||bx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function fp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=$u));else if(r!==4&&(t=t.child,t!==null))for(fp(t,e,n),t=t.sibling;t!==null;)fp(t,e,n),t=t.sibling}function pp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(pp(t,e,n),t=t.sibling;t!==null;)pp(t,e,n),t=t.sibling}var Ze=null,on=!1;function dr(t,e,n){for(n=n.child;n!==null;)Ox(t,e,n),n=n.sibling}function Ox(t,e,n){if(Sn&&typeof Sn.onCommitFiberUnmount=="function")try{Sn.onCommitFiberUnmount(Hc,n)}catch{}switch(n.tag){case 5:dt||_s(n,e);case 6:var r=Ze,i=on;Ze=null,dr(t,e,n),Ze=r,on=i,Ze!==null&&(on?(t=Ze,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ze.removeChild(n.stateNode));break;case 18:Ze!==null&&(on?(t=Ze,n=n.stateNode,t.nodeType===8?Oh(t.parentNode,n):t.nodeType===1&&Oh(t,n),la(t)):Oh(Ze,n.stateNode));break;case 4:r=Ze,i=on,Ze=n.stateNode.containerInfo,on=!0,dr(t,e,n),Ze=r,on=i;break;case 0:case 11:case 14:case 15:if(!dt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&dp(n,e,o),i=i.next}while(i!==r)}dr(t,e,n);break;case 1:if(!dt&&(_s(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ne(n,e,a)}dr(t,e,n);break;case 21:dr(t,e,n);break;case 22:n.mode&1?(dt=(r=dt)||n.memoizedState!==null,dr(t,e,n),dt=r):dr(t,e,n);break;default:dr(t,e,n)}}function t0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new gk),e.forEach(function(r){var i=Rk.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function rn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ze=a.stateNode,on=!1;break e;case 3:Ze=a.stateNode.containerInfo,on=!0;break e;case 4:Ze=a.stateNode.containerInfo,on=!0;break e}a=a.return}if(Ze===null)throw Error(b(160));Ox(s,o,i),Ze=null,on=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ne(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Dx(e,t),e=e.sibling}function Dx(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(rn(e,t),mn(t),r&4){try{Ho(3,t,t.return),Zc(3,t)}catch(_){Ne(t,t.return,_)}try{Ho(5,t,t.return)}catch(_){Ne(t,t.return,_)}}break;case 1:rn(e,t),mn(t),r&512&&n!==null&&_s(n,n.return);break;case 5:if(rn(e,t),mn(t),r&512&&n!==null&&_s(n,n.return),t.flags&32){var i=t.stateNode;try{ia(i,"")}catch(_){Ne(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&tw(i,s),Vf(a,o);var u=Vf(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?ow(i,h):c==="dangerouslySetInnerHTML"?iw(i,h):c==="children"?ia(i,h):Tm(i,c,h,u)}switch(a){case"input":Of(i,s);break;case"textarea":nw(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Ts(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?Ts(i,!!s.multiple,s.defaultValue,!0):Ts(i,!!s.multiple,s.multiple?[]:"",!1))}i[fa]=s}catch(_){Ne(t,t.return,_)}}break;case 6:if(rn(e,t),mn(t),r&4){if(t.stateNode===null)throw Error(b(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(_){Ne(t,t.return,_)}}break;case 3:if(rn(e,t),mn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{la(e.containerInfo)}catch(_){Ne(t,t.return,_)}break;case 4:rn(e,t),mn(t);break;case 13:rn(e,t),mn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(ng=Le())),r&4&&t0(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(dt=(u=dt)||c,rn(e,t),dt=u):rn(e,t),mn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(F=t,c=t.child;c!==null;){for(h=F=c;F!==null;){switch(f=F,p=f.child,f.tag){case 0:case 11:case 14:case 15:Ho(4,f,f.return);break;case 1:_s(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(_){Ne(r,n,_)}}break;case 5:_s(f,f.return);break;case 22:if(f.memoizedState!==null){r0(h);continue}}p!==null?(p.return=f,F=p):r0(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=sw("display",o))}catch(_){Ne(t,t.return,_)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(_){Ne(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:rn(e,t),mn(t),r&4&&t0(t);break;case 21:break;default:rn(e,t),mn(t)}}function mn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(bx(n)){var r=n;break e}n=n.return}throw Error(b(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ia(i,""),r.flags&=-33);var s=e0(t);pp(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=e0(t);fp(t,a,o);break;default:throw Error(b(161))}}catch(l){Ne(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function vk(t,e,n){F=t,Lx(t)}function Lx(t,e,n){for(var r=(t.mode&1)!==0;F!==null;){var i=F,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ql;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||dt;a=ql;var u=dt;if(ql=o,(dt=l)&&!u)for(F=i;F!==null;)o=F,l=o.child,o.tag===22&&o.memoizedState!==null?i0(i):l!==null?(l.return=o,F=l):i0(i);for(;s!==null;)F=s,Lx(s),s=s.sibling;F=i,ql=a,dt=u}n0(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,F=s):n0(t)}}function n0(t){for(;F!==null;){var e=F;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:dt||Zc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!dt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:sn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&$v(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}$v(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&la(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(b(163))}dt||e.flags&512&&hp(e)}catch(f){Ne(e,e.return,f)}}if(e===t){F=null;break}if(n=e.sibling,n!==null){n.return=e.return,F=n;break}F=e.return}}function r0(t){for(;F!==null;){var e=F;if(e===t){F=null;break}var n=e.sibling;if(n!==null){n.return=e.return,F=n;break}F=e.return}}function i0(t){for(;F!==null;){var e=F;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Zc(4,e)}catch(l){Ne(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ne(e,i,l)}}var s=e.return;try{hp(e)}catch(l){Ne(e,s,l)}break;case 5:var o=e.return;try{hp(e)}catch(l){Ne(e,o,l)}}}catch(l){Ne(e,e.return,l)}if(e===t){F=null;break}var a=e.sibling;if(a!==null){a.return=e.return,F=a;break}F=e.return}}var _k=Math.ceil,Xu=ar.ReactCurrentDispatcher,eg=ar.ReactCurrentOwner,Zt=ar.ReactCurrentBatchConfig,oe=0,Qe=null,Ve=null,nt=0,jt=0,ws=ei(0),ze=0,_a=null,Ai=0,ed=0,tg=0,qo=null,At=null,ng=0,zs=1/0,Vn=null,Yu=!1,mp=null,Or=null,Kl=!1,Tr=null,Ju=0,Ko=0,gp=null,vu=-1,_u=0;function It(){return oe&6?Le():vu!==-1?vu:vu=Le()}function Dr(t){return t.mode&1?oe&2&&nt!==0?nt&-nt:nk.transition!==null?(_u===0&&(_u=vw()),_u):(t=de,t!==0||(t=window.event,t=t===void 0?16:Iw(t.type)),t):1}function dn(t,e,n,r){if(50<Ko)throw Ko=0,gp=null,Error(b(185));Qa(t,n,r),(!(oe&2)||t!==Qe)&&(t===Qe&&(!(oe&2)&&(ed|=n),ze===4&&gr(t,nt)),Ot(t,r),n===1&&oe===0&&!(e.mode&1)&&(zs=Le()+500,Xc&&ti()))}function Ot(t,e){var n=t.callbackNode;nC(t,e);var r=Lu(t,t===Qe?nt:0);if(r===0)n!==null&&fv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&fv(n),e===1)t.tag===0?tk(s0.bind(null,t)):Ww(s0.bind(null,t)),YC(function(){!(oe&6)&&ti()}),n=null;else{switch(_w(r)){case 1:n=km;break;case 4:n=gw;break;case 16:n=Du;break;case 536870912:n=yw;break;default:n=Du}n=zx(n,jx.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function jx(t,e){if(vu=-1,_u=0,oe&6)throw Error(b(327));var n=t.callbackNode;if(ks()&&t.callbackNode!==n)return null;var r=Lu(t,t===Qe?nt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Zu(t,r);else{e=r;var i=oe;oe|=2;var s=Vx();(Qe!==t||nt!==e)&&(Vn=null,zs=Le()+500,_i(t,e));do try{Ek();break}catch(a){Mx(t,a)}while(1);Um(),Xu.current=s,oe=i,Ve!==null?e=0:(Qe=null,nt=0,e=ze)}if(e!==0){if(e===2&&(i=zf(t),i!==0&&(r=i,e=yp(t,i))),e===1)throw n=_a,_i(t,0),gr(t,r),Ot(t,Le()),n;if(e===6)gr(t,r);else{if(i=t.current.alternate,!(r&30)&&!wk(i)&&(e=Zu(t,r),e===2&&(s=zf(t),s!==0&&(r=s,e=yp(t,s))),e===1))throw n=_a,_i(t,0),gr(t,r),Ot(t,Le()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(b(345));case 2:li(t,At,Vn);break;case 3:if(gr(t,r),(r&130023424)===r&&(e=ng+500-Le(),10<e)){if(Lu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){It(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Yf(li.bind(null,t,At,Vn),e);break}li(t,At,Vn);break;case 4:if(gr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-cn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Le()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_k(r/1960))-r,10<r){t.timeoutHandle=Yf(li.bind(null,t,At,Vn),r);break}li(t,At,Vn);break;case 5:li(t,At,Vn);break;default:throw Error(b(329))}}}return Ot(t,Le()),t.callbackNode===n?jx.bind(null,t):null}function yp(t,e){var n=qo;return t.current.memoizedState.isDehydrated&&(_i(t,e).flags|=256),t=Zu(t,e),t!==2&&(e=At,At=n,e!==null&&vp(e)),t}function vp(t){At===null?At=t:At.push.apply(At,t)}function wk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!hn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function gr(t,e){for(e&=~tg,e&=~ed,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-cn(e),r=1<<n;t[n]=-1,e&=~r}}function s0(t){if(oe&6)throw Error(b(327));ks();var e=Lu(t,0);if(!(e&1))return Ot(t,Le()),null;var n=Zu(t,e);if(t.tag!==0&&n===2){var r=zf(t);r!==0&&(e=r,n=yp(t,r))}if(n===1)throw n=_a,_i(t,0),gr(t,e),Ot(t,Le()),n;if(n===6)throw Error(b(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,li(t,At,Vn),Ot(t,Le()),null}function rg(t,e){var n=oe;oe|=1;try{return t(e)}finally{oe=n,oe===0&&(zs=Le()+500,Xc&&ti())}}function Pi(t){Tr!==null&&Tr.tag===0&&!(oe&6)&&ks();var e=oe;oe|=1;var n=Zt.transition,r=de;try{if(Zt.transition=null,de=1,t)return t()}finally{de=r,Zt.transition=n,oe=e,!(oe&6)&&ti()}}function ig(){jt=ws.current,xe(ws)}function _i(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,XC(n)),Ve!==null)for(n=Ve.return;n!==null;){var r=n;switch(Vm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Fu();break;case 3:Us(),xe(Nt),xe(yt),Km();break;case 5:qm(r);break;case 4:Us();break;case 13:xe(Re);break;case 19:xe(Re);break;case 10:Bm(r.type._context);break;case 22:case 23:ig()}n=n.return}if(Qe=t,Ve=t=Lr(t.current,null),nt=jt=e,ze=0,_a=null,tg=ed=Ai=0,At=qo=null,hi!==null){for(e=0;e<hi.length;e++)if(n=hi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}hi=null}return t}function Mx(t,e){do{var n=Ve;try{if(Um(),mu.current=Qu,Gu){for(var r=Ce.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Gu=!1}if(ki=0,Ke=Ue=Ce=null,Wo=!1,ga=0,eg.current=null,n===null||n.return===null){ze=1,_a=e,Ve=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=nt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=qv(o);if(p!==null){p.flags&=-257,Kv(p,o,a,s,e),p.mode&1&&Hv(s,u,e),e=p,l=u;var v=e.updateQueue;if(v===null){var _=new Set;_.add(l),e.updateQueue=_}else v.add(l);break e}else{if(!(e&1)){Hv(s,u,e),sg();break e}l=Error(b(426))}}else if(Se&&a.mode&1){var x=qv(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Kv(x,o,a,s,e),$m(Bs(l,a));break e}}s=l=Bs(l,a),ze!==4&&(ze=2),qo===null?qo=[s]:qo.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=wx(s,l,e);Vv(s,y);break e;case 1:a=l;var g=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Or===null||!Or.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=xx(s,a,e);Vv(s,E);break e}}s=s.return}while(s!==null)}Fx(n)}catch(T){e=T,Ve===n&&n!==null&&(Ve=n=n.return);continue}break}while(1)}function Vx(){var t=Xu.current;return Xu.current=Qu,t===null?Qu:t}function sg(){(ze===0||ze===3||ze===2)&&(ze=4),Qe===null||!(Ai&268435455)&&!(ed&268435455)||gr(Qe,nt)}function Zu(t,e){var n=oe;oe|=2;var r=Vx();(Qe!==t||nt!==e)&&(Vn=null,_i(t,e));do try{xk();break}catch(i){Mx(t,i)}while(1);if(Um(),oe=n,Xu.current=r,Ve!==null)throw Error(b(261));return Qe=null,nt=0,ze}function xk(){for(;Ve!==null;)$x(Ve)}function Ek(){for(;Ve!==null&&!K2();)$x(Ve)}function $x(t){var e=Bx(t.alternate,t,jt);t.memoizedProps=t.pendingProps,e===null?Fx(t):Ve=e,eg.current=null}function Fx(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=mk(n,e),n!==null){n.flags&=32767,Ve=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ze=6,Ve=null;return}}else if(n=pk(n,e,jt),n!==null){Ve=n;return}if(e=e.sibling,e!==null){Ve=e;return}Ve=e=t}while(e!==null);ze===0&&(ze=5)}function li(t,e,n){var r=de,i=Zt.transition;try{Zt.transition=null,de=1,Tk(t,e,n,r)}finally{Zt.transition=i,de=r}return null}function Tk(t,e,n,r){do ks();while(Tr!==null);if(oe&6)throw Error(b(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(b(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(rC(t,s),t===Qe&&(Ve=Qe=null,nt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Kl||(Kl=!0,zx(Du,function(){return ks(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Zt.transition,Zt.transition=null;var o=de;de=1;var a=oe;oe|=4,eg.current=null,yk(t,n),Dx(n,t),zC(Qf),ju=!!Gf,Qf=Gf=null,t.current=n,vk(n),G2(),oe=a,de=o,Zt.transition=s}else t.current=n;if(Kl&&(Kl=!1,Tr=t,Ju=i),s=t.pendingLanes,s===0&&(Or=null),Y2(n.stateNode),Ot(t,Le()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Yu)throw Yu=!1,t=mp,mp=null,t;return Ju&1&&t.tag!==0&&ks(),s=t.pendingLanes,s&1?t===gp?Ko++:(Ko=0,gp=t):Ko=0,ti(),null}function ks(){if(Tr!==null){var t=_w(Ju),e=Zt.transition,n=de;try{if(Zt.transition=null,de=16>t?16:t,Tr===null)var r=!1;else{if(t=Tr,Tr=null,Ju=0,oe&6)throw Error(b(331));var i=oe;for(oe|=4,F=t.current;F!==null;){var s=F,o=s.child;if(F.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(F=u;F!==null;){var c=F;switch(c.tag){case 0:case 11:case 15:Ho(8,c,s)}var h=c.child;if(h!==null)h.return=c,F=h;else for(;F!==null;){c=F;var f=c.sibling,p=c.return;if(Nx(c),c===u){F=null;break}if(f!==null){f.return=p,F=f;break}F=p}}}var v=s.alternate;if(v!==null){var _=v.child;if(_!==null){v.child=null;do{var x=_.sibling;_.sibling=null,_=x}while(_!==null)}}F=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,F=o;else e:for(;F!==null;){if(s=F,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ho(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,F=y;break e}F=s.return}}var g=t.current;for(F=g;F!==null;){o=F;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,F=w;else e:for(o=g;F!==null;){if(a=F,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Zc(9,a)}}catch(T){Ne(a,a.return,T)}if(a===o){F=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,F=E;break e}F=a.return}}if(oe=i,ti(),Sn&&typeof Sn.onPostCommitFiberRoot=="function")try{Sn.onPostCommitFiberRoot(Hc,t)}catch{}r=!0}return r}finally{de=n,Zt.transition=e}}return!1}function o0(t,e,n){e=Bs(n,e),e=wx(t,e,1),t=br(t,e,1),e=It(),t!==null&&(Qa(t,1,e),Ot(t,e))}function Ne(t,e,n){if(t.tag===3)o0(t,t,n);else for(;e!==null;){if(e.tag===3){o0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Or===null||!Or.has(r))){t=Bs(n,t),t=xx(e,t,1),e=br(e,t,1),t=It(),e!==null&&(Qa(e,1,t),Ot(e,t));break}}e=e.return}}function Sk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=It(),t.pingedLanes|=t.suspendedLanes&n,Qe===t&&(nt&n)===n&&(ze===4||ze===3&&(nt&130023424)===nt&&500>Le()-ng?_i(t,0):tg|=n),Ot(t,e)}function Ux(t,e){e===0&&(t.mode&1?(e=Ml,Ml<<=1,!(Ml&130023424)&&(Ml=4194304)):e=1);var n=It();t=Yn(t,e),t!==null&&(Qa(t,e,n),Ot(t,n))}function Ik(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Ux(t,n)}function Rk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(b(314))}r!==null&&r.delete(e),Ux(t,n)}var Bx;Bx=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Nt.current)Pt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Pt=!1,fk(t,e,n);Pt=!!(t.flags&131072)}else Pt=!1,Se&&e.flags&1048576&&Hw(e,zu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;yu(t,e),t=e.pendingProps;var i=Vs(e,yt.current);Cs(e,n),i=Qm(null,e,r,t,i,n);var s=Xm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,bt(r)?(s=!0,Uu(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Wm(e),i.updater=Yc,e.stateNode=i,i._reactInternals=e,ip(e,r,t,n),e=ap(null,e,r,!0,s,n)):(e.tag=0,Se&&s&&Mm(e),Et(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(yu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=kk(r),t=sn(r,t),i){case 0:e=op(null,e,r,t,n);break e;case 1:e=Xv(null,e,r,t,n);break e;case 11:e=Gv(null,e,r,t,n);break e;case 14:e=Qv(null,e,r,sn(r.type,t),n);break e}throw Error(b(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sn(r,i),op(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sn(r,i),Xv(t,e,r,i,n);case 3:e:{if(Ix(e),t===null)throw Error(b(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Qw(t,e),qu(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Bs(Error(b(423)),e),e=Yv(t,e,r,n,i);break e}else if(r!==i){i=Bs(Error(b(424)),e),e=Yv(t,e,r,n,i);break e}else for(Mt=Nr(e.stateNode.containerInfo.firstChild),$t=e,Se=!0,an=null,n=Zw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($s(),r===i){e=Jn(t,e,n);break e}Et(t,e,r,n)}e=e.child}return e;case 5:return ex(e),t===null&&tp(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Xf(r,i)?o=null:s!==null&&Xf(r,s)&&(e.flags|=32),Sx(t,e),Et(t,e,o,n),e.child;case 6:return t===null&&tp(e),null;case 13:return Rx(t,e,n);case 4:return Hm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Fs(e,null,r,n):Et(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sn(r,i),Gv(t,e,r,i,n);case 7:return Et(t,e,e.pendingProps,n),e.child;case 8:return Et(t,e,e.pendingProps.children,n),e.child;case 12:return Et(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,me(Wu,r._currentValue),r._currentValue=o,s!==null)if(hn(s.value,o)){if(s.children===i.children&&!Nt.current){e=Jn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Hn(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),np(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(b(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),np(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Et(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Cs(e,n),i=en(i),r=r(i),e.flags|=1,Et(t,e,r,n),e.child;case 14:return r=e.type,i=sn(r,e.pendingProps),i=sn(r.type,i),Qv(t,e,r,i,n);case 15:return Ex(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sn(r,i),yu(t,e),e.tag=1,bt(r)?(t=!0,Uu(e)):t=!1,Cs(e,n),Yw(e,r,i),ip(e,r,i,n),ap(null,e,r,!0,t,n);case 19:return Cx(t,e,n);case 22:return Tx(t,e,n)}throw Error(b(156,e.tag))};function zx(t,e){return mw(t,e)}function Ck(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jt(t,e,n,r){return new Ck(t,e,n,r)}function og(t){return t=t.prototype,!(!t||!t.isReactComponent)}function kk(t){if(typeof t=="function")return og(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Im)return 11;if(t===Rm)return 14}return 2}function Lr(t,e){var n=t.alternate;return n===null?(n=Jt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function wu(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")og(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case cs:return wi(n.children,i,s,e);case Sm:o=8,i|=8;break;case kf:return t=Jt(12,n,e,i|2),t.elementType=kf,t.lanes=s,t;case Af:return t=Jt(13,n,e,i),t.elementType=Af,t.lanes=s,t;case Pf:return t=Jt(19,n,e,i),t.elementType=Pf,t.lanes=s,t;case J1:return td(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case X1:o=10;break e;case Y1:o=9;break e;case Im:o=11;break e;case Rm:o=14;break e;case fr:o=16,r=null;break e}throw Error(b(130,t==null?t:typeof t,""))}return e=Jt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function wi(t,e,n,r){return t=Jt(7,t,r,e),t.lanes=n,t}function td(t,e,n,r){return t=Jt(22,t,r,e),t.elementType=J1,t.lanes=n,t.stateNode={isHidden:!1},t}function Uh(t,e,n){return t=Jt(6,t,null,e),t.lanes=n,t}function Bh(t,e,n){return e=Jt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ak(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Eh(0),this.expirationTimes=Eh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Eh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ag(t,e,n,r,i,s,o,a,l){return t=new Ak(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Jt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wm(s),t}function Pk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:us,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Wx(t){if(!t)return zr;t=t._reactInternals;e:{if(Gi(t)!==t||t.tag!==1)throw Error(b(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(bt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(b(171))}if(t.tag===1){var n=t.type;if(bt(n))return zw(t,n,e)}return e}function Hx(t,e,n,r,i,s,o,a,l){return t=ag(n,r,!0,t,i,s,o,a,l),t.context=Wx(null),n=t.current,r=It(),i=Dr(n),s=Hn(r,i),s.callback=e??null,br(n,s,i),t.current.lanes=i,Qa(t,i,r),Ot(t,r),t}function nd(t,e,n,r){var i=e.current,s=It(),o=Dr(i);return n=Wx(n),e.context===null?e.context=n:e.pendingContext=n,e=Hn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=br(i,e,o),t!==null&&(dn(t,i,o,s),pu(t,i,o)),o}function ec(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function a0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function lg(t,e){a0(t,e),(t=t.alternate)&&a0(t,e)}function Nk(){return null}var qx=typeof reportError=="function"?reportError:function(t){console.error(t)};function ug(t){this._internalRoot=t}rd.prototype.render=ug.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(b(409));nd(t,e,null,null)};rd.prototype.unmount=ug.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Pi(function(){nd(null,t,null,null)}),e[Xn]=null}};function rd(t){this._internalRoot=t}rd.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ew();t={blockedOn:null,target:t,priority:e};for(var n=0;n<mr.length&&e!==0&&e<mr[n].priority;n++);mr.splice(n,0,t),n===0&&Sw(t)}};function cg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function id(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function l0(){}function bk(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=ec(o);s.call(u)}}var o=Hx(e,r,t,0,null,!1,!1,"",l0);return t._reactRootContainer=o,t[Xn]=o.current,da(t.nodeType===8?t.parentNode:t),Pi(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=ec(l);a.call(u)}}var l=ag(t,0,!1,null,null,!1,!1,"",l0);return t._reactRootContainer=l,t[Xn]=l.current,da(t.nodeType===8?t.parentNode:t),Pi(function(){nd(e,l,n,r)}),l}function sd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=ec(o);a.call(l)}}nd(e,o,t,i)}else o=bk(n,e,t,i,r);return ec(o)}ww=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=No(e.pendingLanes);n!==0&&(Am(e,n|1),Ot(e,Le()),!(oe&6)&&(zs=Le()+500,ti()))}break;case 13:Pi(function(){var r=Yn(t,1);if(r!==null){var i=It();dn(r,t,1,i)}}),lg(t,1)}};Pm=function(t){if(t.tag===13){var e=Yn(t,134217728);if(e!==null){var n=It();dn(e,t,134217728,n)}lg(t,134217728)}};xw=function(t){if(t.tag===13){var e=Dr(t),n=Yn(t,e);if(n!==null){var r=It();dn(n,t,e,r)}lg(t,e)}};Ew=function(){return de};Tw=function(t,e){var n=de;try{return de=t,e()}finally{de=n}};Ff=function(t,e,n){switch(e){case"input":if(Of(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Qc(r);if(!i)throw Error(b(90));ew(r),Of(r,i)}}}break;case"textarea":nw(t,n);break;case"select":e=n.value,e!=null&&Ts(t,!!n.multiple,e,!1)}};uw=rg;cw=Pi;var Ok={usingClientEntryPoint:!1,Events:[Ya,ps,Qc,aw,lw,rg]},Io={findFiberByHostInstance:di,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Dk={bundleType:Io.bundleType,version:Io.version,rendererPackageName:Io.rendererPackageName,rendererConfig:Io.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ar.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=fw(t),t===null?null:t.stateNode},findFiberByHostInstance:Io.findFiberByHostInstance||Nk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gl.isDisabled&&Gl.supportsFiber)try{Hc=Gl.inject(Dk),Sn=Gl}catch{}}Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ok;Ht.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cg(e))throw Error(b(200));return Pk(t,e,null,n)};Ht.createRoot=function(t,e){if(!cg(t))throw Error(b(299));var n=!1,r="",i=qx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ag(t,1,!1,null,null,n,!1,r,i),t[Xn]=e.current,da(t.nodeType===8?t.parentNode:t),new ug(e)};Ht.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(b(188)):(t=Object.keys(t).join(","),Error(b(268,t)));return t=fw(e),t=t===null?null:t.stateNode,t};Ht.flushSync=function(t){return Pi(t)};Ht.hydrate=function(t,e,n){if(!id(e))throw Error(b(200));return sd(null,t,e,!0,n)};Ht.hydrateRoot=function(t,e,n){if(!cg(t))throw Error(b(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=qx;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Hx(e,null,t,1,n??null,i,!1,s,o),t[Xn]=e.current,da(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new rd(e)};Ht.render=function(t,e,n){if(!id(e))throw Error(b(200));return sd(null,t,e,!1,n)};Ht.unmountComponentAtNode=function(t){if(!id(t))throw Error(b(40));return t._reactRootContainer?(Pi(function(){sd(null,null,t,!1,function(){t._reactRootContainer=null,t[Xn]=null})}),!0):!1};Ht.unstable_batchedUpdates=rg;Ht.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!id(n))throw Error(b(200));if(t==null||t._reactInternals===void 0)throw Error(b(38));return sd(t,e,n,!1,r)};Ht.version="18.2.0-next-9e3b772b8-20220608";function Kx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Kx)}catch(t){console.error(t)}}Kx(),H1.exports=Ht;var od=H1.exports,u0=od;Rf.createRoot=u0.createRoot,Rf.hydrateRoot=u0.hydrateRoot;/**
 * @remix-run/router v1.7.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wa(){return wa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wa.apply(this,arguments)}var Sr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Sr||(Sr={}));const c0="popstate";function Lk(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return _p("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:tc(i)}return Mk(e,n,null,t)}function Fe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function dg(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jk(){return Math.random().toString(36).substr(2,8)}function d0(t,e){return{usr:t.state,key:t.key,idx:e}}function _p(t,e,n,r){return n===void 0&&(n=null),wa({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?oo(e):e,{state:n,key:e&&e.key||r||jk()})}function tc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function oo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Mk(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Sr.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(wa({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function h(){a=Sr.Pop;let x=c(),y=x==null?null:x-u;u=x,l&&l({action:a,location:_.location,delta:y})}function f(x,y){a=Sr.Push;let g=_p(_.location,x,y);n&&n(g,x),u=c()+1;let w=d0(g,u),E=_.createHref(g);try{o.pushState(w,"",E)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(E)}s&&l&&l({action:a,location:_.location,delta:1})}function p(x,y){a=Sr.Replace;let g=_p(_.location,x,y);n&&n(g,x),u=c();let w=d0(g,u),E=_.createHref(g);o.replaceState(w,"",E),s&&l&&l({action:a,location:_.location,delta:0})}function v(x){let y=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof x=="string"?x:tc(x);return Fe(y,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,y)}let _={get action(){return a},get location(){return t(i,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(c0,h),l=x,()=>{i.removeEventListener(c0,h),l=null}},createHref(x){return e(i,x)},createURL:v,encodeLocation(x){let y=v(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:p,go(x){return o.go(x)}};return _}var h0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(h0||(h0={}));function Vk(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?oo(e):e,i=hg(r.pathname||"/",n);if(i==null)return null;let s=Gx(t);$k(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=Gk(s[a],Yk(i));return o}function Gx(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Fe(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=jr([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Fe(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Gx(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:qk(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of Qx(s.path))i(s,o,l)}),e}function Qx(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Qx(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function $k(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Kk(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Fk=/^:\w+$/,Uk=3,Bk=2,zk=1,Wk=10,Hk=-2,f0=t=>t==="*";function qk(t,e){let n=t.split("/"),r=n.length;return n.some(f0)&&(r+=Hk),e&&(r+=Bk),n.filter(i=>!f0(i)).reduce((i,s)=>i+(Fk.test(s)?Uk:s===""?zk:Wk),r)}function Kk(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Gk(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=Qk({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let h=a.route;s.push({params:r,pathname:jr([i,c.pathname]),pathnameBase:tA(jr([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=jr([i,c.pathnameBase]))}return s}function Qk(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Xk(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,h)=>{if(c==="*"){let f=a[h]||"";o=s.slice(0,s.length-f.length).replace(/(.)\/+$/,"$1")}return u[c]=Jk(a[h]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:t}}function Xk(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),dg(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Yk(t){try{return decodeURI(t)}catch(e){return dg(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Jk(t,e){try{return decodeURIComponent(t)}catch(n){return dg(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function hg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Zk(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?oo(t):t;return{pathname:n?n.startsWith("/")?n:eA(n,e):e,search:nA(r),hash:rA(i)}}function eA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function zh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Xx(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Yx(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=oo(t):(i=wa({},t),Fe(!i.pathname||!i.pathname.includes("?"),zh("?","pathname","search",i)),Fe(!i.pathname||!i.pathname.includes("#"),zh("#","pathname","hash",i)),Fe(!i.search||!i.search.includes("#"),zh("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let h=e.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=Zk(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const jr=t=>t.join("/").replace(/\/\/+/g,"/"),tA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),nA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,rA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function iA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Jx=["post","put","patch","delete"];new Set(Jx);const sA=["get",...Jx];new Set(sA);/**
 * React Router v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nc(){return nc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nc.apply(this,arguments)}const fg=m.createContext(null),oA=m.createContext(null),ao=m.createContext(null),ad=m.createContext(null),ni=m.createContext({outlet:null,matches:[],isDataRoute:!1}),Zx=m.createContext(null);function aA(t,e){let{relative:n}=e===void 0?{}:e;Za()||Fe(!1);let{basename:r,navigator:i}=m.useContext(ao),{hash:s,pathname:o,search:a}=nE(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:jr([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Za(){return m.useContext(ad)!=null}function ld(){return Za()||Fe(!1),m.useContext(ad).location}function eE(t){m.useContext(ao).static||m.useLayoutEffect(t)}function ud(){let{isDataRoute:t}=m.useContext(ni);return t?wA():lA()}function lA(){Za()||Fe(!1);let t=m.useContext(fg),{basename:e,navigator:n}=m.useContext(ao),{matches:r}=m.useContext(ni),{pathname:i}=ld(),s=JSON.stringify(Xx(r).map(l=>l.pathnameBase)),o=m.useRef(!1);return eE(()=>{o.current=!0}),m.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=Yx(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:jr([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,s,i,t])}function tE(){let{matches:t}=m.useContext(ni),e=t[t.length-1];return e?e.params:{}}function nE(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=m.useContext(ni),{pathname:i}=ld(),s=JSON.stringify(Xx(r).map(o=>o.pathnameBase));return m.useMemo(()=>Yx(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function uA(t,e){return cA(t,e)}function cA(t,e,n){Za()||Fe(!1);let{navigator:r}=m.useContext(ao),{matches:i}=m.useContext(ni),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=ld(),u;if(e){var c;let _=typeof e=="string"?oo(e):e;a==="/"||(c=_.pathname)!=null&&c.startsWith(a)||Fe(!1),u=_}else u=l;let h=u.pathname||"/",f=a==="/"?h:h.slice(a.length)||"/",p=Vk(t,{pathname:f}),v=mA(p&&p.map(_=>Object.assign({},_,{params:Object.assign({},o,_.params),pathname:jr([a,r.encodeLocation?r.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?a:jr([a,r.encodeLocation?r.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,n);return e&&v?m.createElement(ad.Provider,{value:{location:nc({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Sr.Pop}},v):v}function dA(){let t=_A(),e=iA(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},e),n?m.createElement("pre",{style:i},n):null,s)}const hA=m.createElement(dA,null);class fA extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?m.createElement(ni.Provider,{value:this.props.routeContext},m.createElement(Zx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function pA(t){let{routeContext:e,match:n,children:r}=t,i=m.useContext(fg);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(ni.Provider,{value:e},r)}function mA(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||Fe(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,u)=>{let c=l.route.id?o==null?void 0:o[l.route.id]:null,h=null;n&&(h=l.route.errorElement||hA);let f=e.concat(s.slice(0,u+1)),p=()=>{let v;return c?v=h:l.route.Component?v=m.createElement(l.route.Component,null):l.route.element?v=l.route.element:v=a,m.createElement(pA,{match:l,routeContext:{outlet:a,matches:f,isDataRoute:n!=null},children:v})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?m.createElement(fA,{location:n.location,revalidation:n.revalidation,component:h,error:c,children:p(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):p()},null)}var wp;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(wp||(wp={}));var xa;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(xa||(xa={}));function gA(t){let e=m.useContext(fg);return e||Fe(!1),e}function yA(t){let e=m.useContext(oA);return e||Fe(!1),e}function vA(t){let e=m.useContext(ni);return e||Fe(!1),e}function rE(t){let e=vA(),n=e.matches[e.matches.length-1];return n.route.id||Fe(!1),n.route.id}function _A(){var t;let e=m.useContext(Zx),n=yA(xa.UseRouteError),r=rE(xa.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function wA(){let{router:t}=gA(wp.UseNavigateStable),e=rE(xa.UseNavigateStable),n=m.useRef(!1);return eE(()=>{n.current=!0}),m.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,nc({fromRouteId:e},s)))},[t,e])}function xp(t){Fe(!1)}function xA(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Sr.Pop,navigator:s,static:o=!1}=t;Za()&&Fe(!1);let a=e.replace(/^\/*/,"/"),l=m.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=oo(r));let{pathname:u="/",search:c="",hash:h="",state:f=null,key:p="default"}=r,v=m.useMemo(()=>{let _=hg(u,a);return _==null?null:{location:{pathname:_,search:c,hash:h,state:f,key:p},navigationType:i}},[a,u,c,h,f,p,i]);return v==null?null:m.createElement(ao.Provider,{value:l},m.createElement(ad.Provider,{children:n,value:v}))}function EA(t){let{children:e,location:n}=t;return uA(Ep(e),n)}var p0;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(p0||(p0={}));new Promise(()=>{});function Ep(t,e){e===void 0&&(e=[]);let n=[];return m.Children.forEach(t,(r,i)=>{if(!m.isValidElement(r))return;let s=[...e,i];if(r.type===m.Fragment){n.push.apply(n,Ep(r.props.children,s));return}r.type!==xp&&Fe(!1),!r.props.index||!r.props.children||Fe(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Ep(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tp(){return Tp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tp.apply(this,arguments)}function TA(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function SA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function IA(t,e){return t.button===0&&(!e||e==="_self")&&!SA(t)}const RA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],CA="startTransition",m0=wm[CA];function kA(t){let{basename:e,children:n,future:r,window:i}=t,s=m.useRef();s.current==null&&(s.current=Lk({window:i,v5Compat:!0}));let o=s.current,[a,l]=m.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=m.useCallback(h=>{u&&m0?m0(()=>l(h)):l(h)},[l,u]);return m.useLayoutEffect(()=>o.listen(c),[o,c]),m.createElement(xA,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o})}const AA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",PA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ea=m.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c}=e,h=TA(e,RA),{basename:f}=m.useContext(ao),p,v=!1;if(typeof u=="string"&&PA.test(u)&&(p=u,AA))try{let g=new URL(window.location.href),w=u.startsWith("//")?new URL(g.protocol+u):new URL(u),E=hg(w.pathname,f);w.origin===g.origin&&E!=null?u=E+w.search+w.hash:v=!0}catch{}let _=aA(u,{relative:i}),x=NA(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i});function y(g){r&&r(g),g.defaultPrevented||x(g)}return m.createElement("a",Tp({},h,{href:p||_,onClick:v||s?r:y,ref:n,target:l}))});var g0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(g0||(g0={}));var y0;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(y0||(y0={}));function NA(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=ud(),l=ld(),u=nE(t,{relative:o});return m.useCallback(c=>{if(IA(c,n)){c.preventDefault();let h=r!==void 0?r:tc(l)===tc(u);a(t,{replace:h,state:i,preventScrollReset:s,relative:o})}},[l,a,u,r,i,n,t,s,o])}function bA({title:t,titleId:e,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12.75"}))}const OA=m.forwardRef(bA),DA=OA;function LA({title:t,titleId:e,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 12c0-1.232-.046-2.453-.138-3.662a4.006 4.006 0 00-3.7-3.7 48.678 48.678 0 00-7.324 0 4.006 4.006 0 00-3.7 3.7c-.017.22-.032.441-.046.662M19.5 12l3-3m-3 3l-3-3m-12 3c0 1.232.046 2.453.138 3.662a4.006 4.006 0 003.7 3.7 48.656 48.656 0 007.324 0 4.006 4.006 0 003.7-3.7c.017-.22.032-.441.046-.662M4.5 12l3 3m-3-3l-3 3"}))}const jA=m.forwardRef(LA),MA=jA;function VA({title:t,titleId:e,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"}))}const $A=m.forwardRef(VA),iE=$A;function FA({title:t,titleId:e,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15m3 0l3-3m0 0l-3-3m3 3H9"}))}const UA=m.forwardRef(FA),BA=UA;function zA({title:t,titleId:e,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18L9 11.25l4.306 4.307a11.95 11.95 0 015.814-5.519l2.74-1.22m0 0l-5.94-2.28m5.94 2.28l-2.28 5.941"}))}const WA=m.forwardRef(zA),HA=WA;function qA({title:t,titleId:e,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"}))}const KA=m.forwardRef(qA),GA=KA;function QA({title:t,titleId:e,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 16.811c0 .864-.933 1.405-1.683.977l-7.108-4.062a1.125 1.125 0 010-1.953l7.108-4.062A1.125 1.125 0 0121 8.688v8.123zM11.25 16.811c0 .864-.933 1.405-1.683.977l-7.108-4.062a1.125 1.125 0 010-1.953L9.567 7.71a1.125 1.125 0 011.683.977v8.123z"}))}const XA=m.forwardRef(QA),YA=XA;function JA({title:t,titleId:e,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const ZA=m.forwardRef(JA),pg=ZA;function eP({title:t,titleId:e,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"}))}const tP=m.forwardRef(eP),sE=tP;function nP({title:t,titleId:e,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"}))}const rP=m.forwardRef(nP),iP=rP;function sP({title:t,titleId:e,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"}))}const oP=m.forwardRef(sP),Sp=oP;function aP({title:t,titleId:e,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 15.75l7.5-7.5 7.5 7.5"}))}const lP=m.forwardRef(aP),uP=lP;function cP({title:t,titleId:e,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5A3.375 3.375 0 006.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0015 2.25h-1.5a2.251 2.251 0 00-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 00-9-9z"}))}const dP=m.forwardRef(cP),hP=dP;function fP({title:t,titleId:e,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z"}),m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}))}const pP=m.forwardRef(fP),oE=pP;function mP({title:t,titleId:e,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m5.231 13.481L15 17.25m-4.5-15H5.625c-.621 0-1.125.504-1.125 1.125v16.5c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9zm3.75 11.625a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z"}))}const gP=m.forwardRef(mP),yP=gP;function vP({title:t,titleId:e,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m3.75 9v6m3-3H9m1.5-12H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"}))}const _P=m.forwardRef(vP),wP=_P;function xP({title:t,titleId:e,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"}))}const EP=m.forwardRef(xP),TP=EP;function SP({title:t,titleId:e,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 8.688c0-.864.933-1.405 1.683-.977l7.108 4.062a1.125 1.125 0 010 1.953l-7.108 4.062A1.125 1.125 0 013 16.81V8.688zM12.75 8.688c0-.864.933-1.405 1.683-.977l7.108 4.062a1.125 1.125 0 010 1.953l-7.108 4.062a1.125 1.125 0 01-1.683-.977V8.688z"}))}const IP=m.forwardRef(SP),aE=IP;function RP({title:t,titleId:e,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"}))}const CP=m.forwardRef(RP),lE=CP;function kP({title:t,titleId:e,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const AP=m.forwardRef(kP),PP=AP;function NP({title:t,titleId:e,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"}))}const bP=m.forwardRef(NP),OP=bP;function DP({title:t,titleId:e,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 9l10.5-3m0 6.553v3.75a2.25 2.25 0 01-1.632 2.163l-1.32.377a1.803 1.803 0 11-.99-3.467l2.31-.66a2.25 2.25 0 001.632-2.163zm0 0V2.25L9 5.25v10.303m0 0v3.75a2.25 2.25 0 01-1.632 2.163l-1.32.377a1.803 1.803 0 01-.99-3.467l2.31-.66A2.25 2.25 0 009 15.553z"}))}const LP=m.forwardRef(DP),uE=LP;function jP({title:t,titleId:e,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.53 16.122a3 3 0 00-5.78 1.128 2.25 2.25 0 01-2.4 2.245 4.5 4.5 0 008.4-2.245c0-.399-.078-.78-.22-1.128zm0 0a15.998 15.998 0 003.388-1.62m-5.043-.025a15.994 15.994 0 011.622-3.395m3.42 3.42a15.995 15.995 0 004.764-4.648l3.876-5.814a1.151 1.151 0 00-1.597-1.597L14.146 6.32a15.996 15.996 0 00-4.649 4.763m3.42 3.42a6.776 6.776 0 00-3.42-3.42"}))}const MP=m.forwardRef(jP),VP=MP;function $P({title:t,titleId:e,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.25 9v6m-4.5 0V9M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))}const FP=m.forwardRef($P),Ws=FP;function UP({title:t,titleId:e,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"}))}const BP=m.forwardRef(UP),Ta=BP;function zP({title:t,titleId:e,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.91 11.672a.375.375 0 010 .656l-5.603 3.113a.375.375 0 01-.557-.328V8.887c0-.286.307-.466.557-.327l5.603 3.112z"}))}const WP=m.forwardRef(zP),cE=WP;function HP({title:t,titleId:e,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 7.5V18M15 7.5V18M3 16.811V8.69c0-.864.933-1.406 1.683-.977l7.108 4.061a1.125 1.125 0 010 1.954l-7.108 4.061A1.125 1.125 0 013 16.811z"}))}const qP=m.forwardRef(HP),KP=qP;function GP({title:t,titleId:e,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"}))}const QP=m.forwardRef(GP),Sa=QP;function XP({title:t,titleId:e,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.59 14.37a6 6 0 01-5.84 7.38v-4.8m5.84-2.58a14.98 14.98 0 006.16-12.12A14.98 14.98 0 009.631 8.41m5.96 5.96a14.926 14.926 0 01-5.841 2.58m-.119-8.54a6 6 0 00-7.381 5.84h4.8m2.581-5.84a14.927 14.927 0 00-2.58 5.84m2.699 2.7c-.103.021-.207.041-.311.06a15.09 15.09 0 01-2.448-2.448 14.9 14.9 0 01.06-.312m-2.24 2.39a4.493 4.493 0 00-1.757 4.306 4.493 4.493 0 004.306-1.758M16.5 9a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"}))}const YP=m.forwardRef(XP),JP=YP;function ZP({title:t,titleId:e,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.114 5.636a9 9 0 010 12.728M16.463 8.288a5.25 5.25 0 010 7.424M6.75 8.25l4.72-4.72a.75.75 0 011.28.53v15.88a.75.75 0 01-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.01 9.01 0 012.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75z"}))}const eN=m.forwardRef(ZP),tN=eN;function nN({title:t,titleId:e,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 9.75L19.5 12m0 0l2.25 2.25M19.5 12l2.25-2.25M19.5 12l-2.25 2.25m-10.5-6l4.72-4.72a.75.75 0 011.28.531V19.94a.75.75 0 01-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.506-1.938-1.354A9.01 9.01 0 012.25 12c0-.83.112-1.633.322-2.395C2.806 8.757 3.63 8.25 4.51 8.25H6.75z"}))}const rN=m.forwardRef(nN),iN=rN;function sN({title:t,titleId:e,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"}))}const oN=m.forwardRef(sN),mg=oN;function aN({title:t,titleId:e,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 01-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 00-3.213-9.193 2.056 2.056 0 00-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 00-10.026 0 1.106 1.106 0 00-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"}))}const lN=m.forwardRef(aN),dE=lN;function uN({title:t,titleId:e,...n},r){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?m.createElement("title",{id:e},t):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"}))}const cN=m.forwardRef(uN),cd=cN;var hE={exports:{}},fE={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hs=m;function dN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hN=typeof Object.is=="function"?Object.is:dN,fN=Hs.useState,pN=Hs.useEffect,mN=Hs.useLayoutEffect,gN=Hs.useDebugValue;function yN(t,e){var n=e(),r=fN({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return mN(function(){i.value=n,i.getSnapshot=e,Wh(i)&&s({inst:i})},[t,n,e]),pN(function(){return Wh(i)&&s({inst:i}),t(function(){Wh(i)&&s({inst:i})})},[t]),gN(n),n}function Wh(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!hN(t,n)}catch{return!0}}function vN(t,e){return e()}var _N=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?vN:yN;fE.useSyncExternalStore=Hs.useSyncExternalStore!==void 0?Hs.useSyncExternalStore:_N;hE.exports=fE;var wN=hE.exports,pE={exports:{}},mE={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dd=m,xN=wN;function EN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var TN=typeof Object.is=="function"?Object.is:EN,SN=xN.useSyncExternalStore,IN=dd.useRef,RN=dd.useEffect,CN=dd.useMemo,kN=dd.useDebugValue;mE.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=IN(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=CN(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&o.hasValue){var v=o.value;if(i(v,p))return h=v}return h=p}if(v=h,TN(c,p))return v;var _=r(p);return i!==void 0&&i(v,_)?v:(c=p,h=_)}var u=!1,c,h,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=SN(t,s[0],s[1]);return RN(function(){o.hasValue=!0,o.value=a},[a]),kN(a),a};pE.exports=mE;var AN=pE.exports;function PN(t){t()}let gE=PN;const NN=t=>gE=t,bN=()=>gE,v0=Symbol.for("react-redux-context"),_0=typeof globalThis<"u"?globalThis:{};function ON(){var t;if(!m.createContext)return{};const e=(t=_0[v0])!=null?t:_0[v0]=new Map;let n=e.get(m.createContext);return n||(n=m.createContext(null),e.set(m.createContext,n)),n}const Wr=ON();function gg(t=Wr){return function(){return m.useContext(t)}}const yE=gg(),DN=()=>{throw new Error("uSES not initialized!")};let vE=DN;const LN=t=>{vE=t},jN=(t,e)=>t===e;function MN(t=Wr){const e=t===Wr?yE:gg(t);return function(r,i={}){const{equalityFn:s=jN,stabilityCheck:o=void 0,noopCheck:a=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:l,subscription:u,getServerState:c,stabilityCheck:h,noopCheck:f}=e();m.useRef(!0);const p=m.useCallback({[r.name](_){return r(_)}}[r.name],[r,h,o]),v=vE(u.addNestedSub,l.getState,c||l.getState,p,s);return m.useDebugValue(v),v}}const lr=MN();var _E={exports:{}},fe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ye=typeof Symbol=="function"&&Symbol.for,yg=Ye?Symbol.for("react.element"):60103,vg=Ye?Symbol.for("react.portal"):60106,hd=Ye?Symbol.for("react.fragment"):60107,fd=Ye?Symbol.for("react.strict_mode"):60108,pd=Ye?Symbol.for("react.profiler"):60114,md=Ye?Symbol.for("react.provider"):60109,gd=Ye?Symbol.for("react.context"):60110,_g=Ye?Symbol.for("react.async_mode"):60111,yd=Ye?Symbol.for("react.concurrent_mode"):60111,vd=Ye?Symbol.for("react.forward_ref"):60112,_d=Ye?Symbol.for("react.suspense"):60113,VN=Ye?Symbol.for("react.suspense_list"):60120,wd=Ye?Symbol.for("react.memo"):60115,xd=Ye?Symbol.for("react.lazy"):60116,$N=Ye?Symbol.for("react.block"):60121,FN=Ye?Symbol.for("react.fundamental"):60117,UN=Ye?Symbol.for("react.responder"):60118,BN=Ye?Symbol.for("react.scope"):60119;function Kt(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case yg:switch(t=t.type,t){case _g:case yd:case hd:case pd:case fd:case _d:return t;default:switch(t=t&&t.$$typeof,t){case gd:case vd:case xd:case wd:case md:return t;default:return e}}case vg:return e}}}function wE(t){return Kt(t)===yd}fe.AsyncMode=_g;fe.ConcurrentMode=yd;fe.ContextConsumer=gd;fe.ContextProvider=md;fe.Element=yg;fe.ForwardRef=vd;fe.Fragment=hd;fe.Lazy=xd;fe.Memo=wd;fe.Portal=vg;fe.Profiler=pd;fe.StrictMode=fd;fe.Suspense=_d;fe.isAsyncMode=function(t){return wE(t)||Kt(t)===_g};fe.isConcurrentMode=wE;fe.isContextConsumer=function(t){return Kt(t)===gd};fe.isContextProvider=function(t){return Kt(t)===md};fe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===yg};fe.isForwardRef=function(t){return Kt(t)===vd};fe.isFragment=function(t){return Kt(t)===hd};fe.isLazy=function(t){return Kt(t)===xd};fe.isMemo=function(t){return Kt(t)===wd};fe.isPortal=function(t){return Kt(t)===vg};fe.isProfiler=function(t){return Kt(t)===pd};fe.isStrictMode=function(t){return Kt(t)===fd};fe.isSuspense=function(t){return Kt(t)===_d};fe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===hd||t===yd||t===pd||t===fd||t===_d||t===VN||typeof t=="object"&&t!==null&&(t.$$typeof===xd||t.$$typeof===wd||t.$$typeof===md||t.$$typeof===gd||t.$$typeof===vd||t.$$typeof===FN||t.$$typeof===UN||t.$$typeof===BN||t.$$typeof===$N)};fe.typeOf=Kt;_E.exports=fe;var zN=_E.exports,xE=zN,WN={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},HN={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},EE={};EE[xE.ForwardRef]=WN;EE[xE.Memo]=HN;var pe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wg=Symbol.for("react.element"),xg=Symbol.for("react.portal"),Ed=Symbol.for("react.fragment"),Td=Symbol.for("react.strict_mode"),Sd=Symbol.for("react.profiler"),Id=Symbol.for("react.provider"),Rd=Symbol.for("react.context"),qN=Symbol.for("react.server_context"),Cd=Symbol.for("react.forward_ref"),kd=Symbol.for("react.suspense"),Ad=Symbol.for("react.suspense_list"),Pd=Symbol.for("react.memo"),Nd=Symbol.for("react.lazy"),KN=Symbol.for("react.offscreen"),TE;TE=Symbol.for("react.module.reference");function nn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case wg:switch(t=t.type,t){case Ed:case Sd:case Td:case kd:case Ad:return t;default:switch(t=t&&t.$$typeof,t){case qN:case Rd:case Cd:case Nd:case Pd:case Id:return t;default:return e}}case xg:return e}}}pe.ContextConsumer=Rd;pe.ContextProvider=Id;pe.Element=wg;pe.ForwardRef=Cd;pe.Fragment=Ed;pe.Lazy=Nd;pe.Memo=Pd;pe.Portal=xg;pe.Profiler=Sd;pe.StrictMode=Td;pe.Suspense=kd;pe.SuspenseList=Ad;pe.isAsyncMode=function(){return!1};pe.isConcurrentMode=function(){return!1};pe.isContextConsumer=function(t){return nn(t)===Rd};pe.isContextProvider=function(t){return nn(t)===Id};pe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===wg};pe.isForwardRef=function(t){return nn(t)===Cd};pe.isFragment=function(t){return nn(t)===Ed};pe.isLazy=function(t){return nn(t)===Nd};pe.isMemo=function(t){return nn(t)===Pd};pe.isPortal=function(t){return nn(t)===xg};pe.isProfiler=function(t){return nn(t)===Sd};pe.isStrictMode=function(t){return nn(t)===Td};pe.isSuspense=function(t){return nn(t)===kd};pe.isSuspenseList=function(t){return nn(t)===Ad};pe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Ed||t===Sd||t===Td||t===kd||t===Ad||t===KN||typeof t=="object"&&t!==null&&(t.$$typeof===Nd||t.$$typeof===Pd||t.$$typeof===Id||t.$$typeof===Rd||t.$$typeof===Cd||t.$$typeof===TE||t.getModuleId!==void 0)};pe.typeOf=nn;function GN(){const t=bN();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:e=s,function(){!i||e===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}const w0={notify(){},get:()=>[]};function QN(t,e){let n,r=w0;function i(h){return l(),r.subscribe(h)}function s(){r.notify()}function o(){c.onStateChange&&c.onStateChange()}function a(){return!!n}function l(){n||(n=e?e.addNestedSub(o):t.subscribe(o),r=GN())}function u(){n&&(n(),n=void 0,r.clear(),r=w0)}const c={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:a,trySubscribe:l,tryUnsubscribe:u,getListeners:()=>r};return c}const XN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",YN=XN?m.useLayoutEffect:m.useEffect;function JN({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",noopCheck:s="once"}){const o=m.useMemo(()=>{const u=QN(t);return{store:t,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:i,noopCheck:s}},[t,r,i,s]),a=m.useMemo(()=>t.getState(),[t]);YN(()=>{const{subscription:u}=o;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==t.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[o,a]);const l=e||Wr;return m.createElement(l.Provider,{value:o},n)}function SE(t=Wr){const e=t===Wr?yE:gg(t);return function(){const{store:r}=e();return r}}const ZN=SE();function eb(t=Wr){const e=t===Wr?ZN:SE(t);return function(){return e().dispatch}}const Qi=eb();LN(AN.useSyncExternalStoreWithSelector);NN(od.unstable_batchedUpdates);function ln(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Hr(t){return!!t&&!!t[Te]}function Zn(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===ub}(t)||Array.isArray(t)||!!t[C0]||!!(!((e=t.constructor)===null||e===void 0)&&e[C0])||Eg(t)||Tg(t))}function Ni(t,e,n){n===void 0&&(n=!1),lo(t)===0?(n?Object.keys:Ps)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,i){return e(i,r,t)})}function lo(t){var e=t[Te];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:Eg(t)?2:Tg(t)?3:0}function As(t,e){return lo(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function tb(t,e){return lo(t)===2?t.get(e):t[e]}function IE(t,e,n){var r=lo(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function RE(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function Eg(t){return ab&&t instanceof Map}function Tg(t){return lb&&t instanceof Set}function ui(t){return t.o||t.t}function Sg(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=kE(t);delete e[Te];for(var n=Ps(e),r=0;r<n.length;r++){var i=n[r],s=e[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(e[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function Ig(t,e){return e===void 0&&(e=!1),Rg(t)||Hr(t)||!Zn(t)||(lo(t)>1&&(t.set=t.add=t.clear=t.delete=nb),Object.freeze(t),e&&Ni(t,function(n,r){return Ig(r,!0)},!0)),t}function nb(){ln(2)}function Rg(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function Rn(t){var e=kp[t];return e||ln(18,t),e}function rb(t,e){kp[t]||(kp[t]=e)}function Ip(){return Ia}function Hh(t,e){e&&(Rn("Patches"),t.u=[],t.s=[],t.v=e)}function rc(t){Rp(t),t.p.forEach(ib),t.p=null}function Rp(t){t===Ia&&(Ia=t.l)}function x0(t){return Ia={p:[],l:Ia,h:t,m:!0,_:0}}function ib(t){var e=t[Te];e.i===0||e.i===1?e.j():e.g=!0}function qh(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.O||Rn("ES5").S(e,t,r),r?(n[Te].P&&(rc(e),ln(4)),Zn(t)&&(t=ic(e,t),e.l||sc(e,t)),e.u&&Rn("Patches").M(n[Te].t,t,e.u,e.s)):t=ic(e,n,[]),rc(e),e.u&&e.v(e.u,e.s),t!==CE?t:void 0}function ic(t,e,n){if(Rg(e))return e;var r=e[Te];if(!r)return Ni(e,function(a,l){return E0(t,r,e,a,l,n)},!0),e;if(r.A!==t)return e;if(!r.P)return sc(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=Sg(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),Ni(s,function(a,l){return E0(t,r,i,a,l,n,o)}),sc(t,i,!1),n&&t.u&&Rn("Patches").N(r,n,t.u,t.s)}return r.o}function E0(t,e,n,r,i,s,o){if(Hr(i)){var a=ic(t,i,s&&e&&e.i!==3&&!As(e.R,r)?s.concat(r):void 0);if(IE(n,r,a),!Hr(a))return;t.m=!1}else o&&n.add(i);if(Zn(i)&&!Rg(i)){if(!t.h.D&&t._<1)return;ic(t,i),e&&e.A.l||sc(t,i)}}function sc(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&Ig(e,n)}function Kh(t,e){var n=t[Te];return(n?ui(n):t)[e]}function T0(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function yr(t){t.P||(t.P=!0,t.l&&yr(t.l))}function Gh(t){t.o||(t.o=Sg(t.t))}function Cp(t,e,n){var r=Eg(e)?Rn("MapSet").F(e,n):Tg(e)?Rn("MapSet").T(e,n):t.O?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:Ip(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},l=a,u=Ra;o&&(l=[a],u=Oo);var c=Proxy.revocable(l,u),h=c.revoke,f=c.proxy;return a.k=f,a.j=h,f}(e,n):Rn("ES5").J(e,n);return(n?n.A:Ip()).p.push(r),r}function sb(t){return Hr(t)||ln(22,t),function e(n){if(!Zn(n))return n;var r,i=n[Te],s=lo(n);if(i){if(!i.P&&(i.i<4||!Rn("ES5").K(i)))return i.t;i.I=!0,r=S0(n,s),i.I=!1}else r=S0(n,s);return Ni(r,function(o,a){i&&tb(i.t,o)===a||IE(r,o,e(a))}),s===3?new Set(r):r}(t)}function S0(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return Sg(t)}function ob(){function t(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var l=this[Te];return Ra.get(l,s)},set:function(l){var u=this[Te];Ra.set(u,s,l)}},a}function e(s){for(var o=s.length-1;o>=0;o--){var a=s[o][Te];if(!a.P)switch(a.i){case 5:r(a)&&yr(a);break;case 4:n(a)&&yr(a)}}}function n(s){for(var o=s.t,a=s.k,l=Ps(a),u=l.length-1;u>=0;u--){var c=l[u];if(c!==Te){var h=o[c];if(h===void 0&&!As(o,c))return!0;var f=a[c],p=f&&f[Te];if(p?p.t!==h:!RE(f,h))return!0}}var v=!!o[Te];return l.length!==Ps(o).length+(v?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var l=0;l<o.length;l++)if(!o.hasOwnProperty(l))return!0;return!1}var i={};rb("ES5",{J:function(s,o){var a=Array.isArray(s),l=function(c,h){if(c){for(var f=Array(h.length),p=0;p<h.length;p++)Object.defineProperty(f,""+p,t(p,!0));return f}var v=kE(h);delete v[Te];for(var _=Ps(v),x=0;x<_.length;x++){var y=_[x];v[y]=t(y,c||!!v[y].enumerable)}return Object.create(Object.getPrototypeOf(h),v)}(a,s),u={i:a?5:4,A:o?o.A:Ip(),P:!1,I:!1,R:{},l:o,t:s,k:l,o:null,g:!1,C:!1};return Object.defineProperty(l,Te,{value:u,writable:!0}),l},S:function(s,o,a){a?Hr(o)&&o[Te].A===s&&e(s.p):(s.u&&function l(u){if(u&&typeof u=="object"){var c=u[Te];if(c){var h=c.t,f=c.k,p=c.R,v=c.i;if(v===4)Ni(f,function(w){w!==Te&&(h[w]!==void 0||As(h,w)?p[w]||l(f[w]):(p[w]=!0,yr(c)))}),Ni(h,function(w){f[w]!==void 0||As(f,w)||(p[w]=!1,yr(c))});else if(v===5){if(r(c)&&(yr(c),p.length=!0),f.length<h.length)for(var _=f.length;_<h.length;_++)p[_]=!1;else for(var x=h.length;x<f.length;x++)p[x]=!0;for(var y=Math.min(f.length,h.length),g=0;g<y;g++)f.hasOwnProperty(g)||(p[g]=!0),p[g]===void 0&&l(f[g])}}}}(s.p[0]),e(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var I0,Ia,Cg=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",ab=typeof Map<"u",lb=typeof Set<"u",R0=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",CE=Cg?Symbol.for("immer-nothing"):((I0={})["immer-nothing"]=!0,I0),C0=Cg?Symbol.for("immer-draftable"):"__$immer_draftable",Te=Cg?Symbol.for("immer-state"):"__$immer_state",ub=""+Object.prototype.constructor,Ps=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,kE=Object.getOwnPropertyDescriptors||function(t){var e={};return Ps(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},kp={},Ra={get:function(t,e){if(e===Te)return t;var n=ui(t);if(!As(n,e))return function(i,s,o){var a,l=T0(s,o);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0}(t,n,e);var r=n[e];return t.I||!Zn(r)?r:r===Kh(t.t,e)?(Gh(t),t.o[e]=Cp(t.A.h,r,t)):r},has:function(t,e){return e in ui(t)},ownKeys:function(t){return Reflect.ownKeys(ui(t))},set:function(t,e,n){var r=T0(ui(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=Kh(ui(t),e),s=i==null?void 0:i[Te];if(s&&s.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(RE(n,i)&&(n!==void 0||As(t.t,e)))return!0;Gh(t),yr(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return Kh(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,Gh(t),yr(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=ui(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){ln(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){ln(12)}},Oo={};Ni(Ra,function(t,e){Oo[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Oo.deleteProperty=function(t,e){return Oo.set.call(this,t,e,void 0)},Oo.set=function(t,e,n){return Ra.set.call(this,t[0],e,n,t[0])};var cb=function(){function t(n){var r=this;this.O=R0,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var l=r;return function(_){var x=this;_===void 0&&(_=a);for(var y=arguments.length,g=Array(y>1?y-1:0),w=1;w<y;w++)g[w-1]=arguments[w];return l.produce(_,function(E){var T;return(T=s).call.apply(T,[x,E].concat(g))})}}var u;if(typeof s!="function"&&ln(6),o!==void 0&&typeof o!="function"&&ln(7),Zn(i)){var c=x0(r),h=Cp(r,i,void 0),f=!0;try{u=s(h),f=!1}finally{f?rc(c):Rp(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(_){return Hh(c,o),qh(_,c)},function(_){throw rc(c),_}):(Hh(c,o),qh(u,c))}if(!i||typeof i!="object"){if((u=s(i))===void 0&&(u=i),u===CE&&(u=void 0),r.D&&Ig(u,!0),o){var p=[],v=[];Rn("Patches").M(i,u,p,v),o(p,v)}return u}ln(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(u){for(var c=arguments.length,h=Array(c>1?c-1:0),f=1;f<c;f++)h[f-1]=arguments[f];return r.produceWithPatches(u,function(p){return i.apply(void 0,[p].concat(h))})};var o,a,l=r.produce(i,s,function(u,c){o=u,a=c});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,o,a]}):[l,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){Zn(n)||ln(8),Hr(n)&&(n=sb(n));var r=x0(this),i=Cp(this,n,void 0);return i[Te].C=!0,Rp(r),i},e.finishDraft=function(n,r){var i=n&&n[Te],s=i.A;return Hh(s,r),qh(void 0,s)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!R0&&ln(20),this.O=n},e.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=Rn("Patches").$;return Hr(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},t}(),Bt=new cb,AE=Bt.produce;Bt.produceWithPatches.bind(Bt);Bt.setAutoFreeze.bind(Bt);Bt.setUseProxies.bind(Bt);Bt.applyPatches.bind(Bt);Bt.createDraft.bind(Bt);Bt.finishDraft.bind(Bt);function Ca(t){"@babel/helpers - typeof";return Ca=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ca(t)}function db(t,e){if(Ca(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ca(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hb(t){var e=db(t,"string");return Ca(e)==="symbol"?e:String(e)}function fb(t,e,n){return e=hb(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function A0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k0(Object(n),!0).forEach(function(r){fb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lt(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var P0=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Qh=function(){return Math.random().toString(36).substring(7).split("").join(".")},oc={INIT:"@@redux/INIT"+Qh(),REPLACE:"@@redux/REPLACE"+Qh(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Qh()}};function pb(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function PE(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(lt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(lt(1));return n(PE)(t,e)}if(typeof t!="function")throw new Error(lt(2));var i=t,s=e,o=[],a=o,l=!1;function u(){a===o&&(a=o.slice())}function c(){if(l)throw new Error(lt(3));return s}function h(_){if(typeof _!="function")throw new Error(lt(4));if(l)throw new Error(lt(5));var x=!0;return u(),a.push(_),function(){if(x){if(l)throw new Error(lt(6));x=!1,u();var g=a.indexOf(_);a.splice(g,1),o=null}}}function f(_){if(!pb(_))throw new Error(lt(7));if(typeof _.type>"u")throw new Error(lt(8));if(l)throw new Error(lt(9));try{l=!0,s=i(s,_)}finally{l=!1}for(var x=o=a,y=0;y<x.length;y++){var g=x[y];g()}return _}function p(_){if(typeof _!="function")throw new Error(lt(10));i=_,f({type:oc.REPLACE})}function v(){var _,x=h;return _={subscribe:function(g){if(typeof g!="object"||g===null)throw new Error(lt(11));function w(){g.next&&g.next(c())}w();var E=x(w);return{unsubscribe:E}}},_[P0]=function(){return this},_}return f({type:oc.INIT}),r={dispatch:f,subscribe:h,getState:c,replaceReducer:p},r[P0]=v,r}function mb(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:oc.INIT});if(typeof r>"u")throw new Error(lt(12));if(typeof n(void 0,{type:oc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(lt(13))})}function gb(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var s=Object.keys(n),o;try{mb(n)}catch(a){o=a}return function(l,u){if(l===void 0&&(l={}),o)throw o;for(var c=!1,h={},f=0;f<s.length;f++){var p=s[f],v=n[p],_=l[p],x=v(_,u);if(typeof x>"u")throw u&&u.type,new Error(lt(14));h[p]=x,c=c||x!==_}return c=c||s.length!==Object.keys(l).length,c?h:l}}function ac(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function yb(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(lt(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=e.map(function(l){return l(o)});return s=ac.apply(void 0,a)(i.dispatch),A0(A0({},i),{},{dispatch:s})}}}function NE(t){var e=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,t):o(a)}}};return e}var bE=NE();bE.withExtraArgument=NE;const N0=bE;var OE=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),vb=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},qs=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},_b=Object.defineProperty,wb=Object.defineProperties,xb=Object.getOwnPropertyDescriptors,b0=Object.getOwnPropertySymbols,Eb=Object.prototype.hasOwnProperty,Tb=Object.prototype.propertyIsEnumerable,O0=function(t,e,n){return e in t?_b(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},Mr=function(t,e){for(var n in e||(e={}))Eb.call(e,n)&&O0(t,n,e[n]);if(b0)for(var r=0,i=b0(e);r<i.length;r++){var n=i[r];Tb.call(e,n)&&O0(t,n,e[n])}return t},Xh=function(t,e){return wb(t,xb(e))},Sb=function(t,e,n){return new Promise(function(r,i){var s=function(l){try{a(n.next(l))}catch(u){i(u)}},o=function(l){try{a(n.throw(l))}catch(u){i(u)}},a=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(s,o)};a((n=n.apply(t,e)).next())})},Ib=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ac:ac.apply(null,arguments)};function Rb(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}var Cb=function(t){OE(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,qs([void 0],n[0].concat(this)))):new(e.bind.apply(e,qs([void 0],n.concat(this))))},e}(Array),kb=function(t){OE(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,qs([void 0],n[0].concat(this)))):new(e.bind.apply(e,qs([void 0],n.concat(this))))},e}(Array);function Ap(t){return Zn(t)?AE(t,function(){}):t}function Ab(t){return typeof t=="boolean"}function Pb(){return function(e){return Nb(e)}}function Nb(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck;var r=new Cb;return n&&(Ab(n)?r.push(N0):r.push(N0.withExtraArgument(n.extraArgument))),r}var bb=!0;function Ob(t){var e=Pb(),n=t||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?e():s,a=n.devTools,l=a===void 0?!0:a,u=n.preloadedState,c=u===void 0?void 0:u,h=n.enhancers,f=h===void 0?void 0:h,p;if(typeof i=="function")p=i;else if(Rb(i))p=gb(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var v=o;typeof v=="function"&&(v=v(e));var _=yb.apply(void 0,v),x=ac;l&&(x=Ib(Mr({trace:!bb},typeof l=="object"&&l)));var y=new kb(_),g=y;Array.isArray(f)?g=qs([_],f):typeof f=="function"&&(g=f(y));var w=x.apply(void 0,g);return PE(p,c,w)}function Vr(t,e){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(e){var s=e.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return Mr(Mr({type:t,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}function DE(t){var e={},n=[],r,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(a in e)throw new Error("addCase cannot be called with two reducers for the same action type");return e[a]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return t(i),[e,n,r]}function Db(t){return typeof t=="function"}function Lb(t,e,n,r){n===void 0&&(n=[]);var i=typeof e=="function"?DE(e):[e,n,r],s=i[0],o=i[1],a=i[2],l;if(Db(t))l=function(){return Ap(t())};else{var u=Ap(t);l=function(){return u}}function c(h,f){h===void 0&&(h=l());var p=qs([s[f.type]],o.filter(function(v){var _=v.matcher;return _(f)}).map(function(v){var _=v.reducer;return _}));return p.filter(function(v){return!!v}).length===0&&(p=[a]),p.reduce(function(v,_){if(_)if(Hr(v)){var x=v,y=_(x,f);return y===void 0?v:y}else{if(Zn(v))return AE(v,function(g){return _(g,f)});var y=_(v,f);if(y===void 0){if(v===null)return v;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}return v},h)}return c.getInitialState=l,c}function jb(t,e){return t+"/"+e}function Mb(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof t.initialState=="function"?t.initialState:Ap(t.initialState),r=t.reducers||{},i=Object.keys(r),s={},o={},a={};i.forEach(function(c){var h=r[c],f=jb(e,c),p,v;"reducer"in h?(p=h.reducer,v=h.prepare):p=h,s[c]=p,o[f]=p,a[c]=v?Vr(f,v):Vr(f)});function l(){var c=typeof t.extraReducers=="function"?DE(t.extraReducers):[t.extraReducers],h=c[0],f=h===void 0?{}:h,p=c[1],v=p===void 0?[]:p,_=c[2],x=_===void 0?void 0:_,y=Mr(Mr({},f),o);return Lb(n,function(g){for(var w in y)g.addCase(w,y[w]);for(var E=0,T=v;E<T.length;E++){var S=T[E];g.addMatcher(S.matcher,S.reducer)}x&&g.addDefaultCase(x)})}var u;return{name:e,reducer:function(c,h){return u||(u=l()),u(c,h)},actions:a,caseReducers:s,getInitialState:function(){return u||(u=l()),u.getInitialState()}}}var Vb="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",$b=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=Vb[Math.random()*64|0];return e},Fb=["name","message","stack","code"],Yh=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),D0=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),Ub=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,r=Fb;n<r.length;n++){var i=r[n];typeof t[i]=="string"&&(e[i]=t[i])}return e}return{message:String(t)}};(function(){function t(e,n,r){var i=Vr(e+"/fulfilled",function(u,c,h,f){return{payload:u,meta:Xh(Mr({},f||{}),{arg:h,requestId:c,requestStatus:"fulfilled"})}}),s=Vr(e+"/pending",function(u,c,h){return{payload:void 0,meta:Xh(Mr({},h||{}),{arg:c,requestId:u,requestStatus:"pending"})}}),o=Vr(e+"/rejected",function(u,c,h,f,p){return{payload:f,error:(r&&r.serializeError||Ub)(u||"Rejected"),meta:Xh(Mr({},p||{}),{arg:h,requestId:c,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function u(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return u.prototype.abort=function(){},u}();function l(u){return function(c,h,f){var p=r!=null&&r.idGenerator?r.idGenerator(u):$b(),v=new a,_;function x(g){_=g,v.abort()}var y=function(){return Sb(this,null,function(){var g,w,E,T,S,R,I;return vb(this,function(L){switch(L.label){case 0:return L.trys.push([0,4,,5]),T=(g=r==null?void 0:r.condition)==null?void 0:g.call(r,u,{getState:h,extra:f}),zb(T)?[4,T]:[3,2];case 1:T=L.sent(),L.label=2;case 2:if(T===!1||v.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return S=new Promise(function(C,N){return v.signal.addEventListener("abort",function(){return N({name:"AbortError",message:_||"Aborted"})})}),c(s(p,u,(w=r==null?void 0:r.getPendingMeta)==null?void 0:w.call(r,{requestId:p,arg:u},{getState:h,extra:f}))),[4,Promise.race([S,Promise.resolve(n(u,{dispatch:c,getState:h,extra:f,requestId:p,signal:v.signal,abort:x,rejectWithValue:function(C,N){return new Yh(C,N)},fulfillWithValue:function(C,N){return new D0(C,N)}})).then(function(C){if(C instanceof Yh)throw C;return C instanceof D0?i(C.payload,p,u,C.meta):i(C,p,u)})])];case 3:return E=L.sent(),[3,5];case 4:return R=L.sent(),E=R instanceof Yh?o(null,p,u,R.payload,R.meta):o(R,p,u),[3,5];case 5:return I=r&&!r.dispatchConditionRejection&&o.match(E)&&E.meta.condition,I||c(E),[2,E]}})})}();return Object.assign(y,{abort:x,requestId:p,arg:u,unwrap:function(){return y.then(Bb)}})}}return Object.assign(l,{pending:s,rejected:o,fulfilled:i,typePrefix:e})}return t.withTypes=function(){return t},t})();function Bb(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function zb(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var kg="listenerMiddleware";Vr(kg+"/add");Vr(kg+"/removeAll");Vr(kg+"/remove");var L0;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);ob();const Wb={song:{id:"",name:"",singer:"",file_name:"",image_path:"",song_path:"",by:"",duration:0,lyric_id:"",currentIndex:0},playlist:{name:"",songs:[],time:0,count:0,by:""}},LE=Mb({name:"song",initialState:Wb,reducers:{setSong(t,e){const n=e.payload;t.song={...n}},setPlaylist(t,e){t.playlist={...e.payload}}}}),ur=t=>t.song,{setSong:qn,setPlaylist:Hb}=LE.actions,qb=LE.reducer,jE={songs:[]},Kb=(t,e)=>{switch(e.type){case 0:return{songs:e.payload.songs||[]};default:return{songs:t.songs}}},Gb=t=>{const[e,n]=m.useReducer(Kb,t),r=m.useCallback(i=>{n({type:0,payload:{songs:i}})},[]);return{state:e,setSongs:r}},Qb={state:jE,setSongs:()=>{}},ME=m.createContext(Qb),Xb=({children:t,songsStore:e})=>d.jsx(ME.Provider,{value:Gb(e),children:t}),uo=()=>{const{state:{songs:t},setSongs:e}=m.useContext(ME);return{songs:t,setSongs:e}},lc={red:{id:"red",type:"dark",bottom_player_bg:"bg-[#3b1113]",side_bar_bg:"bg-[#391b1c]",content_text:"text-[#ca4954]",content_hover_text:"hover:text-[#ca4954]",content_bg:"bg-[#ca4954]",content_hover_bg:"hover:bg-[#ca4954]",container:"bg-[#2e0f10]"},deep_blue:{id:"deep_blue",type:"dark",bottom_player_bg:"bg-[#111f3b]",side_bar_bg:"bg-[#1b2639]",content_text:"text-[#0c9e85]",content_hover_text:"hover:text-[#0c9e85]",content_bg:"bg-[#0c9e85]",content_hover_bg:"hover:bg-[#0c9e85]",container:"bg-[#0f1a2e]"},green_light:{id:"green_light",type:"light",bottom_player_bg:"bg-[#c0d8d8]",side_bar_bg:"bg-[#dde5e5]",content_text:"text-[#198585]",content_hover_text:"hover:text-[#198585]",content_bg:"bg-[#198585]",content_hover_bg:"hover:bg-[#198585]",container:"bg-[#ced9d9]"}},Yb=JSON.parse(localStorage.getItem("theme")),j0=lc[Yb]||lc.red,VE={theme:{...j0,alpha:j0.type==="light"?"[#000]/[.1]":"[#fff]/[.1]"}},Jb=(t,e)=>({theme:{...lc[e.payload.id],alpha:lc[e.payload.id].type==="dark"?"[#fff]/[.1]":"[#000]/[.1]"}}),Zb=t=>{const[e,n]=m.useReducer(Jb,t),r=m.useCallback(i=>{console.log("set theme"),n({type:0,payload:{id:i}})},[]);return{state:e,setTheme:r}},eO={state:VE,setTheme:()=>{}},$E=m.createContext(eO),tO=({children:t,theme:e})=>d.jsx($E.Provider,{value:Zb(e),children:t}),wt=()=>{const{state:{theme:t},setTheme:e}=m.useContext($E);return{theme:t,setTheme:e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},nO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},UE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(f=64)),r.push(n[c],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(FE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):nO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new rO;const f=s<<2|a>>4;if(r.push(f),u!==64){const p=a<<4&240|u>>2;if(r.push(p),h!==64){const v=u<<6&192|h;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class rO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iO=function(t){const e=FE(t);return UE.encodeByteArray(e,!0)},uc=function(t){return iO(t).replace(/\./g,"")},BE=function(t){try{return UE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO=()=>sO().__FIREBASE_DEFAULTS__,aO=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},lO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&BE(t[1]);return e&&JSON.parse(e)},bd=()=>{try{return oO()||aO()||lO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},zE=t=>{var e,n;return(n=(e=bd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},WE=t=>{const e=zE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},HE=()=>{var t;return(t=bd())===null||t===void 0?void 0:t.config},qE=t=>{var e;return(e=bd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[uc(JSON.stringify(n)),uc(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vt())}function dO(){var t;const e=(t=bd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function fO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pO(){const t=vt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function mO(){try{return typeof indexedDB=="object"}catch{return!1}}function gO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO="FirebaseError";class Ln extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=yO,Object.setPrototypeOf(this,Ln.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,el.prototype.create)}}class el{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?vO(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ln(i,a,r)}}function vO(t,e){return t.replace(_O,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const _O=/\{\$([^}]+)}/g;function wO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function cc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(M0(s)&&M0(o)){if(!cc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function M0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function xO(t,e){const n=new EO(t,e);return n.subscribe.bind(n)}class EO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");TO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Jh),i.error===void 0&&(i.error=Jh),i.complete===void 0&&(i.complete=Jh);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Jh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(t){return t&&t._delegate?t._delegate:t}class qr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new uO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(RO(e))try{this.getOrInitializeService({instanceIdentifier:ci})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ci){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ci){return this.instances.has(e)}getOptions(e=ci){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:IO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ci){return this.component?this.component.multipleInstances?e:ci:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function IO(t){return t===ci?void 0:t}function RO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new SO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(le||(le={}));const kO={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},AO=le.INFO,PO={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},NO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=PO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ag{constructor(e){this.name=e,this._logLevel=AO,this._logHandler=NO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}}const bO=(t,e)=>e.some(n=>t instanceof n);let V0,$0;function OO(){return V0||(V0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DO(){return $0||($0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GE=new WeakMap,Pp=new WeakMap,QE=new WeakMap,Zh=new WeakMap,Pg=new WeakMap;function LO(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n($r(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&GE.set(n,t)}).catch(()=>{}),Pg.set(e,t),e}function jO(t){if(Pp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Pp.set(t,e)}let Np={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Pp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||QE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $r(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function MO(t){Np=t(Np)}function VO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ef(this),e,...n);return QE.set(r,e.sort?e.sort():[e]),$r(r)}:DO().includes(t)?function(...e){return t.apply(ef(this),e),$r(GE.get(this))}:function(...e){return $r(t.apply(ef(this),e))}}function $O(t){return typeof t=="function"?VO(t):(t instanceof IDBTransaction&&jO(t),bO(t,OO())?new Proxy(t,Np):t)}function $r(t){if(t instanceof IDBRequest)return LO(t);if(Zh.has(t))return Zh.get(t);const e=$O(t);return e!==t&&(Zh.set(t,e),Pg.set(e,t)),e}const ef=t=>Pg.get(t);function FO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=$r(o);return r&&o.addEventListener("upgradeneeded",l=>{r($r(o.result),l.oldVersion,l.newVersion,$r(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const UO=["get","getKey","getAll","getAllKeys","count"],BO=["put","add","delete","clear"],tf=new Map;function F0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(tf.get(e))return tf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=BO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||UO.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return tf.set(e,s),s}MO(t=>({...t,get:(e,n,r)=>F0(e,n)||t.get(e,n,r),has:(e,n)=>!!F0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(WO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function WO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const bp="@firebase/app",U0="0.9.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=new Ag("@firebase/app"),HO="@firebase/app-compat",qO="@firebase/analytics-compat",KO="@firebase/analytics",GO="@firebase/app-check-compat",QO="@firebase/app-check",XO="@firebase/auth",YO="@firebase/auth-compat",JO="@firebase/database",ZO="@firebase/database-compat",e5="@firebase/functions",t5="@firebase/functions-compat",n5="@firebase/installations",r5="@firebase/installations-compat",i5="@firebase/messaging",s5="@firebase/messaging-compat",o5="@firebase/performance",a5="@firebase/performance-compat",l5="@firebase/remote-config",u5="@firebase/remote-config-compat",c5="@firebase/storage",d5="@firebase/storage-compat",h5="@firebase/firestore",f5="@firebase/firestore-compat",p5="firebase",m5="10.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op="[DEFAULT]",g5={[bp]:"fire-core",[HO]:"fire-core-compat",[KO]:"fire-analytics",[qO]:"fire-analytics-compat",[QO]:"fire-app-check",[GO]:"fire-app-check-compat",[XO]:"fire-auth",[YO]:"fire-auth-compat",[JO]:"fire-rtdb",[ZO]:"fire-rtdb-compat",[e5]:"fire-fn",[t5]:"fire-fn-compat",[n5]:"fire-iid",[r5]:"fire-iid-compat",[i5]:"fire-fcm",[s5]:"fire-fcm-compat",[o5]:"fire-perf",[a5]:"fire-perf-compat",[l5]:"fire-rc",[u5]:"fire-rc-compat",[c5]:"fire-gcs",[d5]:"fire-gcs-compat",[h5]:"fire-fst",[f5]:"fire-fst-compat","fire-js":"fire-js",[p5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc=new Map,Dp=new Map;function y5(t,e){try{t.container.addComponent(e)}catch(n){bi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Oi(t){const e=t.name;if(Dp.has(e))return bi.debug(`There were multiple attempts to register component ${e}.`),!1;Dp.set(e,t);for(const n of dc.values())y5(n,t);return!0}function Od(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Fr=new el("app","Firebase",v5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi=m5;function XE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Op,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Fr.create("bad-app-name",{appName:String(i)});if(n||(n=HE()),!n)throw Fr.create("no-options");const s=dc.get(i);if(s){if(cc(n,s.options)&&cc(r,s.config))return s;throw Fr.create("duplicate-app",{appName:i})}const o=new CO(i);for(const l of Dp.values())o.addComponent(l);const a=new _5(n,r,o);return dc.set(i,a),a}function Ng(t=Op){const e=dc.get(t);if(!e&&t===Op&&HE())return XE();if(!e)throw Fr.create("no-app",{appName:t});return e}function Cn(t,e,n){var r;let i=(r=g5[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bi.warn(a.join(" "));return}Oi(new qr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w5="firebase-heartbeat-database",x5=1,ka="firebase-heartbeat-store";let nf=null;function YE(){return nf||(nf=FO(w5,x5,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ka)}}}).catch(t=>{throw Fr.create("idb-open",{originalErrorMessage:t.message})})),nf}async function E5(t){try{return await(await YE()).transaction(ka).objectStore(ka).get(JE(t))}catch(e){if(e instanceof Ln)bi.warn(e.message);else{const n=Fr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});bi.warn(n.message)}}}async function B0(t,e){try{const r=(await YE()).transaction(ka,"readwrite");await r.objectStore(ka).put(e,JE(t)),await r.done}catch(n){if(n instanceof Ln)bi.warn(n.message);else{const r=Fr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});bi.warn(r.message)}}}function JE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T5=1024,S5=30*24*60*60*1e3;class I5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new C5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=z0();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=S5}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=z0(),{heartbeatsToSend:n,unsentEntries:r}=R5(this._heartbeatsCache.heartbeats),i=uc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function z0(){return new Date().toISOString().substring(0,10)}function R5(t,e=T5){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),W0(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),W0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class C5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mO()?gO().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await E5(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return B0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return B0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function W0(t){return uc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k5(t){Oi(new qr("platform-logger",e=>new zO(e),"PRIVATE")),Oi(new qr("heartbeat",e=>new I5(e),"PRIVATE")),Cn(bp,U0,t),Cn(bp,U0,"esm2017"),Cn("fire-js","")}k5("");function bg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ZE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const A5=ZE,eT=new el("auth","Firebase",ZE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=new Ag("@firebase/auth");function P5(t,...e){hc.logLevel<=le.WARN&&hc.warn(`Auth (${Xi}): ${t}`,...e)}function xu(t,...e){hc.logLevel<=le.ERROR&&hc.error(`Auth (${Xi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(t,...e){throw Og(t,...e)}function kn(t,...e){return Og(t,...e)}function tT(t,e,n){const r=Object.assign(Object.assign({},A5()),{[e]:n});return new el("auth","Firebase",r).create(e,{appName:t.name})}function N5(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&bn(t,"argument-error"),tT(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Og(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return eT.create(t,...e)}function Z(t,e,...n){if(!t)throw Og(e,...n)}function Bn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw xu(e),new Error(e)}function er(t,e){t||Bn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function b5(){return H0()==="http:"||H0()==="https:"}function H0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(b5()||hO()||"connection"in navigator)?navigator.onLine:!0}function D5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,n){this.shortDelay=e,this.longDelay=n,er(n>e,"Short delay should be less than long delay!"),this.isMobile=cO()||fO()}get(){return O5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(t,e){er(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Bn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Bn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Bn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j5=new nl(3e4,6e4);function rT(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function rl(t,e,n,r,i={}){return iT(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=tl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),nT.fetch()(sT(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function iT(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},L5),e);try{const i=new V5(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Ql(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ql(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ql(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ql(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw tT(t,c,u);bn(t,c)}}catch(i){if(i instanceof Ln)throw i;bn(t,"network-request-failed",{message:String(i)})}}async function M5(t,e,n,r,i={}){const s=await rl(t,e,n,r,i);return"mfaPendingCredential"in s&&bn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function sT(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Dg(t.config,i):`${t.config.apiScheme}://${i}`}class V5{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(kn(this.auth,"network-request-failed")),j5.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ql(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=kn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $5(t,e){return rl(t,"POST","/v1/accounts:delete",e)}async function F5(t,e){return rl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Go(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function U5(t,e=!1){const n=He(t),r=await n.getIdToken(e),i=Lg(r);Z(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Go(rf(i.auth_time)),issuedAtTime:Go(rf(i.iat)),expirationTime:Go(rf(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function rf(t){return Number(t)*1e3}function Lg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return xu("JWT malformed, contained fewer than 3 sections"),null;try{const i=BE(n);return i?JSON.parse(i):(xu("Failed to decode base64 JWT payload"),null)}catch(i){return xu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function B5(t){const e=Lg(t);return Z(e,"internal-error"),Z(typeof e.exp<"u","internal-error"),Z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ln&&z5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function z5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Go(this.lastLoginAt),this.creationTime=Go(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Aa(t,F5(n,{idToken:r}));Z(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?K5(s.providerUserInfo):[],a=q5(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new oT(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function H5(t){const e=He(t);await fc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function q5(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function K5(t){return t.map(e=>{var{providerId:n}=e,r=bg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G5(t,e){const n=await iT(t,{},async()=>{const r=tl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=sT(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",nT.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Z(e.idToken,"internal-error"),Z(typeof e.idToken<"u","internal-error"),Z(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):B5(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Z(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await G5(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Pa;return r&&(Z(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Z(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Z(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pa,this.toJSON())}_performRefresh(){return Bn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(t,e){Z(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class xi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=bg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new W5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new oT(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Aa(this,this.stsTokenManager.getToken(this.auth,e));return Z(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return U5(this,e)}reload(){return H5(this)}_assign(e){this!==e&&(Z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new xi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await fc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Aa(this,$5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,g=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:w,emailVerified:E,isAnonymous:T,providerData:S,stsTokenManager:R}=n;Z(w&&R,e,"internal-error");const I=Pa.fromJSON(this.name,R);Z(typeof w=="string",e,"internal-error"),hr(h,e.name),hr(f,e.name),Z(typeof E=="boolean",e,"internal-error"),Z(typeof T=="boolean",e,"internal-error"),hr(p,e.name),hr(v,e.name),hr(_,e.name),hr(x,e.name),hr(y,e.name),hr(g,e.name);const L=new xi({uid:w,auth:e,email:f,emailVerified:E,displayName:h,isAnonymous:T,photoURL:v,phoneNumber:p,tenantId:_,stsTokenManager:I,createdAt:y,lastLoginAt:g});return S&&Array.isArray(S)&&(L.providerData=S.map(C=>Object.assign({},C))),x&&(L._redirectEventId=x),L}static async _fromIdTokenResponse(e,n,r=!1){const i=new Pa;i.updateFromServerResponse(n);const s=new xi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await fc(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0=new Map;function zn(t){er(t instanceof Function,"Expected a class definition");let e=q0.get(t);return e?(er(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,q0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}aT.type="NONE";const K0=aT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(t,e,n){return`firebase:${t}:${e}:${n}`}class Ns{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Eu(this.userKey,i.apiKey,s),this.fullPersistenceKey=Eu("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?xi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ns(zn(K0),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||zn(K0);const o=Eu(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const h=xi._fromJSON(e,c);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Ns(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Ns(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hT(e))return"Blackberry";if(fT(e))return"Webos";if(jg(e))return"Safari";if((e.includes("chrome/")||uT(e))&&!e.includes("edge/"))return"Chrome";if(dT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function lT(t=vt()){return/firefox\//i.test(t)}function jg(t=vt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uT(t=vt()){return/crios\//i.test(t)}function cT(t=vt()){return/iemobile/i.test(t)}function dT(t=vt()){return/android/i.test(t)}function hT(t=vt()){return/blackberry/i.test(t)}function fT(t=vt()){return/webos/i.test(t)}function Dd(t=vt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Q5(t=vt()){var e;return Dd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function X5(){return pO()&&document.documentMode===10}function pT(t=vt()){return Dd(t)||dT(t)||fT(t)||hT(t)||/windows phone/i.test(t)||cT(t)}function Y5(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(t,e=[]){let n;switch(t){case"Browser":n=G0(vt());break;case"Worker":n=`${G0(vt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z5(t,e={}){return rl(t,"GET","/v2/passwordPolicy",rT(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4=6;class t4{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:e4,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Q0(this),this.idTokenSubscription=new Q0(this),this.beforeStateQueue=new J5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=zn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ns.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Z(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await fc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=D5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?He(e):null;return n&&Z(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(zn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Z5(this),n=new t4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new el("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&zn(e)||this._popupRedirectResolver;Z(n,this,"argument-error"),this.redirectPersistenceManager=await Ns.create(this,[zn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Z(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&P5(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ld(t){return He(t)}class Q0{constructor(e){this.auth=e,this.observer=null,this.addObserver=xO(n=>this.observer=n)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function i4(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=kn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",r4().appendChild(r)})}function s4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o4(t,e){const n=Od(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(cc(s,e??{}))return i;bn(i,"already-initialized")}return n.initialize({options:e})}function a4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(zn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function l4(t,e,n){const r=Ld(t);Z(r._canInitEmulator,r,"emulator-config-failed"),Z(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=gT(e),{host:o,port:a}=u4(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||c4()}function gT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function u4(t){const e=gT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:X0(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:X0(o)}}}function X0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function c4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Bn("not implemented")}_getIdTokenResponse(e){return Bn("not implemented")}_linkToIdToken(e,n){return Bn("not implemented")}_getReauthenticationResolver(e){return Bn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bs(t,e){return M5(t,"POST","/v1/accounts:signInWithIdp",rT(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4="http://localhost";class Di extends yT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Di(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):bn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=bg(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Di(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return bs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,bs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,bs(e,n)}buildRequest(){const e={requestUri:d4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=tl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il extends Mg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr extends il{constructor(){super("facebook.com")}static credential(e){return Di._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vr.credentialFromTaggedObject(e)}static credentialFromError(e){return vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vr.credential(e.oauthAccessToken)}catch{return null}}}vr.FACEBOOK_SIGN_IN_METHOD="facebook.com";vr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn extends il{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Di._fromParams({providerId:vn.PROVIDER_ID,signInMethod:vn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return vn.credentialFromTaggedObject(e)}static credentialFromError(e){return vn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return vn.credential(n,r)}catch{return null}}}vn.GOOGLE_SIGN_IN_METHOD="google.com";vn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r extends il{constructor(){super("github.com")}static credential(e){return Di._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _r.credentialFromTaggedObject(e)}static credentialFromError(e){return _r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _r.credential(e.oauthAccessToken)}catch{return null}}}_r.GITHUB_SIGN_IN_METHOD="github.com";_r.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends il{constructor(){super("twitter.com")}static credential(e,n){return Di._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return wr.credentialFromTaggedObject(e)}static credentialFromError(e){return wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return wr.credential(n,r)}catch{return null}}}wr.TWITTER_SIGN_IN_METHOD="twitter.com";wr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await xi._fromIdTokenResponse(e,r,i),o=Y0(r);return new Ks({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Y0(r);return new Ks({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Y0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc extends Ln{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,pc.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new pc(e,n,r,i)}}function vT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?pc._fromErrorAndOperation(t,s,e,r):s})}async function h4(t,e,n=!1){const r=await Aa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ks._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f4(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Aa(t,vT(r,i,e,t),n);Z(s.idToken,r,"internal-error");const o=Lg(s.idToken);Z(o,r,"internal-error");const{sub:a}=o;return Z(t.uid===a,r,"user-mismatch"),Ks._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&bn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p4(t,e,n=!1){const r="signIn",i=await vT(t,r,e),s=await Ks._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function m4(t,e,n,r){return He(t).onIdTokenChanged(e,n,r)}function g4(t,e,n){return He(t).beforeAuthStateChanged(e,n)}function y4(t,e,n,r){return He(t).onAuthStateChanged(e,n,r)}function v4(t){return He(t).signOut()}const mc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(mc,"1"),this.storage.removeItem(mc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(){const t=vt();return jg(t)||Dd(t)}const w4=1e3,x4=10;class wT extends _T{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=_4()&&Y5(),this.fallbackToPolling=pT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);X5()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,x4):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},w4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}wT.type="LOCAL";const E4=wT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT extends _T{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}xT.type="SESSION";const ET=xT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new jd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await T4(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Vg("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(){return window}function I4(t){An().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(){return typeof An().WorkerGlobalScope<"u"&&typeof An().importScripts=="function"}async function R4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function C4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function k4(){return TT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="firebaseLocalStorageDb",A4=1,gc="firebaseLocalStorage",IT="fbase_key";class sl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Md(t,e){return t.transaction([gc],e?"readwrite":"readonly").objectStore(gc)}function P4(){const t=indexedDB.deleteDatabase(ST);return new sl(t).toPromise()}function jp(){const t=indexedDB.open(ST,A4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(gc,{keyPath:IT})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(gc)?e(r):(r.close(),await P4(),e(await jp()))})})}async function J0(t,e,n){const r=Md(t,!0).put({[IT]:e,value:n});return new sl(r).toPromise()}async function N4(t,e){const n=Md(t,!1).get(e),r=await new sl(n).toPromise();return r===void 0?null:r.value}function Z0(t,e){const n=Md(t,!0).delete(e);return new sl(n).toPromise()}const b4=800,O4=3;class RT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>O4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return TT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jd._getInstance(k4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await R4(),!this.activeServiceWorker)return;this.sender=new S4(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||C4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jp();return await J0(e,mc,"1"),await Z0(e,mc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>J0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>N4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Z0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Md(i,!1).getAll();return new sl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),b4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}RT.type="LOCAL";const D4=RT;new nl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(t,e){return e?zn(e):(Z(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g extends yT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return bs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return bs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function L4(t){return p4(t.auth,new $g(t),t.bypassAuthState)}function j4(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),f4(n,new $g(t),t.bypassAuthState)}async function M4(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),h4(n,new $g(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return L4;case"linkViaPopup":case"linkViaRedirect":return M4;case"reauthViaPopup":case"reauthViaRedirect":return j4;default:bn(this.auth,"internal-error")}}resolve(e){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4=new nl(2e3,1e4);async function $4(t,e,n){const r=Ld(t);N5(t,e,Mg);const i=CT(r,n);return new pi(r,"signInViaPopup",e,i).executeNotNull()}class pi extends kT{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,pi.currentPopupAction&&pi.currentPopupAction.cancel(),pi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Z(e,this.auth,"internal-error"),e}async onExecution(){er(this.filter.length===1,"Popup operations only handle one event");const e=Vg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(kn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(kn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(kn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,V4.get())};e()}}pi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4="pendingRedirect",Tu=new Map;class U4 extends kT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Tu.get(this.auth._key());if(!e){try{const r=await B4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Tu.set(this.auth._key(),e)}return this.bypassAuthState||Tu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function B4(t,e){const n=H4(e),r=W4(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function z4(t,e){Tu.set(t._key(),e)}function W4(t){return zn(t._redirectPersistence)}function H4(t){return Eu(F4,t.config.apiKey,t.name)}async function q4(t,e,n=!1){const r=Ld(t),i=CT(r,e),o=await new U4(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4=10*60*1e3;class G4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Q4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!AT(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(kn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=K4&&this.cachedEventUids.clear(),this.cachedEventUids.has(e_(e))}saveEventToCache(e){this.cachedEventUids.add(e_(e)),this.lastProcessedEventTime=Date.now()}}function e_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function AT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Q4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X4(t,e={}){return rl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,J4=/^https?/;async function Z4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await X4(t);for(const n of e)try{if(eD(n))return}catch{}bn(t,"unauthorized-domain")}function eD(t){const e=Lp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!J4.test(n))return!1;if(Y4.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=new nl(3e4,6e4);function t_(){const t=An().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function nD(t){return new Promise((e,n)=>{var r,i,s;function o(){t_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{t_(),n(kn(t,"network-request-failed"))},timeout:tD.get()})}if(!((i=(r=An().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=An().gapi)===null||s===void 0)&&s.load)o();else{const a=s4("iframefcb");return An()[a]=()=>{gapi.load?o():n(kn(t,"network-request-failed"))},i4(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Su=null,e})}let Su=null;function rD(t){return Su=Su||nD(t),Su}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD=new nl(5e3,15e3),sD="__/auth/iframe",oD="emulator/auth/iframe",aD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uD(t){const e=t.config;Z(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Dg(e,oD):`https://${t.config.authDomain}/${sD}`,r={apiKey:e.apiKey,appName:t.name,v:Xi},i=lD.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${tl(r).slice(1)}`}async function cD(t){const e=await rD(t),n=An().gapi;return Z(n,t,"internal-error"),e.open({where:document.body,url:uD(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aD,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=kn(t,"network-request-failed"),a=An().setTimeout(()=>{s(o)},iD.get());function l(){An().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hD=500,fD=600,pD="_blank",mD="http://localhost";class n_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gD(t,e,n,r=hD,i=fD){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},dD),{width:r.toString(),height:i.toString(),top:s,left:o}),u=vt().toLowerCase();n&&(a=uT(u)?pD:n),lT(u)&&(e=e||mD,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[p,v])=>`${f}${p}=${v},`,"");if(Q5(u)&&a!=="_self")return yD(e||"",a),new n_(null);const h=window.open(e||"",a,c);Z(h,t,"popup-blocked");try{h.focus()}catch{}return new n_(h)}function yD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD="__/auth/handler",_D="emulator/auth/handler",wD=encodeURIComponent("fac");async function r_(t,e,n,r,i,s){Z(t.config.authDomain,t,"auth-domain-config-required"),Z(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Xi,eventId:i};if(e instanceof Mg){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",wO(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,h]of Object.entries(s||{}))o[c]=h}if(e instanceof il){const c=e.getScopes().filter(h=>h!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${wD}=${encodeURIComponent(l)}`:"";return`${xD(t)}?${tl(a).slice(1)}${u}`}function xD({config:t}){return t.emulator?Dg(t,_D):`https://${t.authDomain}/${vD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sf="webStorageSupport";class ED{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ET,this._completeRedirectFn=q4,this._overrideRedirectResult=z4}async _openPopup(e,n,r,i){var s;er((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await r_(e,n,r,Lp(),i);return gD(e,o,Vg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await r_(e,n,r,Lp(),i);return I4(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(er(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await cD(e),r=new G4(e);return n.register("authEvent",i=>(Z(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(sf,{type:sf},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[sf];o!==void 0&&n(!!o),bn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Z4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return pT()||jg()||Dd()}}const TD=ED;var i_="@firebase/auth",s_="1.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function RD(t){Oi(new qr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Z(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mT(t)},u=new n4(r,i,s,l);return a4(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Oi(new qr("auth-internal",e=>{const n=Ld(e.getProvider("auth").getImmediate());return(r=>new SD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Cn(i_,s_,ID(t)),Cn(i_,s_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD=5*60,kD=qE("authIdTokenMaxAge")||CD;let o_=null;const AD=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>kD)return;const i=n==null?void 0:n.token;o_!==i&&(o_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function PD(t=Ng()){const e=Od(t,"auth");if(e.isInitialized())return e.getImmediate();const n=o4(t,{popupRedirectResolver:TD,persistence:[D4,E4,ET]}),r=qE("authTokenSyncURL");if(r){const s=AD(r);g4(n,s,()=>s(n.currentUser)),m4(n,o=>s(o))}const i=zE("auth");return i&&l4(n,`http://${i}`),n}RD("Browser");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function PT(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?s(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}function NT(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var xs=function(){return xs=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},xs.apply(this,arguments)},bT=function(t){return{loading:t==null,value:t}},ND=function(){return function(t,e){switch(e.type){case"error":return xs(xs({},t),{error:e.error,loading:!1,value:void 0});case"reset":return bT(e.defaultValue);case"value":return xs(xs({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},bD=function(t){var e=t?t():void 0,n=m.useReducer(ND(),bT(e)),r=n[0],i=n[1],s=m.useCallback(function(){var l=t?t():void 0;i({type:"reset",defaultValue:l})},[t]),o=m.useCallback(function(l){i({type:"error",error:l})},[]),a=m.useCallback(function(l){i({type:"value",value:l})},[]);return m.useMemo(function(){return{error:r.error,loading:r.loading,reset:s,setError:o,setValue:a,value:r.value}},[r.error,r.loading,s,o,a,r.value])},Yi=function(t,e){var n=bD(function(){return t.currentUser}),r=n.error,i=n.loading,s=n.setError,o=n.setValue,a=n.value;return m.useEffect(function(){var l=y4(t,function(u){return PT(void 0,void 0,void 0,function(){var c;return NT(this,function(h){switch(h.label){case 0:if(!(e!=null&&e.onUserChanged))return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,e.onUserChanged(u)];case 2:return h.sent(),[3,4];case 3:return c=h.sent(),s(c),[3,4];case 4:return o(u),[2]}})})},s);return function(){l()}},[t]),[a,i,r]},OT=function(t){var e=m.useCallback(function(n,r){var i=new vn;return n&&n.forEach(function(s){return i.addScope(s)}),r&&i.setCustomParameters(r),i},[]);return OD(t,e)},OD=function(t,e){var n=m.useState(),r=n[0],i=n[1],s=m.useState(),o=s[0],a=s[1],l=m.useState(!1),u=l[0],c=l[1],h=m.useCallback(function(f,p){return PT(void 0,void 0,void 0,function(){var v,_,x;return NT(this,function(y){switch(y.label){case 0:c(!0),i(void 0),y.label=1;case 1:return y.trys.push([1,3,4,5]),v=e(f,p),[4,$4(t,v)];case 2:return _=y.sent(),a(_),[2,_];case 3:return x=y.sent(),i(x),[3,5];case 4:return c(!1),[7];case 5:return[2]}})})},[t,e]);return[h,o,u,r]},DD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},j,Fg=Fg||{},Y=DD||self;function Vd(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ol(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function LD(t){return Object.prototype.hasOwnProperty.call(t,of)&&t[of]||(t[of]=++jD)}var of="closure_uid_"+(1e9*Math.random()>>>0),jD=0;function MD(t,e,n){return t.call.apply(t.bind,arguments)}function VD(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function pt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?pt=MD:pt=VD,pt.apply(null,arguments)}function Xl(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Je(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ri(){this.s=this.s,this.o=this.o}var $D=0;ri.prototype.s=!1;ri.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),$D!=0)&&LD(this)};ri.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const DT=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Ug(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function a_(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Vd(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function mt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}mt.prototype.h=function(){this.defaultPrevented=!0};var FD=function(){if(!Y.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Y.addEventListener("test",()=>{},e),Y.removeEventListener("test",()=>{},e)}catch{}return t}();function Na(t){return/^[\s\xa0]*$/.test(t)}function $d(){var t=Y.navigator;return t&&(t=t.userAgent)?t:""}function _n(t){return $d().indexOf(t)!=-1}function Bg(t){return Bg[" "](t),t}Bg[" "]=function(){};function UD(t,e){var n=OL;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var BD=_n("Opera"),Gs=_n("Trident")||_n("MSIE"),LT=_n("Edge"),Mp=LT||Gs,jT=_n("Gecko")&&!($d().toLowerCase().indexOf("webkit")!=-1&&!_n("Edge"))&&!(_n("Trident")||_n("MSIE"))&&!_n("Edge"),zD=$d().toLowerCase().indexOf("webkit")!=-1&&!_n("Edge");function MT(){var t=Y.document;return t?t.documentMode:void 0}var Vp;e:{var af="",lf=function(){var t=$d();if(jT)return/rv:([^\);]+)(\)|;)/.exec(t);if(LT)return/Edge\/([\d\.]+)/.exec(t);if(Gs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(zD)return/WebKit\/(\S+)/.exec(t);if(BD)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(lf&&(af=lf?lf[1]:""),Gs){var uf=MT();if(uf!=null&&uf>parseFloat(af)){Vp=String(uf);break e}}Vp=af}var $p;if(Y.document&&Gs){var l_=MT();$p=l_||parseInt(Vp,10)||void 0}else $p=void 0;var WD=$p;function ba(t,e){if(mt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(jT){e:{try{Bg(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:HD[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ba.$.h.call(this)}}Je(ba,mt);var HD={2:"touch",3:"pen",4:"mouse"};ba.prototype.h=function(){ba.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var al="closure_listenable_"+(1e6*Math.random()|0),qD=0;function KD(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++qD,this.fa=this.ia=!1}function Fd(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function zg(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function GD(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function VT(t){const e={};for(const n in t)e[n]=t[n];return e}const u_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $T(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<u_.length;s++)n=u_[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ud(t){this.src=t,this.g={},this.h=0}Ud.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Up(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new KD(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Fp(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=DT(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Fd(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Up(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Wg="closure_lm_"+(1e6*Math.random()|0),cf={};function FT(t,e,n,r,i){if(r&&r.once)return BT(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)FT(t,e[s],n,r,i);return null}return n=Kg(n),t&&t[al]?t.O(e,n,ol(r)?!!r.capture:!!r,i):UT(t,e,n,!1,r,i)}function UT(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=ol(i)?!!i.capture:!!i,a=qg(t);if(a||(t[Wg]=a=new Ud(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=QD(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)FD||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(WT(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function QD(){function t(n){return e.call(t.src,t.listener,n)}const e=XD;return t}function BT(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)BT(t,e[s],n,r,i);return null}return n=Kg(n),t&&t[al]?t.P(e,n,ol(r)?!!r.capture:!!r,i):UT(t,e,n,!0,r,i)}function zT(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)zT(t,e[s],n,r,i);else r=ol(r)?!!r.capture:!!r,n=Kg(n),t&&t[al]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Up(s,n,r,i),-1<n&&(Fd(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=qg(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Up(e,n,r,i)),(n=-1<t?e[t]:null)&&Hg(n))}function Hg(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[al])Fp(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(WT(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=qg(e))?(Fp(n,t),n.h==0&&(n.src=null,e[Wg]=null)):Fd(t)}}}function WT(t){return t in cf?cf[t]:cf[t]="on"+t}function XD(t,e){if(t.fa)t=!0;else{e=new ba(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Hg(t),t=n.call(r,e)}return t}function qg(t){return t=t[Wg],t instanceof Ud?t:null}var df="__closure_events_fn_"+(1e9*Math.random()>>>0);function Kg(t){return typeof t=="function"?t:(t[df]||(t[df]=function(e){return t.handleEvent(e)}),t[df])}function Xe(){ri.call(this),this.i=new Ud(this),this.S=this,this.J=null}Je(Xe,ri);Xe.prototype[al]=!0;Xe.prototype.removeEventListener=function(t,e,n,r){zT(this,t,e,n,r)};function rt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new mt(e,t);else if(e instanceof mt)e.target=e.target||t;else{var i=e;e=new mt(r,t),$T(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Yl(o,r,!0,e)&&i}if(o=e.g=t,i=Yl(o,r,!0,e)&&i,i=Yl(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Yl(o,r,!1,e)&&i}Xe.prototype.N=function(){if(Xe.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Fd(n[r]);delete t.g[e],t.h--}}this.J=null};Xe.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Xe.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Yl(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Fp(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Gg=Y.JSON.stringify;class YD{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function JD(){var t=Qg;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class ZD{constructor(){this.h=this.g=null}add(e,n){const r=HT.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var HT=new YD(()=>new eL,t=>t.reset());class eL{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function tL(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function nL(t){Y.setTimeout(()=>{throw t},0)}let Oa,Da=!1,Qg=new ZD,qT=()=>{const t=Y.Promise.resolve(void 0);Oa=()=>{t.then(rL)}};var rL=()=>{for(var t;t=JD();){try{t.h.call(t.g)}catch(n){nL(n)}var e=HT;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Da=!1};function Bd(t,e){Xe.call(this),this.h=t||1,this.g=e||Y,this.j=pt(this.qb,this),this.l=Date.now()}Je(Bd,Xe);j=Bd.prototype;j.ga=!1;j.T=null;j.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),rt(this,"tick"),this.ga&&(Xg(this),this.start()))}};j.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Xg(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}j.N=function(){Bd.$.N.call(this),Xg(this),delete this.g};function Yg(t,e,n){if(typeof t=="function")n&&(t=pt(t,n));else if(t&&typeof t.handleEvent=="function")t=pt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Y.setTimeout(t,e||0)}function KT(t){t.g=Yg(()=>{t.g=null,t.i&&(t.i=!1,KT(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class iL extends ri{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:KT(this)}N(){super.N(),this.g&&(Y.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function La(t){ri.call(this),this.h=t,this.g={}}Je(La,ri);var c_=[];function GT(t,e,n,r){Array.isArray(n)||(n&&(c_[0]=n.toString()),n=c_);for(var i=0;i<n.length;i++){var s=FT(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function QT(t){zg(t.g,function(e,n){this.g.hasOwnProperty(n)&&Hg(e)},t),t.g={}}La.prototype.N=function(){La.$.N.call(this),QT(this)};La.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function zd(){this.g=!0}zd.prototype.Ea=function(){this.g=!1};function sL(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function oL(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Es(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+lL(t,n)+(r?" "+r:"")})}function aL(t,e){t.info(function(){return"TIMEOUT: "+e})}zd.prototype.info=function(){};function lL(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Gg(n)}catch{return e}}var Ji={},d_=null;function Wd(){return d_=d_||new Xe}Ji.Ta="serverreachability";function XT(t){mt.call(this,Ji.Ta,t)}Je(XT,mt);function ja(t){const e=Wd();rt(e,new XT(e))}Ji.STAT_EVENT="statevent";function YT(t,e){mt.call(this,Ji.STAT_EVENT,t),this.stat=e}Je(YT,mt);function St(t){const e=Wd();rt(e,new YT(e,t))}Ji.Ua="timingevent";function JT(t,e){mt.call(this,Ji.Ua,t),this.size=e}Je(JT,mt);function ll(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Y.setTimeout(function(){t()},e)}var Hd={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ZT={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Jg(){}Jg.prototype.h=null;function h_(t){return t.h||(t.h=t.i())}function eS(){}var ul={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Zg(){mt.call(this,"d")}Je(Zg,mt);function ey(){mt.call(this,"c")}Je(ey,mt);var Bp;function qd(){}Je(qd,Jg);qd.prototype.g=function(){return new XMLHttpRequest};qd.prototype.i=function(){return{}};Bp=new qd;function cl(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new La(this),this.P=uL,t=Mp?125:void 0,this.V=new Bd(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new tS}function tS(){this.i=null,this.g="",this.h=!1}var uL=45e3,zp={},yc={};j=cl.prototype;j.setTimeout=function(t){this.P=t};function Wp(t,e,n){t.L=1,t.v=Gd(tr(e)),t.s=n,t.S=!0,nS(t,null)}function nS(t,e){t.G=Date.now(),dl(t),t.A=tr(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),cS(n.i,"t",r),t.C=0,n=t.l.J,t.h=new tS,t.g=NS(t.l,n?e:null,!t.s),0<t.O&&(t.M=new iL(pt(t.Pa,t,t.g),t.O)),GT(t.U,t.g,"readystatechange",t.nb),e=t.I?VT(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),ja(),sL(t.j,t.u,t.A,t.m,t.W,t.s)}j.nb=function(t){t=t.target;const e=this.M;e&&xn(t)==3?e.l():this.Pa(t)};j.Pa=function(t){try{if(t==this.g)e:{const c=xn(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>c)&&(c!=3||Mp||this.g&&(this.h.h||this.g.ja()||g_(this.g)))){this.J||c!=4||e==7||(e==8||0>=h?ja(3):ja(2)),Kd(this);var n=this.g.da();this.ca=n;t:if(rS(this)){var r=g_(this.g);t="";var i=r.length,s=xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mi(this),Qo(this);var o="";break t}this.h.i=new Y.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,oL(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Na(a)){var u=a;break t}}u=null}if(n=u)Es(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hp(this,n);else{this.i=!1,this.o=3,St(12),mi(this),Qo(this);break e}}this.S?(iS(this,c,o),Mp&&this.i&&c==3&&(GT(this.U,this.V,"tick",this.mb),this.V.start())):(Es(this.j,this.m,o,null),Hp(this,o)),c==4&&mi(this),this.i&&!this.J&&(c==4?CS(this.l,this):(this.i=!1,dl(this)))}else PL(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,St(12)):(this.o=0,St(13)),mi(this),Qo(this)}}}catch{}finally{}};function rS(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function iS(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=cL(t,n),i==yc){e==4&&(t.o=4,St(14),r=!1),Es(t.j,t.m,null,"[Incomplete Response]");break}else if(i==zp){t.o=4,St(15),Es(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Es(t.j,t.m,i,null),Hp(t,i);rS(t)&&i!=yc&&i!=zp&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,St(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),oy(e),e.M=!0,St(11))):(Es(t.j,t.m,n,"[Invalid Chunked Response]"),mi(t),Qo(t))}j.mb=function(){if(this.g){var t=xn(this.g),e=this.g.ja();this.C<e.length&&(Kd(this),iS(this,t,e),this.i&&t!=4&&dl(this))}};function cL(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?yc:(n=Number(e.substring(n,r)),isNaN(n)?zp:(r+=1,r+n>e.length?yc:(e=e.slice(r,r+n),t.C=r+n,e)))}j.cancel=function(){this.J=!0,mi(this)};function dl(t){t.Y=Date.now()+t.P,sS(t,t.P)}function sS(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=ll(pt(t.lb,t),e)}function Kd(t){t.B&&(Y.clearTimeout(t.B),t.B=null)}j.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(aL(this.j,this.A),this.L!=2&&(ja(),St(17)),mi(this),this.o=2,Qo(this)):sS(this,this.Y-t)};function Qo(t){t.l.H==0||t.J||CS(t.l,t)}function mi(t){Kd(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Xg(t.V),QT(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Hp(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||qp(n.i,t))){if(!t.K&&qp(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)wc(n),Jd(n);else break e;sy(n),St(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=ll(pt(n.ib,n),6e3));if(1>=fS(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else gi(n,11)}else if((t.K||n.g==t)&&wc(n),!Na(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const v=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var s=r.i;s.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(ty(s,s.h),s.h=null))}if(r.F){const _=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.Da=_,ve(r.I,r.F,_))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=PS(r,r.J?r.pa:null,r.Y),o.K){pS(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(Kd(a),dl(a)),r.g=o}else IS(r);0<n.j.length&&Zd(n)}else u[0]!="stop"&&u[0]!="close"||gi(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?gi(n,7):iy(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}ja(4)}catch{}}function dL(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Vd(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function hL(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Vd(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function oS(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Vd(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=hL(t),r=dL(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var aS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fL(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ei(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ei){this.h=t.h,vc(this,t.j),this.s=t.s,this.g=t.g,_c(this,t.m),this.l=t.l;var e=t.i,n=new Ma;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),f_(this,n),this.o=t.o}else t&&(e=String(t).match(aS))?(this.h=!1,vc(this,e[1]||"",!0),this.s=Do(e[2]||""),this.g=Do(e[3]||"",!0),_c(this,e[4]),this.l=Do(e[5]||"",!0),f_(this,e[6]||"",!0),this.o=Do(e[7]||"")):(this.h=!1,this.i=new Ma(null,this.h))}Ei.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Lo(e,p_,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Lo(e,p_,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Lo(n,n.charAt(0)=="/"?gL:mL,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Lo(n,vL)),t.join("")};function tr(t){return new Ei(t)}function vc(t,e,n){t.j=n?Do(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function _c(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function f_(t,e,n){e instanceof Ma?(t.i=e,_L(t.i,t.h)):(n||(e=Lo(e,yL)),t.i=new Ma(e,t.h))}function ve(t,e,n){t.i.set(e,n)}function Gd(t){return ve(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Do(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Lo(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,pL),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function pL(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var p_=/[#\/\?@]/g,mL=/[#\?:]/g,gL=/[#\?]/g,yL=/[#\?@]/g,vL=/#/g;function Ma(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ii(t){t.g||(t.g=new Map,t.h=0,t.i&&fL(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}j=Ma.prototype;j.add=function(t,e){ii(this),this.i=null,t=co(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function lS(t,e){ii(t),e=co(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function uS(t,e){return ii(t),e=co(t,e),t.g.has(e)}j.forEach=function(t,e){ii(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};j.ta=function(){ii(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};j.Z=function(t){ii(this);let e=[];if(typeof t=="string")uS(this,t)&&(e=e.concat(this.g.get(co(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};j.set=function(t,e){return ii(this),this.i=null,t=co(this,t),uS(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};j.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function cS(t,e,n){lS(t,e),0<n.length&&(t.i=null,t.g.set(co(t,e),Ug(n)),t.h+=n.length)}j.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function co(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function _L(t,e){e&&!t.j&&(ii(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(lS(this,r),cS(this,i,n))},t)),t.j=e}var wL=class{constructor(t,e){this.g=t,this.map=e}};function dS(t){this.l=t||xL,Y.PerformanceNavigationTiming?(t=Y.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Y.g&&Y.g.Ka&&Y.g.Ka()&&Y.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var xL=10;function hS(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function fS(t){return t.h?1:t.g?t.g.size:0}function qp(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function ty(t,e){t.g?t.g.add(e):t.h=e}function pS(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}dS.prototype.cancel=function(){if(this.i=mS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function mS(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Ug(t.i)}var EL=class{stringify(t){return Y.JSON.stringify(t,void 0)}parse(t){return Y.JSON.parse(t,void 0)}};function TL(){this.g=new EL}function SL(t,e,n){const r=n||"";try{oS(t,function(i,s){let o=i;ol(i)&&(o=Gg(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function IL(t,e){const n=new zd;if(Y.Image){const r=new Image;r.onload=Xl(Jl,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Xl(Jl,n,r,"TestLoadImage: error",!1,e),r.onabort=Xl(Jl,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Xl(Jl,n,r,"TestLoadImage: timeout",!1,e),Y.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Jl(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Qd(t){this.l=t.fc||null,this.j=t.ob||!1}Je(Qd,Jg);Qd.prototype.g=function(){return new Xd(this.l,this.j)};Qd.prototype.i=function(t){return function(){return t}}({});function Xd(t,e){Xe.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=ny,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Je(Xd,Xe);var ny=0;j=Xd.prototype;j.open=function(t,e){if(this.readyState!=ny)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Va(this)};j.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Y).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};j.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hl(this)),this.readyState=ny};j.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Va(this)),this.g&&(this.readyState=3,Va(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Y.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;gS(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function gS(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}j.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?hl(this):Va(this),this.readyState==3&&gS(this)}};j.Za=function(t){this.g&&(this.response=this.responseText=t,hl(this))};j.Ya=function(t){this.g&&(this.response=t,hl(this))};j.ka=function(){this.g&&hl(this)};function hl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Va(t)}j.setRequestHeader=function(t,e){this.v.append(t,e)};j.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};j.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Va(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Xd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var RL=Y.JSON.parse;function be(t){Xe.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=yS,this.L=this.M=!1}Je(be,Xe);var yS="",CL=/^https?$/i,kL=["POST","PUT"];j=be.prototype;j.Oa=function(t){this.M=t};j.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Bp.g(),this.C=this.u?h_(this.u):h_(Bp),this.g.onreadystatechange=pt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){m_(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Y.FormData&&t instanceof Y.FormData,!(0<=DT(kL,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{wS(this),0<this.B&&((this.L=AL(this.g))?(this.g.timeout=this.B,this.g.ontimeout=pt(this.ua,this)):this.A=Yg(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){m_(this,s)}};function AL(t){return Gs&&typeof t.timeout=="number"&&t.ontimeout!==void 0}j.ua=function(){typeof Fg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,rt(this,"timeout"),this.abort(8))};function m_(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,vS(t),Yd(t)}function vS(t){t.F||(t.F=!0,rt(t,"complete"),rt(t,"error"))}j.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,rt(this,"complete"),rt(this,"abort"),Yd(this))};j.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Yd(this,!0)),be.$.N.call(this)};j.La=function(){this.s||(this.G||this.v||this.l?_S(this):this.kb())};j.kb=function(){_S(this)};function _S(t){if(t.h&&typeof Fg<"u"&&(!t.C[1]||xn(t)!=4||t.da()!=2)){if(t.v&&xn(t)==4)Yg(t.La,0,t);else if(rt(t,"readystatechange"),xn(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(aS)[1]||null;!i&&Y.self&&Y.self.location&&(i=Y.self.location.protocol.slice(0,-1)),r=!CL.test(i?i.toLowerCase():"")}n=r}if(n)rt(t,"complete"),rt(t,"success");else{t.m=6;try{var s=2<xn(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",vS(t)}}finally{Yd(t)}}}}function Yd(t,e){if(t.g){wS(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||rt(t,"ready");try{n.onreadystatechange=r}catch{}}}function wS(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Y.clearTimeout(t.A),t.A=null)}j.isActive=function(){return!!this.g};function xn(t){return t.g?t.g.readyState:0}j.da=function(){try{return 2<xn(this)?this.g.status:-1}catch{return-1}};j.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};j.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),RL(e)}};function g_(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case yS:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function PL(t){const e={};t=(t.g&&2<=xn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Na(t[r]))continue;var n=tL(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}GD(e,function(r){return r.join(", ")})}j.Ia=function(){return this.m};j.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function xS(t){let e="";return zg(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function ry(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=xS(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ve(t,e,n))}function Ro(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function ES(t){this.Ga=0,this.j=[],this.l=new zd,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ro("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ro("baseRetryDelayMs",5e3,t),this.hb=Ro("retryDelaySeedMs",1e4,t),this.eb=Ro("forwardChannelMaxRetries",2,t),this.xa=Ro("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new dS(t&&t.concurrentRequestLimit),this.Ja=new TL,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}j=ES.prototype;j.ra=8;j.H=1;function iy(t){if(TS(t),t.H==3){var e=t.W++,n=tr(t.I);if(ve(n,"SID",t.K),ve(n,"RID",e),ve(n,"TYPE","terminate"),fl(t,n),e=new cl(t,t.l,e),e.L=2,e.v=Gd(tr(n)),n=!1,Y.navigator&&Y.navigator.sendBeacon)try{n=Y.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Y.Image&&(new Image().src=e.v,n=!0),n||(e.g=NS(e.l,null),e.g.ha(e.v)),e.G=Date.now(),dl(e)}AS(t)}function Jd(t){t.g&&(oy(t),t.g.cancel(),t.g=null)}function TS(t){Jd(t),t.u&&(Y.clearTimeout(t.u),t.u=null),wc(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Y.clearTimeout(t.m),t.m=null)}function Zd(t){if(!hS(t.i)&&!t.m){t.m=!0;var e=t.Na;Oa||qT(),Da||(Oa(),Da=!0),Qg.add(e,t),t.C=0}}function NL(t,e){return fS(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=ll(pt(t.Na,t,e),kS(t,t.C)),t.C++,!0)}j.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new cl(this,this.l,t);let s=this.s;if(this.U&&(s?(s=VT(s),$T(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=SS(this,i,e),n=tr(this.I),ve(n,"RID",t),ve(n,"CVER",22),this.F&&ve(n,"X-HTTP-Session-Id",this.F),fl(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(xS(s)))+"&"+e:this.o&&ry(n,this.o,s)),ty(this.i,i),this.bb&&ve(n,"TYPE","init"),this.P?(ve(n,"$req",e),ve(n,"SID","null"),i.aa=!0,Wp(i,n,null)):Wp(i,n,e),this.H=2}}else this.H==3&&(t?y_(this,t):this.j.length==0||hS(this.i)||y_(this))};function y_(t,e){var n;e?n=e.m:n=t.W++;const r=tr(t.I);ve(r,"SID",t.K),ve(r,"RID",n),ve(r,"AID",t.V),fl(t,r),t.o&&t.s&&ry(r,t.o,t.s),n=new cl(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=SS(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),ty(t.i,n),Wp(n,r,e)}function fl(t,e){t.na&&zg(t.na,function(n,r){ve(e,r,n)}),t.h&&oS({},function(n,r){ve(e,r,n)})}function SS(t,e,n){n=Math.min(t.j.length,n);var r=t.h?pt(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{SL(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function IS(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Oa||qT(),Da||(Oa(),Da=!0),Qg.add(e,t),t.A=0}}function sy(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=ll(pt(t.Ma,t),kS(t,t.A)),t.A++,!0)}j.Ma=function(){if(this.u=null,RS(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ll(pt(this.jb,this),t)}};j.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,St(10),Jd(this),RS(this))};function oy(t){t.B!=null&&(Y.clearTimeout(t.B),t.B=null)}function RS(t){t.g=new cl(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=tr(t.wa);ve(e,"RID","rpc"),ve(e,"SID",t.K),ve(e,"AID",t.V),ve(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&ve(e,"TO",t.qa),ve(e,"TYPE","xmlhttp"),fl(t,e),t.o&&t.s&&ry(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Gd(tr(e)),n.s=null,n.S=!0,nS(n,t)}j.ib=function(){this.v!=null&&(this.v=null,Jd(this),sy(this),St(19))};function wc(t){t.v!=null&&(Y.clearTimeout(t.v),t.v=null)}function CS(t,e){var n=null;if(t.g==e){wc(t),oy(t),t.g=null;var r=2}else if(qp(t.i,e))n=e.F,pS(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=Wd(),rt(r,new JT(r,n)),Zd(t)}else IS(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&NL(t,e)||r==2&&sy(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:gi(t,5);break;case 4:gi(t,10);break;case 3:gi(t,6);break;default:gi(t,2)}}}function kS(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function gi(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=pt(t.pb,t);n||(n=new Ei("//www.google.com/images/cleardot.gif"),Y.location&&Y.location.protocol=="http"||vc(n,"https"),Gd(n)),IL(n.toString(),r)}else St(2);t.H=0,t.h&&t.h.za(e),AS(t),TS(t)}j.pb=function(t){t?(this.l.info("Successfully pinged google.com"),St(2)):(this.l.info("Failed to ping google.com"),St(1))};function AS(t){if(t.H=0,t.ma=[],t.h){const e=mS(t.i);(e.length!=0||t.j.length!=0)&&(a_(t.ma,e),a_(t.ma,t.j),t.i.i.length=0,Ug(t.j),t.j.length=0),t.h.ya()}}function PS(t,e,n){var r=n instanceof Ei?tr(n):new Ei(n);if(r.g!="")e&&(r.g=e+"."+r.g),_c(r,r.m);else{var i=Y.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ei(null);r&&vc(s,r),e&&(s.g=e),i&&_c(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&ve(r,n,e),ve(r,"VER",t.ra),fl(t,r),r}function NS(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new be(new Qd({ob:!0})):new be(t.va),e.Oa(t.J),e}j.isActive=function(){return!!this.h&&this.h.isActive(this)};function bS(){}j=bS.prototype;j.Ba=function(){};j.Aa=function(){};j.za=function(){};j.ya=function(){};j.isActive=function(){return!0};j.Va=function(){};function xc(){if(Gs&&!(10<=Number(WD)))throw Error("Environmental error: no available transport.")}xc.prototype.g=function(t,e){return new zt(t,e)};function zt(t,e){Xe.call(this),this.g=new ES(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Na(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Na(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ho(this)}Je(zt,Xe);zt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;St(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=PS(t,null,t.Y),Zd(t)};zt.prototype.close=function(){iy(this.g)};zt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Gg(t),t=n);e.j.push(new wL(e.fb++,t)),e.H==3&&Zd(e)};zt.prototype.N=function(){this.g.h=null,delete this.j,iy(this.g),delete this.g,zt.$.N.call(this)};function OS(t){Zg.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Je(OS,Zg);function DS(){ey.call(this),this.status=1}Je(DS,ey);function ho(t){this.g=t}Je(ho,bS);ho.prototype.Ba=function(){rt(this.g,"a")};ho.prototype.Aa=function(t){rt(this.g,new OS(t))};ho.prototype.za=function(t){rt(this.g,new DS)};ho.prototype.ya=function(){rt(this.g,"b")};function bL(){this.blockSize=-1}function fn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Je(fn,bL);fn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function hf(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}fn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)hf(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){hf(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){hf(this,r),i=0;break}}this.h=i,this.i+=e};fn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function he(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var OL={};function ay(t){return-128<=t&&128>t?UD(t,function(e){return new he([e|0],0>e?-1:0)}):new he([t|0],0>t?-1:0)}function En(t){if(isNaN(t)||!isFinite(t))return Os;if(0>t)return tt(En(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Kp;return new he(e,0)}function LS(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return tt(LS(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=En(Math.pow(e,8)),r=Os,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=En(Math.pow(e,s)),r=r.R(s).add(En(o))):(r=r.R(n),r=r.add(En(o)))}return r}var Kp=4294967296,Os=ay(0),Gp=ay(1),v_=ay(16777216);j=he.prototype;j.ea=function(){if(Xt(this))return-tt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Kp+r)*e,e*=Kp}return t};j.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Wn(this))return"0";if(Xt(this))return"-"+tt(this).toString(t);for(var e=En(Math.pow(t,6)),n=this,r="";;){var i=Tc(n,e).g;n=Ec(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Wn(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};j.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Wn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Xt(t){return t.h==-1}j.X=function(t){return t=Ec(this,t),Xt(t)?-1:Wn(t)?0:1};function tt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new he(n,~t.h).add(Gp)}j.abs=function(){return Xt(this)?tt(this):this};j.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new he(n,n[n.length-1]&-2147483648?-1:0)};function Ec(t,e){return t.add(tt(e))}j.R=function(t){if(Wn(this)||Wn(t))return Os;if(Xt(this))return Xt(t)?tt(this).R(tt(t)):tt(tt(this).R(t));if(Xt(t))return tt(this.R(tt(t)));if(0>this.X(v_)&&0>t.X(v_))return En(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,Zl(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Zl(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Zl(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Zl(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new he(n,0)};function Zl(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Co(t,e){this.g=t,this.h=e}function Tc(t,e){if(Wn(e))throw Error("division by zero");if(Wn(t))return new Co(Os,Os);if(Xt(t))return e=Tc(tt(t),e),new Co(tt(e.g),tt(e.h));if(Xt(e))return e=Tc(t,tt(e)),new Co(tt(e.g),e.h);if(30<t.g.length){if(Xt(t)||Xt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Gp,r=e;0>=r.X(t);)n=__(n),r=__(r);var i=is(n,1),s=is(r,1);for(r=is(r,2),n=is(n,2);!Wn(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=is(r,1),n=is(n,1)}return e=Ec(t,i.R(e)),new Co(i,e)}for(i=Os;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=En(n),o=s.R(e);Xt(o)||0<o.X(t);)n-=r,s=En(n),o=s.R(e);Wn(s)&&(s=Gp),i=i.add(s),t=Ec(t,o)}return new Co(i,t)}j.gb=function(t){return Tc(this,t).h};j.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new he(n,this.h&t.h)};j.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new he(n,this.h|t.h)};j.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new he(n,this.h^t.h)};function __(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new he(n,t.h)}function is(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new he(i,t.h)}xc.prototype.createWebChannel=xc.prototype.g;zt.prototype.send=zt.prototype.u;zt.prototype.open=zt.prototype.m;zt.prototype.close=zt.prototype.close;Hd.NO_ERROR=0;Hd.TIMEOUT=8;Hd.HTTP_ERROR=6;ZT.COMPLETE="complete";eS.EventType=ul;ul.OPEN="a";ul.CLOSE="b";ul.ERROR="c";ul.MESSAGE="d";Xe.prototype.listen=Xe.prototype.O;be.prototype.listenOnce=be.prototype.P;be.prototype.getLastError=be.prototype.Sa;be.prototype.getLastErrorCode=be.prototype.Ia;be.prototype.getStatus=be.prototype.da;be.prototype.getResponseJson=be.prototype.Wa;be.prototype.getResponseText=be.prototype.ja;be.prototype.send=be.prototype.ha;be.prototype.setWithCredentials=be.prototype.Oa;fn.prototype.digest=fn.prototype.l;fn.prototype.reset=fn.prototype.reset;fn.prototype.update=fn.prototype.j;he.prototype.add=he.prototype.add;he.prototype.multiply=he.prototype.R;he.prototype.modulo=he.prototype.gb;he.prototype.compare=he.prototype.X;he.prototype.toNumber=he.prototype.ea;he.prototype.toString=he.prototype.toString;he.prototype.getBits=he.prototype.D;he.fromNumber=En;he.fromString=LS;var DL=function(){return new xc},LL=function(){return Wd()},ff=Hd,jL=ZT,ML=Ji,w_={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},eu=eS,VL=be,$L=fn,Ds=he;const x_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ut.UNAUTHENTICATED=new ut(null),ut.GOOGLE_CREDENTIALS=new ut("google-credentials-uid"),ut.FIRST_PARTY=new ut("first-party-uid"),ut.MOCK_USER=new ut("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fo="10.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li=new Ag("@firebase/firestore");function E_(){return Li.logLevel}function B(t,...e){if(Li.logLevel<=le.DEBUG){const n=e.map(ly);Li.debug(`Firestore (${fo}): ${t}`,...n)}}function nr(t,...e){if(Li.logLevel<=le.ERROR){const n=e.map(ly);Li.error(`Firestore (${fo}): ${t}`,...n)}}function Qs(t,...e){if(Li.logLevel<=le.WARN){const n=e.map(ly);Li.warn(`Firestore (${fo}): ${t}`,...n)}}function ly(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X(t="Unexpected state"){const e=`FIRESTORE (${fo}) INTERNAL ASSERTION FAILED: `+t;throw nr(e),new Error(e)}function Ee(t,e){t||X()}function ee(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class U extends Ln{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class FL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ut.UNAUTHENTICATED))}shutdown(){}}class UL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class BL{constructor(e){this.t=e,this.currentUser=ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Kn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Kn,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Kn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ee(typeof r.accessToken=="string"),new jS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ee(e===null||typeof e=="string"),new ut(e)}}class zL{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ut.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class WL{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new zL(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class HL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qL{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,B("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ee(typeof n.token=="string"),this.R=n.token,new HL(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=KL(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ue(t,e){return t<e?-1:t>e?1:0}function Xs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new U(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new U(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new U(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new U(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return We.fromMillis(Date.now())}static fromDate(e){return We.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new We(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ue(this.nanoseconds,e.nanoseconds):ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.timestamp=e}static fromTimestamp(e){return new J(e)}static min(){return new J(new We(0,0))}static max(){return new J(new We(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,n,r){n===void 0?n=0:n>e.length&&X(),r===void 0?r=e.length-n:r>e.length-n&&X(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return $a.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof $a?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class _e extends $a{construct(e,n,r){return new _e(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new U(P.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new _e(n)}static emptyPath(){return new _e([])}}const GL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ft extends $a{construct(e,n,r){return new ft(e,n,r)}static isValidIdentifier(e){return GL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ft(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new U(P.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new U(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new U(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new U(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ft(n)}static emptyPath(){return new ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.path=e}static fromPath(e){return new K(_e.fromString(e))}static fromName(e){return new K(_e.fromString(e).popFirst(5))}static empty(){return new K(_e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return _e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new K(new _e(e.slice()))}}function QL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=J.fromTimestamp(r===1e9?new We(n+1,0):new We(n,r));return new Kr(i,K.empty(),e)}function XL(t){return new Kr(t.readTime,t.key,-1)}class Kr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Kr(J.min(),K.empty(),-1)}static max(){return new Kr(J.max(),K.empty(),-1)}}function YL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=K.comparator(t.documentKey,e.documentKey),n!==0?n:ue(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pl(t){if(t.code!==P.FAILED_PRECONDITION||t.message!==JL)throw t;B("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&X(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new D((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof D?n:D.resolve(n)}catch(n){return D.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):D.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):D.reject(n)}static resolve(e){return new D((n,r)=>{n(e)})}static reject(e){return new D((n,r)=>{r(e)})}static waitFor(e){return new D((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=D.resolve(!1);for(const r of e)n=n.next(i=>i?D.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new D((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new D((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function ml(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}uy.ae=-1;function eh(t){return t==null}function Sc(t){return t===0&&1/t==-1/0}function ej(t){return typeof t=="number"&&Number.isInteger(t)&&!Sc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function po(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function VS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e,n){this.comparator=e,this.root=n||et.EMPTY}insert(e,n){return new Ae(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,et.BLACK,null,null))}remove(e){return new Ae(this.comparator,this.root.remove(e,this.comparator).copy(null,null,et.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tu(this.root,e,this.comparator,!1)}getReverseIterator(){return new tu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tu(this.root,e,this.comparator,!0)}}class tu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class et{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??et.RED,this.left=i??et.EMPTY,this.right=s??et.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new et(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return et.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return et.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,et.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,et.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw X();const e=this.left.check();if(e!==this.right.check())throw X();return e+(this.isRed()?0:1)}}et.EMPTY=null,et.RED=!0,et.BLACK=!1;et.EMPTY=new class{constructor(){this.size=0}get key(){throw X()}get value(){throw X()}get color(){throw X()}get left(){throw X()}get right(){throw X()}copy(e,n,r,i,s){return this}insert(e,n,r){return new et(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.comparator=e,this.data=new Ae(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new S_(this.data.getIterator())}getIteratorFrom(e){return new S_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof gt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new gt(this.comparator);return n.data=e,n}}class S_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.fields=e,e.sort(ft.comparator)}static empty(){return new un([])}unionWith(e){let n=new gt(ft.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new un(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xs(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new $S("Invalid base64 string: "+s):s}}(e);return new _t(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new _t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_t.EMPTY_BYTE_STRING=new _t("");const tj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gr(t){if(Ee(!!t),typeof t=="string"){let e=0;const n=tj.exec(t);if(Ee(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Me(t.seconds),nanos:Me(t.nanos)}}function Me(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ji(t){return typeof t=="string"?_t.fromBase64String(t):_t.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function dy(t){const e=t.mapValue.fields.__previous_value__;return cy(e)?dy(e):e}function Fa(t){const e=Gr(t.mapValue.fields.__local_write_time__.timestampValue);return new We(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Ua{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ua("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ua&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Mi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?cy(t)?4:rj(t)?9007199254740991:10:X()}function On(t,e){if(t===e)return!0;const n=Mi(t);if(n!==Mi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Fa(t).isEqual(Fa(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Gr(i.timestampValue),a=Gr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ji(i.bytesValue).isEqual(ji(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Me(i.geoPointValue.latitude)===Me(s.geoPointValue.latitude)&&Me(i.geoPointValue.longitude)===Me(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Me(i.integerValue)===Me(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Me(i.doubleValue),a=Me(s.doubleValue);return o===a?Sc(o)===Sc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Xs(t.arrayValue.values||[],e.arrayValue.values||[],On);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(T_(o)!==T_(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!On(o[l],a[l])))return!1;return!0}(t,e);default:return X()}}function Ba(t,e){return(t.values||[]).find(n=>On(n,e))!==void 0}function Ys(t,e){if(t===e)return 0;const n=Mi(t),r=Mi(e);if(n!==r)return ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ue(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Me(s.integerValue||s.doubleValue),l=Me(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return I_(t.timestampValue,e.timestampValue);case 4:return I_(Fa(t),Fa(e));case 5:return ue(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ji(s),l=ji(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=ue(a[u],l[u]);if(c!==0)return c}return ue(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ue(Me(s.latitude),Me(o.latitude));return a!==0?a:ue(Me(s.longitude),Me(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=Ys(a[u],l[u]);if(c)return c}return ue(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===nu.mapValue&&o===nu.mapValue)return 0;if(s===nu.mapValue)return 1;if(o===nu.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const f=ue(l[h],c[h]);if(f!==0)return f;const p=Ys(a[l[h]],u[c[h]]);if(p!==0)return p}return ue(l.length,c.length)}(t.mapValue,e.mapValue);default:throw X()}}function I_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ue(t,e);const n=Gr(t),r=Gr(e),i=ue(n.seconds,r.seconds);return i!==0?i:ue(n.nanos,r.nanos)}function Js(t){return Qp(t)}function Qp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Gr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ji(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return K.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Qp(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Qp(n.fields[o])}`;return i+"}"}(t.mapValue):X()}function R_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Xp(t){return!!t&&"integerValue"in t}function hy(t){return!!t&&"arrayValue"in t}function C_(t){return!!t&&"nullValue"in t}function k_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Iu(t){return!!t&&"mapValue"in t}function Xo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return po(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Xo(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xo(t.arrayValue.values[n]);return e}return Object.assign({},t)}function rj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.value=e}static empty(){return new Yt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Iu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xo(n)}setAll(e){let n=ft.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Xo(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Iu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return On(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Iu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){po(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Yt(Xo(this.value))}}function FS(t){const e=[];return po(t.fields,(n,r)=>{const i=new ft([n]);if(Iu(r)){const s=FS(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new ht(e,0,J.min(),J.min(),J.min(),Yt.empty(),0)}static newFoundDocument(e,n,r,i){return new ht(e,1,n,J.min(),r,i,0)}static newNoDocument(e,n){return new ht(e,2,n,J.min(),J.min(),Yt.empty(),0)}static newUnknownDocument(e,n){return new ht(e,3,n,J.min(),J.min(),Yt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,n){this.position=e,this.inclusive=n}}function A_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=K.comparator(K.fromName(o.referenceValue),n.key):r=Ys(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function P_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!On(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,n="asc"){this.field=e,this.dir=n}}function ij(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{}class $e extends US{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new oj(e,n,r):n==="array-contains"?new uj(e,r):n==="in"?new cj(e,r):n==="not-in"?new dj(e,r):n==="array-contains-any"?new hj(e,r):new $e(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new aj(e,r):new lj(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ys(n,this.value)):n!==null&&Mi(this.value)===Mi(n)&&this.matchesComparison(Ys(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return X()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class pn extends US{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new pn(e,n)}matches(e){return BS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(n=>n.isInequality());return e!==null?e.field:null}le(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function BS(t){return t.op==="and"}function zS(t){return sj(t)&&BS(t)}function sj(t){for(const e of t.filters)if(e instanceof pn)return!1;return!0}function Yp(t){if(t instanceof $e)return t.field.canonicalString()+t.op.toString()+Js(t.value);if(zS(t))return t.filters.map(e=>Yp(e)).join(",");{const e=t.filters.map(n=>Yp(n)).join(",");return`${t.op}(${e})`}}function WS(t,e){return t instanceof $e?function(r,i){return i instanceof $e&&r.op===i.op&&r.field.isEqual(i.field)&&On(r.value,i.value)}(t,e):t instanceof pn?function(r,i){return i instanceof pn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&WS(o,i.filters[a]),!0):!1}(t,e):void X()}function HS(t){return t instanceof $e?function(n){return`${n.field.canonicalString()} ${n.op} ${Js(n.value)}`}(t):t instanceof pn?function(n){return n.op.toString()+" {"+n.getFilters().map(HS).join(" ,")+"}"}(t):"Filter"}class oj extends $e{constructor(e,n,r){super(e,n,r),this.key=K.fromName(r.referenceValue)}matches(e){const n=K.comparator(e.key,this.key);return this.matchesComparison(n)}}class aj extends $e{constructor(e,n){super(e,"in",n),this.keys=qS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class lj extends $e{constructor(e,n){super(e,"not-in",n),this.keys=qS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function qS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>K.fromName(r.referenceValue))}class uj extends $e{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return hy(n)&&Ba(n.arrayValue,this.value)}}class cj extends $e{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ba(this.value.arrayValue,n)}}class dj extends $e{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ba(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ba(this.value.arrayValue,n)}}class hj extends $e{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!hy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ba(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.he=null}}function N_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new fj(t,e,n,r,i,s,o)}function fy(t){const e=ee(t);if(e.he===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Yp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),eh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Js(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Js(r)).join(",")),e.he=n}return e.he}function py(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ij(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!WS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!P_(t.startAt,e.startAt)&&P_(t.endAt,e.endAt)}function Jp(t){return K.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Pe=null,this.Ie=null,this.Te=null,this.startAt,this.endAt}}function pj(t,e,n,r,i,s,o,a){return new gl(t,e,n,r,i,s,o,a)}function my(t){return new gl(t)}function b_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function KS(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function gy(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function GS(t){return t.collectionGroup!==null}function Jo(t){const e=ee(t);if(e.Pe===null){e.Pe=[];const n=gy(e),r=KS(e);if(n!==null&&r===null)n.isKeyField()||e.Pe.push(new Yo(n)),e.Pe.push(new Yo(ft.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.Pe.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new Yo(ft.keyField(),s))}}}return e.Pe}function rr(t){const e=ee(t);return e.Ie||(e.Ie=mj(e,Jo(t))),e.Ie}function mj(t,e){if(t.limitType==="F")return N_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Yo(i.field,s)});const n=t.endAt?new Ic(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ic(t.startAt.position,t.startAt.inclusive):null;return N_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Zp(t,e){e.getFirstInequalityField(),gy(t);const n=t.filters.concat([e]);return new gl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function em(t,e,n){return new gl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function th(t,e){return py(rr(t),rr(e))&&t.limitType===e.limitType}function QS(t){return`${fy(rr(t))}|lt:${t.limitType}`}function tm(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>HS(i)).join(", ")}]`),eh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Js(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Js(i)).join(",")),`Target(${r})`}(rr(t))}; limitType=${t.limitType})`}function nh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):K.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Jo(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=A_(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Jo(r),i)||r.endAt&&!function(o,a,l){const u=A_(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Jo(r),i))}(t,e)}function gj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function XS(t){return(e,n)=>{let r=!1;for(const i of Jo(t)){const s=yj(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function yj(t,e,n){const r=t.field.isKeyField()?K.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Ys(l,u):X()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return X()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){po(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return VS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj=new Ae(K.comparator);function ir(){return vj}const YS=new Ae(K.comparator);function jo(...t){let e=YS;for(const n of t)e=e.insert(n.key,n);return e}function JS(t){let e=YS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function yi(){return Zo()}function ZS(){return Zo()}function Zo(){return new mo(t=>t.toString(),(t,e)=>t.isEqual(e))}const _j=new Ae(K.comparator),wj=new gt(K.comparator);function ne(...t){let e=wj;for(const n of t)e=e.add(n);return e}const xj=new gt(ue);function Ej(){return xj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sc(e)?"-0":e}}function tI(t){return{integerValue:""+t}}function Tj(t,e){return ej(e)?tI(e):eI(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(){this._=void 0}}function Sj(t,e,n){return t instanceof Rc?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&cy(s)&&(s=dy(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof za?rI(t,e):t instanceof Wa?iI(t,e):function(i,s){const o=nI(i,s),a=O_(o)+O_(i.Ee);return Xp(o)&&Xp(i.Ee)?tI(a):eI(i.serializer,a)}(t,e)}function Ij(t,e,n){return t instanceof za?rI(t,e):t instanceof Wa?iI(t,e):n}function nI(t,e){return t instanceof Cc?function(r){return Xp(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Rc extends rh{}class za extends rh{constructor(e){super(),this.elements=e}}function rI(t,e){const n=sI(e);for(const r of t.elements)n.some(i=>On(i,r))||n.push(r);return{arrayValue:{values:n}}}class Wa extends rh{constructor(e){super(),this.elements=e}}function iI(t,e){let n=sI(e);for(const r of t.elements)n=n.filter(i=>!On(i,r));return{arrayValue:{values:n}}}class Cc extends rh{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function O_(t){return Me(t.integerValue||t.doubleValue)}function sI(t){return hy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Rj(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof za&&i instanceof za||r instanceof Wa&&i instanceof Wa?Xs(r.elements,i.elements,On):r instanceof Cc&&i instanceof Cc?On(r.Ee,i.Ee):r instanceof Rc&&i instanceof Rc}(t.transform,e.transform)}class Cj{constructor(e,n){this.version=e,this.transformResults=n}}class Pn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Pn}static exists(e){return new Pn(void 0,e)}static updateTime(e){return new Pn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ru(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ih{}function oI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new yy(t.key,Pn.none()):new yl(t.key,t.data,Pn.none());{const n=t.data,r=Yt.empty();let i=new gt(ft.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Zi(t.key,r,new un(i.toArray()),Pn.none())}}function kj(t,e,n){t instanceof yl?function(i,s,o){const a=i.value.clone(),l=L_(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Zi?function(i,s,o){if(!Ru(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=L_(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(aI(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ea(t,e,n,r){return t instanceof yl?function(s,o,a,l){if(!Ru(s.precondition,o))return a;const u=s.value.clone(),c=j_(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Zi?function(s,o,a,l){if(!Ru(s.precondition,o))return a;const u=j_(s.fieldTransforms,l,o),c=o.data;return c.setAll(aI(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return Ru(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Aj(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=nI(r.transform,i||null);s!=null&&(n===null&&(n=Yt.empty()),n.set(r.field,s))}return n||null}function D_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Xs(r,i,(s,o)=>Rj(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class yl extends ih{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Zi extends ih{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function aI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function L_(t,e,n){const r=new Map;Ee(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Ij(o,a,n[i]))}return r}function j_(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Sj(s,o,e))}return r}class yy extends ih{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Pj extends ih{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&kj(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ea(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ea(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=ZS();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=oI(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(J.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ne())}isEqual(e){return this.batchId===e.batchId&&Xs(this.mutations,e.mutations,(n,r)=>D_(n,r))&&Xs(this.baseMutations,e.baseMutations,(n,r)=>D_(n,r))}}class vy{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ee(e.mutations.length===r.length);let i=function(){return _j}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new vy(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je,se;function Dj(t){switch(t){default:return X();case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0}}function lI(t){if(t===void 0)return nr("GRPC error has no .code"),P.UNKNOWN;switch(t){case je.OK:return P.OK;case je.CANCELLED:return P.CANCELLED;case je.UNKNOWN:return P.UNKNOWN;case je.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case je.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case je.INTERNAL:return P.INTERNAL;case je.UNAVAILABLE:return P.UNAVAILABLE;case je.UNAUTHENTICATED:return P.UNAUTHENTICATED;case je.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case je.NOT_FOUND:return P.NOT_FOUND;case je.ALREADY_EXISTS:return P.ALREADY_EXISTS;case je.PERMISSION_DENIED:return P.PERMISSION_DENIED;case je.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case je.ABORTED:return P.ABORTED;case je.OUT_OF_RANGE:return P.OUT_OF_RANGE;case je.UNIMPLEMENTED:return P.UNIMPLEMENTED;case je.DATA_LOSS:return P.DATA_LOSS;default:return X()}}(se=je||(je={}))[se.OK=0]="OK",se[se.CANCELLED=1]="CANCELLED",se[se.UNKNOWN=2]="UNKNOWN",se[se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",se[se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",se[se.NOT_FOUND=5]="NOT_FOUND",se[se.ALREADY_EXISTS=6]="ALREADY_EXISTS",se[se.PERMISSION_DENIED=7]="PERMISSION_DENIED",se[se.UNAUTHENTICATED=16]="UNAUTHENTICATED",se[se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",se[se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",se[se.ABORTED=10]="ABORTED",se[se.OUT_OF_RANGE=11]="OUT_OF_RANGE",se[se.UNIMPLEMENTED=12]="UNIMPLEMENTED",se[se.INTERNAL=13]="INTERNAL",se[se.UNAVAILABLE=14]="UNAVAILABLE",se[se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lj(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj=new Ds([4294967295,4294967295],0);function M_(t){const e=Lj().encode(t),n=new $L;return n.update(e),new Uint8Array(n.digest())}function V_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ds([n,r],0),new Ds([i,s],0)]}class _y{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Mo(`Invalid padding: ${n}`);if(r<0)throw new Mo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Mo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Mo(`Invalid padding when bitmap length is 0: ${n}`);this.Ae=8*e.length-n,this.Re=Ds.fromNumber(this.Ae)}Ve(e,n,r){let i=e.add(n.multiply(Ds.fromNumber(r)));return i.compare(jj)===1&&(i=new Ds([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Re).toNumber()}me(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ae===0)return!1;const n=M_(e),[r,i]=V_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ve(r,i,s);if(!this.me(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new _y(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ae===0)return;const n=M_(e),[r,i]=V_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ve(r,i,s);this.fe(o)}}fe(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Mo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,vl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new sh(J.min(),i,new Ae(ue),ir(),ne())}}class vl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new vl(r,n,ne(),ne(),ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,n,r,i){this.ge=e,this.removedTargetIds=n,this.key=r,this.pe=i}}class uI{constructor(e,n){this.targetId=e,this.ye=n}}class cI{constructor(e,n,r=_t.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class $_{constructor(){this.we=0,this.Se=U_(),this.be=_t.EMPTY_BYTE_STRING,this.De=!1,this.ve=!0}get current(){return this.De}get resumeToken(){return this.be}get Ce(){return this.we!==0}get Fe(){return this.ve}Me(e){e.approximateByteSize()>0&&(this.ve=!0,this.be=e)}xe(){let e=ne(),n=ne(),r=ne();return this.Se.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:X()}}),new vl(this.be,this.De,e,n,r)}Oe(){this.ve=!1,this.Se=U_()}Ne(e,n){this.ve=!0,this.Se=this.Se.insert(e,n)}Be(e){this.ve=!0,this.Se=this.Se.remove(e)}Le(){this.we+=1}ke(){this.we-=1}qe(){this.ve=!0,this.De=!0}}class Mj{constructor(e){this.Qe=e,this.Ke=new Map,this.$e=ir(),this.Ue=F_(),this.We=new Ae(ue)}Ge(e){for(const n of e.ge)e.pe&&e.pe.isFoundDocument()?this.ze(n,e.pe):this.je(n,e.key,e.pe);for(const n of e.removedTargetIds)this.je(n,e.key,e.pe)}He(e){this.forEachTarget(e,n=>{const r=this.Je(n);switch(e.state){case 0:this.Ye(n)&&r.Me(e.resumeToken);break;case 1:r.ke(),r.Ce||r.Oe(),r.Me(e.resumeToken);break;case 2:r.ke(),r.Ce||this.removeTarget(n);break;case 3:this.Ye(n)&&(r.qe(),r.Me(e.resumeToken));break;case 4:this.Ye(n)&&(this.Ze(n),r.Me(e.resumeToken));break;default:X()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ke.forEach((r,i)=>{this.Ye(i)&&n(i)})}Xe(e){const n=e.targetId,r=e.ye.count,i=this.et(n);if(i){const s=i.target;if(Jp(s))if(r===0){const o=new K(s.path);this.je(n,o,ht.newNoDocument(o,J.min()))}else Ee(r===1);else{const o=this.tt(n);if(o!==r){const a=this.nt(e),l=a?this.rt(a,e,o):1;if(l!==0){this.Ze(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.We=this.We.insert(n,u)}}}}}nt(e){const n=e.ye.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ji(r).toUint8Array()}catch(l){if(l instanceof $S)return Qs("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new _y(o,i,s)}catch(l){return Qs(l instanceof Mo?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ae===0?null:a}rt(e,n,r){return n.ye.count===r-this.ot(e,n.targetId)?0:2}ot(e,n){const r=this.Qe.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Qe.st(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.je(n,s,null),i++)}),i}_t(e){const n=new Map;this.Ke.forEach((s,o)=>{const a=this.et(o);if(a){if(s.current&&Jp(a.target)){const l=new K(a.target.path);this.$e.get(l)!==null||this.ut(o,l)||this.je(o,l,ht.newNoDocument(l,e))}s.Fe&&(n.set(o,s.xe()),s.Oe())}});let r=ne();this.Ue.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.et(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.$e.forEach((s,o)=>o.setReadTime(e));const i=new sh(e,n,this.We,this.$e,r);return this.$e=ir(),this.Ue=F_(),this.We=new Ae(ue),i}ze(e,n){if(!this.Ye(e))return;const r=this.ut(e,n.key)?2:0;this.Je(e).Ne(n.key,r),this.$e=this.$e.insert(n.key,n),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}je(e,n,r){if(!this.Ye(e))return;const i=this.Je(e);this.ut(e,n)?i.Ne(n,1):i.Be(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),r&&(this.$e=this.$e.insert(n,r))}removeTarget(e){this.Ke.delete(e)}tt(e){const n=this.Je(e).xe();return this.Qe.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Le(e){this.Je(e).Le()}Je(e){let n=this.Ke.get(e);return n||(n=new $_,this.Ke.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new gt(ue),this.Ue=this.Ue.insert(e,n)),n}Ye(e){const n=this.et(e)!==null;return n||B("WatchChangeAggregator","Detected inactive target",e),n}et(e){const n=this.Ke.get(e);return n&&n.Ce?null:this.Qe.lt(e)}Ze(e){this.Ke.set(e,new $_),this.Qe.getRemoteKeysForTarget(e).forEach(n=>{this.je(e,n,null)})}ut(e,n){return this.Qe.getRemoteKeysForTarget(e).has(n)}}function F_(){return new Ae(K.comparator)}function U_(){return new Ae(K.comparator)}const Vj=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),$j=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Fj=(()=>({and:"AND",or:"OR"}))();class Uj{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function nm(t,e){return t.useProto3Json||eh(e)?e:{value:e}}function kc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Bj(t,e){return kc(t,e.toTimestamp())}function Nn(t){return Ee(!!t),J.fromTimestamp(function(n){const r=Gr(n);return new We(r.seconds,r.nanos)}(t))}function wy(t,e){return function(r){return new _e(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function hI(t){const e=_e.fromString(t);return Ee(gI(e)),e}function rm(t,e){return wy(t.databaseId,e.path)}function pf(t,e){const n=hI(e);if(n.get(1)!==t.databaseId.projectId)throw new U(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new U(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new K(fI(n))}function im(t,e){return wy(t.databaseId,e)}function zj(t){const e=hI(t);return e.length===4?_e.emptyPath():fI(e)}function sm(t){return new _e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fI(t){return Ee(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function B_(t,e,n){return{name:rm(t,e),fields:n.value.mapValue.fields}}function Wj(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:X()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(Ee(c===void 0||typeof c=="string"),_t.fromBase64String(c||"")):(Ee(c===void 0||c instanceof Uint8Array),_t.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?P.UNKNOWN:lI(u.code);return new U(c,u.message||"")}(o);n=new cI(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=pf(t,r.document.name),s=Nn(r.document.updateTime),o=r.document.createTime?Nn(r.document.createTime):J.min(),a=new Yt({mapValue:{fields:r.document.fields}}),l=ht.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Cu(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=pf(t,r.document),s=r.readTime?Nn(r.readTime):J.min(),o=ht.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Cu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=pf(t,r.document),s=r.removedTargetIds||[];n=new Cu([],s,i,null)}else{if(!("filter"in e))return X();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Oj(i,s),a=r.targetId;n=new uI(a,o)}}return n}function Hj(t,e){let n;if(e instanceof yl)n={update:B_(t,e.key,e.value)};else if(e instanceof yy)n={delete:rm(t,e.key)};else if(e instanceof Zi)n={update:B_(t,e.key,e.data),updateMask:e3(e.fieldMask)};else{if(!(e instanceof Pj))return X();n={verify:rm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Rc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof za)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Wa)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Cc)return{fieldPath:o.field.canonicalString(),increment:a.Ee};throw X()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Bj(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:X()}(t,e.precondition)),n}function qj(t,e){return t&&t.length>0?(Ee(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Nn(i.updateTime):Nn(s);return o.isEqual(J.min())&&(o=Nn(s)),new Cj(o,i.transformResults||[])}(n,e))):[]}function Kj(t,e){return{documents:[im(t,e.path)]}}function Gj(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=im(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=im(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return mI(pn.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(h){return{field:os(h.field),direction:Yj(h.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=nm(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function Qj(t){let e=zj(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ee(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(h){const f=pI(h);return f instanceof pn&&zS(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(v){return new Yo(as(v.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,eh(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,p=h.values||[];return new Ic(p,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,p=h.values||[];return new Ic(p,f)}(n.endAt)),pj(e,i,o,s,a,"F",l,u)}function Xj(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return X()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function pI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=as(n.unaryFilter.field);return $e.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=as(n.unaryFilter.field);return $e.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=as(n.unaryFilter.field);return $e.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=as(n.unaryFilter.field);return $e.create(o,"!=",{nullValue:"NULL_VALUE"});default:return X()}}(t):t.fieldFilter!==void 0?function(n){return $e.create(as(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return X()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return pn.create(n.compositeFilter.filters.map(r=>pI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return X()}}(n.compositeFilter.op))}(t):X()}function Yj(t){return Vj[t]}function Jj(t){return $j[t]}function Zj(t){return Fj[t]}function os(t){return{fieldPath:t.canonicalString()}}function as(t){return ft.fromServerFormat(t.fieldPath)}function mI(t){return t instanceof $e?function(n){if(n.op==="=="){if(k_(n.value))return{unaryFilter:{field:os(n.field),op:"IS_NAN"}};if(C_(n.value))return{unaryFilter:{field:os(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(k_(n.value))return{unaryFilter:{field:os(n.field),op:"IS_NOT_NAN"}};if(C_(n.value))return{unaryFilter:{field:os(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:os(n.field),op:Jj(n.op),value:n.value}}}(t):t instanceof pn?function(n){const r=n.getFilters().map(i=>mI(i));return r.length===1?r[0]:{compositeFilter:{op:Zj(n.op),filters:r}}}(t):X()}function e3(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function gI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e,n,r,i,s=J.min(),o=J.min(),a=_t.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ir(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(e){this.ht=e}}function n3(t){const e=Qj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?em(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(){this._n=new i3}addToCollectionParentIndex(e,n){return this._n.add(n),D.resolve()}getCollectionParents(e,n){return D.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return D.resolve()}deleteFieldIndex(e,n){return D.resolve()}getDocumentsMatchingTarget(e,n){return D.resolve(null)}getIndexType(e,n){return D.resolve(0)}getFieldIndexes(e,n){return D.resolve([])}getNextCollectionGroupToUpdate(e){return D.resolve(null)}getMinOffset(e,n){return D.resolve(Kr.min())}getMinOffsetFromCollectionGroup(e,n){return D.resolve(Kr.min())}updateCollectionGroup(e,n,r){return D.resolve()}updateIndexEntries(e,n){return D.resolve()}}class i3{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new gt(_e.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new gt(_e.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Zs(0)}static Bn(){return new Zs(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(){this.changes=new mo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ht.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?D.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ea(r.mutation,i,un.empty(),We.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ne()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ne()){const i=yi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=jo();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=yi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ne()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=ir();const o=Zo(),a=function(){return Zo()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Zi)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),ea(c.mutation,u,c.mutation.getFieldMask(),We.now())):o.set(u.key,un.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new o3(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Zo();let i=new Ae((o,a)=>o-a),s=ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||un.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||ne()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=ZS();c.forEach(f=>{if(!s.has(f)){const p=oI(n.get(f),r.get(f));p!==null&&h.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return D.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(s){return K.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):GS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):D.resolve(yi());let a=-1,l=s;return o.next(u=>D.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?D.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,ne())).next(c=>({batchId:a,changes:JS(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new K(n)).next(r=>{let i=jo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=jo();return this.indexManager.getCollectionParents(e,i).next(o=>D.forEach(o,a=>{const l=function(c,h){return new gl(h,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,h)=>{s=s.insert(c,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,l)=>{const u=l.getKey();s.get(u)===null&&(s=s.insert(u,ht.newInvalidDocument(u)))});let o=jo();return s.forEach((a,l)=>{const u=i.get(a);u!==void 0&&ea(u.mutation,l,un.empty(),We.now()),nh(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return D.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Nn(i.createTime)}}(n)),D.resolve()}getNamedQuery(e,n){return D.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:n3(i.bundledQuery),readTime:Nn(i.readTime)}}(n)),D.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(){this.overlays=new Ae(K.comparator),this.hr=new Map}getOverlay(e,n){return D.resolve(this.overlays.get(n))}getOverlays(e,n){const r=yi();return D.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.It(e,n,s)}),D.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),D.resolve()}getOverlaysForCollection(e,n,r){const i=yi(),s=n.length+1,o=new K(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return D.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ae((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=yi(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=yi(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return D.resolve(a)}It(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new bj(n,r));let s=this.hr.get(n);s===void 0&&(s=ne(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(){this.Pr=new gt(qe.Ir),this.Tr=new gt(qe.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new qe(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new qe(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new K(new _e([])),r=new qe(n,e),i=new qe(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new K(new _e([])),r=new qe(n,e),i=new qe(n,e+1);let s=ne();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new qe(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class qe{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return K.comparator(e.key,n.key)||ue(e.pr,n.pr)}static Er(e,n){return ue(e.pr,n.pr)||K.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new gt(qe.Ir)}checkEmpty(e){return D.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Nj(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new qe(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return D.resolve(o)}lookupMutationBatch(e,n){return D.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return D.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return D.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return D.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new qe(n,0),i=new qe(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),D.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new gt(ue);return n.forEach(i=>{const s=new qe(i,0),o=new qe(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),D.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;K.isDocumentKey(s)||(s=s.child(""));const o=new qe(new K(s),0);let a=new gt(ue);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},o),D.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ee(this.vr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return D.forEach(n.mutations,i=>{const s=new qe(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new qe(n,0),i=this.wr.firstAfterOrEqual(r);return D.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,D.resolve()}vr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(e){this.Cr=e,this.docs=function(){return new Ae(K.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return D.resolve(r?r.document.mutableCopy():ht.newInvalidDocument(n))}getEntries(e,n){let r=ir();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ht.newInvalidDocument(i))}),D.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ir();const o=n.path,a=new K(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||YL(XL(c),r)<=0||(i.has(c.key)||nh(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return D.resolve(s)}getAllFromCollectionGroup(e,n,r,i){X()}Fr(e,n){return D.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new h3(this)}getSize(e){return D.resolve(this.size)}}class h3 extends s3{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),D.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(e){this.persistence=e,this.Mr=new mo(n=>fy(n),py),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.Or=0,this.Nr=new xy,this.targetCount=0,this.Br=Zs.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),D.resolve()}getLastRemoteSnapshotVersion(e){return D.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return D.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),D.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),D.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new Zs(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,D.resolve()}updateTargetData(e,n){return this.qn(n),D.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,D.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),D.waitFor(s).next(()=>i)}getTargetCount(e){return D.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return D.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),D.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),D.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),D.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return D.resolve(r)}containsKey(e,n){return D.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(e,n){this.Lr={},this.overlays={},this.kr=new uy(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new f3(this),this.indexManager=new r3,this.remoteDocumentCache=function(i){return new d3(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new t3(n),this.$r=new l3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new u3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new c3(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){B("MemoryPersistence","Starting transaction:",e);const i=new m3(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return D.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class m3 extends ZL{constructor(e){super(),this.currentSequenceNumber=e}}class Ey{constructor(e){this.persistence=e,this.zr=new xy,this.jr=null}static Hr(e){return new Ey(e)}get Jr(){if(this.jr)return this.jr;throw X()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),D.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),D.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),D.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return D.forEach(this.Jr,r=>{const i=K.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,J.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return D.or([()=>D.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=ne(),i=ne();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Ty(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(){this.$i=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Wi(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.zi(e,n))}Wi(e,n){if(b_(n))return D.resolve(null);let r=rr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=em(n,null,"F"),r=rr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ne(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ji(n,a);return this.Hi(n,u,o,l.readTime)?this.Wi(e,em(n,null,"F")):this.Ji(e,u,n,l)}))})))}Gi(e,n,r,i){return b_(n)||i.isEqual(J.min())?this.zi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.Hi(n,o,r,i)?this.zi(e,n):(E_()<=le.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),tm(n)),this.Ji(e,o,n,QL(i,-1)))})}ji(e,n){let r=new gt(XS(e));return n.forEach((i,s)=>{nh(e,s)&&(r=r.add(s))}),r}Hi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}zi(e,n){return E_()<=le.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",tm(n)),this.Ui.getDocumentsMatchingQuery(e,n,Kr.min())}Ji(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e,n,r,i){this.persistence=e,this.Yi=n,this.serializer=i,this.Zi=new Ae(ue),this.Xi=new mo(s=>fy(s),py),this.es=new Map,this.ts=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this.ns(r)}ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new a3(this.ts,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ts.setIndexManager(this.indexManager),this.Yi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Zi))}}function v3(t,e,n,r){return new y3(t,e,n,r)}async function yI(t,e){const n=ee(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ns(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ne();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({rs:u,removedBatchIds:o,addedBatchIds:a}))})})}function _3(t,e){const n=ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ts.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const h=u.batch,f=h.keys();let p=D.resolve();return f.forEach(v=>{p=p.next(()=>c.getEntry(l,v)).next(_=>{const x=u.docVersions.get(v);Ee(x!==null),_.version.compareTo(x)<0&&(h.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),c.addEntry(_)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ne();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function vI(t){const e=ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function w3(t,e){const n=ee(t),r=e.snapshotVersion;let i=n.Zi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ts.newChangeBuffer({trackRemovals:!0});i=n.Zi;const a=[];e.targetChanges.forEach((c,h)=>{const f=i.get(h);if(!f)return;a.push(n.Qr.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(s,c.addedDocuments,h)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(_t.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(h,p),function(_,x,y){return _.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(f,p,c)&&a.push(n.Qr.updateTargetData(s,p))});let l=ir(),u=ne();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(x3(s,o,e.documentUpdates).next(c=>{l=c.ss,u=c.os})),!r.isEqual(J.min())){const c=n.Qr.getLastRemoteSnapshotVersion(s).next(h=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return D.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Zi=i,s))}function x3(t,e,n){let r=ne(),i=ne();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ir();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(J.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):B("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{ss:o,os:i}})}function E3(t,e){const n=ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function T3(t,e){const n=ee(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,D.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new Ir(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Zi.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Zi=n.Zi.insert(r.targetId,r),n.Xi.set(e,r.targetId)),r})}async function om(t,e,n){const r=ee(t),i=r.Zi.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ml(o))throw o;B("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Zi=r.Zi.remove(e),r.Xi.delete(i.target)}function z_(t,e,n){const r=ee(t);let i=J.min(),s=ne();return r.persistence.runTransaction("Execute query","readonly",o=>function(l,u,c){const h=ee(l),f=h.Xi.get(c);return f!==void 0?D.resolve(h.Zi.get(f)):h.Qr.getTargetData(u,c)}(r,o,rr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Yi.getDocumentsMatchingQuery(o,e,n?i:J.min(),n?s:ne())).next(a=>(S3(r,gj(e),a),{documents:a,_s:s})))}function S3(t,e,n){let r=t.es.get(e)||J.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.es.set(e,r)}class W_{constructor(){this.activeTargetIds=Ej()}Is(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ts(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ps(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class I3{constructor(){this.Ys=new W_,this.Zs={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Ys.Is(e),this.Zs[e]||"not-current"}updateQueryState(e,n,r){this.Zs[e]=n}removeLocalQueryTarget(e){this.Ys.Ts(e)}isLocalQueryTarget(e){return this.Ys.activeTargetIds.has(e)}clearQueryState(e){delete this.Zs[e]}getAllActiveQueryTargets(){return this.Ys.activeTargetIds}isActiveQueryTarget(e){return this.Ys.activeTargetIds.has(e)}start(){return this.Ys=new W_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{Xs(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(){this.eo=()=>this.no(),this.ro=()=>this.io(),this.so=[],this.oo()}Xs(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.eo),window.removeEventListener("offline",this.ro)}oo(){window.addEventListener("online",this.eo),window.addEventListener("offline",this.ro)}no(){B("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}io(){B("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ru=null;function mf(){return ru===null?ru=function(){return 268435456+Math.round(2147483648*Math.random())}():ru++,"0x"+ru.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(e){this._o=e._o,this.ao=e.ao}uo(e){this.co=e}lo(e){this.ho=e}onMessage(e){this.Po=e}close(){this.ao()}send(e){this._o(e)}Io(){this.co()}To(e){this.ho(e)}Eo(e){this.Po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const at="WebChannelConnection";class A3 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ao=r+"://"+n.host,this.Ro=`projects/${i}/databases/${s}`,this.Vo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get mo(){return!1}fo(n,r,i,s,o){const a=mf(),l=this.po(n,r);B("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.Ro,"x-goog-request-params":this.Vo};return this.yo(u,s,o),this.wo(n,l,u,i).then(c=>(B("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Qs("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}So(n,r,i,s,o,a){return this.fo(n,r,i,s,o)}yo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}po(n,r){const i=C3[n];return`${this.Ao}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}wo(e,n,r,i){const s=mf();return new Promise((o,a)=>{const l=new VL;l.setWithCredentials(!0),l.listenOnce(jL.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case ff.NO_ERROR:const c=l.getResponseJson();B(at,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case ff.TIMEOUT:B(at,`RPC '${e}' ${s} timed out`),a(new U(P.DEADLINE_EXCEEDED,"Request time out"));break;case ff.HTTP_ERROR:const h=l.getStatus();if(B(at,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const v=function(x){const y=x.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(y)>=0?y:P.UNKNOWN}(p.status);a(new U(v,p.message))}else a(new U(P.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new U(P.UNAVAILABLE,"Connection failed."));break;default:X()}}finally{B(at,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);B(at,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}bo(e,n,r){const i=mf(),s=[this.Ao,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=DL(),a=LL(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.yo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");B(at,`Creating RPC '${e}' stream ${i}: ${c}`,l);const h=o.createWebChannel(c,l);let f=!1,p=!1;const v=new k3({_o:x=>{p?B(at,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(f||(B(at,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),B(at,`RPC '${e}' stream ${i} sending:`,x),h.send(x))},ao:()=>h.close()}),_=(x,y,g)=>{x.listen(y,w=>{try{g(w)}catch(E){setTimeout(()=>{throw E},0)}})};return _(h,eu.EventType.OPEN,()=>{p||B(at,`RPC '${e}' stream ${i} transport opened.`)}),_(h,eu.EventType.CLOSE,()=>{p||(p=!0,B(at,`RPC '${e}' stream ${i} transport closed`),v.To())}),_(h,eu.EventType.ERROR,x=>{p||(p=!0,Qs(at,`RPC '${e}' stream ${i} transport errored:`,x),v.To(new U(P.UNAVAILABLE,"The operation could not be completed")))}),_(h,eu.EventType.MESSAGE,x=>{var y;if(!p){const g=x.data[0];Ee(!!g);const w=g,E=w.error||((y=w[0])===null||y===void 0?void 0:y.error);if(E){B(at,`RPC '${e}' stream ${i} received error:`,E);const T=E.status;let S=function(L){const C=je[L];if(C!==void 0)return lI(C)}(T),R=E.message;S===void 0&&(S=P.INTERNAL,R="Unknown error status: "+T+" with message "+E.message),p=!0,v.To(new U(S,R)),h.close()}else B(at,`RPC '${e}' stream ${i} received:`,g),v.Eo(g)}}),_(a,ML.STAT_EVENT,x=>{x.stat===w_.PROXY?B(at,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===w_.NOPROXY&&B(at,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.Io()},0),v}}function gf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(t){return new Uj(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Do=r,this.vo=i,this.Co=s,this.Fo=0,this.Mo=null,this.xo=Date.now(),this.reset()}reset(){this.Fo=0}Oo(){this.Fo=this.Co}No(e){this.cancel();const n=Math.floor(this.Fo+this.Bo()),r=Math.max(0,Date.now()-this.xo),i=Math.max(0,n-r);i>0&&B("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Fo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Mo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.xo=Date.now(),e())),this.Fo*=this.vo,this.Fo<this.Do&&(this.Fo=this.Do),this.Fo>this.Co&&(this.Fo=this.Co)}Lo(){this.Mo!==null&&(this.Mo.skipDelay(),this.Mo=null)}cancel(){this.Mo!==null&&(this.Mo.cancel(),this.Mo=null)}Bo(){return(Math.random()-.5)*this.Fo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e,n,r,i,s,o,a,l){this.oi=e,this.ko=r,this.qo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Qo=0,this.Ko=null,this.$o=null,this.stream=null,this.Uo=new _I(e,n)}Wo(){return this.state===1||this.state===5||this.Go()}Go(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.zo()}async stop(){this.Wo()&&await this.close(0)}jo(){this.state=0,this.Uo.reset()}Ho(){this.Go()&&this.Ko===null&&(this.Ko=this.oi.enqueueAfterDelay(this.ko,6e4,()=>this.Jo()))}Yo(e){this.Zo(),this.stream.send(e)}async Jo(){if(this.Go())return this.close(0)}Zo(){this.Ko&&(this.Ko.cancel(),this.Ko=null)}Xo(){this.$o&&(this.$o.cancel(),this.$o=null)}async close(e,n){this.Zo(),this.Xo(),this.Uo.cancel(),this.Qo++,e!==4?this.Uo.reset():n&&n.code===P.RESOURCE_EXHAUSTED?(nr(n.toString()),nr("Using maximum backoff delay to prevent overloading the backend."),this.Uo.Oo()):n&&n.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.e_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.lo(n)}e_(){}auth(){this.state=1;const e=this.t_(this.Qo),n=this.Qo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Qo===n&&this.n_(r,i)},r=>{e(()=>{const i=new U(P.UNKNOWN,"Fetching auth token failed: "+r.message);return this.r_(i)})})}n_(e,n){const r=this.t_(this.Qo);this.stream=this.i_(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.$o=this.oi.enqueueAfterDelay(this.qo,1e4,()=>(this.Go()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.lo(i=>{r(()=>this.r_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}zo(){this.state=5,this.Uo.No(async()=>{this.state=0,this.start()})}r_(e){return B("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}t_(e){return n=>{this.oi.enqueueAndForget(()=>this.Qo===e?n():(B("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class P3 extends wI{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}i_(e,n){return this.connection.bo("Listen",e,n)}onMessage(e){this.Uo.reset();const n=Wj(this.serializer,e),r=function(s){if(!("targetChange"in s))return J.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?J.min():o.readTime?Nn(o.readTime):J.min()}(e);return this.listener.s_(n,r)}o_(e){const n={};n.database=sm(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Jp(l)?{documents:Kj(s,l)}:{query:Gj(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=dI(s,o.resumeToken);const u=nm(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(J.min())>0){a.readTime=kc(s,o.snapshotVersion.toTimestamp());const u=nm(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=Xj(this.serializer,e);r&&(n.labels=r),this.Yo(n)}__(e){const n={};n.database=sm(this.serializer),n.removeTarget=e,this.Yo(n)}}class N3 extends wI{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.a_=!1}get u_(){return this.a_}start(){this.a_=!1,this.lastStreamToken=void 0,super.start()}e_(){this.a_&&this.c_([])}i_(e,n){return this.connection.bo("Write",e,n)}onMessage(e){if(Ee(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_){this.Uo.reset();const n=qj(e.writeResults,e.commitTime),r=Nn(e.commitTime);return this.listener.l_(r,n)}return Ee(!e.writeResults||e.writeResults.length===0),this.a_=!0,this.listener.h_()}P_(){const e={};e.database=sm(this.serializer),this.Yo(e)}c_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Hj(this.serializer,r))};this.Yo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.I_=!1}T_(){if(this.I_)throw new U(P.FAILED_PRECONDITION,"The client has already been terminated.")}fo(e,n,r){return this.T_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.fo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new U(P.UNKNOWN,i.toString())})}So(e,n,r,i){return this.T_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new U(P.UNKNOWN,s.toString())})}terminate(){this.I_=!0}}class O3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.d_=0,this.A_=null,this.R_=!0}V_(){this.d_===0&&(this.m_("Unknown"),this.A_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.A_=null,this.f_("Backend didn't respond within 10 seconds."),this.m_("Offline"),Promise.resolve())))}g_(e){this.state==="Online"?this.m_("Unknown"):(this.d_++,this.d_>=1&&(this.p_(),this.f_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.m_("Offline")))}set(e){this.p_(),this.d_=0,e==="Online"&&(this.R_=!1),this.m_(e)}m_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}f_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.R_?(nr(n),this.R_=!1):B("OnlineStateTracker",n)}p_(){this.A_!==null&&(this.A_.cancel(),this.A_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.y_=[],this.w_=new Map,this.S_=new Set,this.b_=[],this.D_=s,this.D_.Xs(o=>{r.enqueueAndForget(async()=>{es(this)&&(B("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ee(l);u.S_.add(4),await _l(u),u.v_.set("Unknown"),u.S_.delete(4),await ah(u)}(this))})}),this.v_=new O3(r,i)}}async function ah(t){if(es(t))for(const e of t.b_)await e(!0)}async function _l(t){for(const e of t.b_)await e(!1)}function xI(t,e){const n=ee(t);n.w_.has(e.targetId)||(n.w_.set(e.targetId,e),Ry(n)?Iy(n):go(n).Go()&&Sy(n,e))}function EI(t,e){const n=ee(t),r=go(n);n.w_.delete(e),r.Go()&&TI(n,e),n.w_.size===0&&(r.Go()?r.Ho():es(n)&&n.v_.set("Unknown"))}function Sy(t,e){if(t.C_.Le(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(J.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}go(t).o_(e)}function TI(t,e){t.C_.Le(e),go(t).__(e)}function Iy(t){t.C_=new Mj({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.w_.get(e)||null,st:()=>t.datastore.serializer.databaseId}),go(t).start(),t.v_.V_()}function Ry(t){return es(t)&&!go(t).Wo()&&t.w_.size>0}function es(t){return ee(t).S_.size===0}function SI(t){t.C_=void 0}async function L3(t){t.w_.forEach((e,n)=>{Sy(t,e)})}async function j3(t,e){SI(t),Ry(t)?(t.v_.g_(e),Iy(t)):t.v_.set("Unknown")}async function M3(t,e,n){if(t.v_.set("Online"),e instanceof cI&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.w_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.w_.delete(a),i.C_.removeTarget(a))}(t,e)}catch(r){B("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ac(t,r)}else if(e instanceof Cu?t.C_.Ge(e):e instanceof uI?t.C_.Xe(e):t.C_.He(e),!n.isEqual(J.min()))try{const r=await vI(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.C_._t(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.w_.get(u);c&&s.w_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.w_.get(l);if(!c)return;s.w_.set(l,c.withResumeToken(_t.EMPTY_BYTE_STRING,c.snapshotVersion)),TI(s,l);const h=new Ir(c.target,l,u,c.sequenceNumber);Sy(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){B("RemoteStore","Failed to raise snapshot:",r),await Ac(t,r)}}async function Ac(t,e,n){if(!ml(e))throw e;t.S_.add(1),await _l(t),t.v_.set("Offline"),n||(n=()=>vI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{B("RemoteStore","Retrying IndexedDB access"),await n(),t.S_.delete(1),await ah(t)})}function II(t,e){return e().catch(n=>Ac(t,n,e))}async function lh(t){const e=ee(t),n=Qr(e);let r=e.y_.length>0?e.y_[e.y_.length-1].batchId:-1;for(;V3(e);)try{const i=await E3(e.localStore,r);if(i===null){e.y_.length===0&&n.Ho();break}r=i.batchId,$3(e,i)}catch(i){await Ac(e,i)}RI(e)&&CI(e)}function V3(t){return es(t)&&t.y_.length<10}function $3(t,e){t.y_.push(e);const n=Qr(t);n.Go()&&n.u_&&n.c_(e.mutations)}function RI(t){return es(t)&&!Qr(t).Wo()&&t.y_.length>0}function CI(t){Qr(t).start()}async function F3(t){Qr(t).P_()}async function U3(t){const e=Qr(t);for(const n of t.y_)e.c_(n.mutations)}async function B3(t,e,n){const r=t.y_.shift(),i=vy.from(r,e,n);await II(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await lh(t)}async function z3(t,e){e&&Qr(t).u_&&await async function(r,i){if(function(o){return Dj(o)&&o!==P.ABORTED}(i.code)){const s=r.y_.shift();Qr(r).jo(),await II(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await lh(r)}}(t,e),RI(t)&&CI(t)}async function q_(t,e){const n=ee(t);n.asyncQueue.verifyOperationInProgress(),B("RemoteStore","RemoteStore received new credentials");const r=es(n);n.S_.add(3),await _l(n),r&&n.v_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.S_.delete(3),await ah(n)}async function W3(t,e){const n=ee(t);e?(n.S_.delete(2),await ah(n)):e||(n.S_.add(2),await _l(n),n.v_.set("Unknown"))}function go(t){return t.F_||(t.F_=function(n,r,i){const s=ee(n);return s.T_(),new P3(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{uo:L3.bind(null,t),lo:j3.bind(null,t),s_:M3.bind(null,t)}),t.b_.push(async e=>{e?(t.F_.jo(),Ry(t)?Iy(t):t.v_.set("Unknown")):(await t.F_.stop(),SI(t))})),t.F_}function Qr(t){return t.M_||(t.M_=function(n,r,i){const s=ee(n);return s.T_(),new N3(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{uo:F3.bind(null,t),lo:z3.bind(null,t),h_:U3.bind(null,t),l_:B3.bind(null,t)}),t.b_.push(async e=>{e?(t.M_.jo(),await lh(t)):(await t.M_.stop(),t.y_.length>0&&(B("RemoteStore",`Stopping write stream with ${t.y_.length} pending writes`),t.y_=[]))})),t.M_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Kn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Cy(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new U(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ky(t,e){if(nr("AsyncQueue",`${e}: ${t}`),ml(t))return new U(P.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e){this.comparator=e?(n,r)=>e(n,r)||K.comparator(n.key,r.key):(n,r)=>K.comparator(n.key,r.key),this.keyedMap=jo(),this.sortedSet=new Ae(this.comparator)}static emptySet(e){return new Ls(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ls)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ls;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(){this.x_=new Ae(K.comparator)}track(e){const n=e.doc.key,r=this.x_.get(n);r?e.type!==0&&r.type===3?this.x_=this.x_.insert(n,e):e.type===3&&r.type!==1?this.x_=this.x_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.x_=this.x_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.x_=this.x_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.x_=this.x_.remove(n):e.type===1&&r.type===2?this.x_=this.x_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.x_=this.x_.insert(n,{type:2,doc:e.doc}):X():this.x_=this.x_.insert(n,e)}O_(){const e=[];return this.x_.inorderTraversal((n,r)=>{e.push(r)}),e}}class eo{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new eo(e,n,Ls.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&th(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(){this.N_=void 0,this.listeners=[]}}class q3{constructor(){this.queries=new mo(e=>QS(e),th),this.onlineState="Unknown",this.B_=new Set}}async function kI(t,e){const n=ee(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new H3),i)try{s.N_=await n.onListen(r)}catch(o){const a=ky(o,`Initialization of query '${tm(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.L_(n.onlineState),s.N_&&e.k_(s.N_)&&Ay(n)}async function AI(t,e){const n=ee(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function K3(t,e){const n=ee(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.k_(i)&&(r=!0);o.N_=i}}r&&Ay(n)}function G3(t,e,n){const r=ee(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function Ay(t){t.B_.forEach(e=>{e.next()})}class PI{constructor(e,n,r){this.query=e,this.q_=n,this.Q_=!1,this.K_=null,this.onlineState="Unknown",this.options=r||{}}k_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new eo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Q_?this.U_(e)&&(this.q_.next(e),n=!0):this.W_(e,this.onlineState)&&(this.G_(e),n=!0),this.K_=e,n}onError(e){this.q_.error(e)}L_(e){this.onlineState=e;let n=!1;return this.K_&&!this.Q_&&this.W_(this.K_,e)&&(this.G_(this.K_),n=!0),n}W_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}U_(e){if(e.docChanges.length>0)return!0;const n=this.K_&&this.K_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}G_(e){e=eo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Q_=!0,this.q_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e){this.key=e}}class bI{constructor(e){this.key=e}}class Q3{constructor(e,n){this.query=e,this.ta=n,this.na=null,this.hasCachedResults=!1,this.current=!1,this.ra=ne(),this.mutatedKeys=ne(),this.ia=XS(e),this.sa=new Ls(this.ia)}get oa(){return this.ta}_a(e,n){const r=n?n.aa:new K_,i=n?n.sa:this.sa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const f=i.get(c),p=nh(this.query,h)?h:null,v=!!f&&this.mutatedKeys.has(f.key),_=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let x=!1;f&&p?f.data.isEqual(p.data)?v!==_&&(r.track({type:3,doc:p}),x=!0):this.ua(f,p)||(r.track({type:2,doc:p}),x=!0,(l&&this.ia(p,l)>0||u&&this.ia(p,u)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),x=!0):f&&!p&&(r.track({type:1,doc:f}),x=!0,(l||u)&&(a=!0)),x&&(p?(o=o.add(p),s=_?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{sa:o,aa:r,Hi:a,mutatedKeys:s}}ua(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.sa;this.sa=e.sa,this.mutatedKeys=e.mutatedKeys;const s=e.aa.O_();s.sort((u,c)=>function(f,p){const v=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X()}};return v(f)-v(p)}(u.type,c.type)||this.ia(u.doc,c.doc)),this.ca(r);const o=n?this.la():[],a=this.ra.size===0&&this.current?1:0,l=a!==this.na;return this.na=a,s.length!==0||l?{snapshot:new eo(this.query,e.sa,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),ha:o}:{ha:o}}L_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({sa:this.sa,aa:new K_,mutatedKeys:this.mutatedKeys,Hi:!1},!1)):{ha:[]}}Pa(e){return!this.ta.has(e)&&!!this.sa.has(e)&&!this.sa.get(e).hasLocalMutations}ca(e){e&&(e.addedDocuments.forEach(n=>this.ta=this.ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ta=this.ta.delete(n)),this.current=e.current)}la(){if(!this.current)return[];const e=this.ra;this.ra=ne(),this.sa.forEach(r=>{this.Pa(r.key)&&(this.ra=this.ra.add(r.key))});const n=[];return e.forEach(r=>{this.ra.has(r)||n.push(new bI(r))}),this.ra.forEach(r=>{e.has(r)||n.push(new NI(r))}),n}Ia(e){this.ta=e._s,this.ra=ne();const n=this._a(e.documents);return this.applyChanges(n,!0)}Ta(){return eo.fromInitialDocuments(this.query,this.sa,this.mutatedKeys,this.na===0,this.hasCachedResults)}}class X3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Y3{constructor(e){this.key=e,this.Ea=!1}}class J3{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.da={},this.Aa=new mo(a=>QS(a),th),this.Ra=new Map,this.Va=new Set,this.ma=new Ae(K.comparator),this.fa=new Map,this.ga=new xy,this.pa={},this.ya=new Map,this.wa=Zs.Bn(),this.onlineState="Unknown",this.Sa=void 0}get isPrimaryClient(){return this.Sa===!0}}async function Z3(t,e){const n=uM(t);let r,i;const s=n.Aa.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Ta();else{const o=await T3(n.localStore,rr(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await eM(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&xI(n.remoteStore,o)}return i}async function eM(t,e,n,r,i){t.ba=(h,f,p)=>async function(_,x,y,g){let w=x.view._a(y);w.Hi&&(w=await z_(_.localStore,x.query,!1).then(({documents:S})=>x.view._a(S,w)));const E=g&&g.targetChanges.get(x.targetId),T=x.view.applyChanges(w,_.isPrimaryClient,E);return Q_(_,x.targetId,T.ha),T.snapshot}(t,h,f,p);const s=await z_(t.localStore,e,!0),o=new Q3(e,s._s),a=o._a(s.documents),l=vl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);Q_(t,n,u.ha);const c=new X3(e,n,o);return t.Aa.set(e,c),t.Ra.has(n)?t.Ra.get(n).push(e):t.Ra.set(n,[e]),u.snapshot}async function tM(t,e){const n=ee(t),r=n.Aa.get(e),i=n.Ra.get(r.targetId);if(i.length>1)return n.Ra.set(r.targetId,i.filter(s=>!th(s,e))),void n.Aa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await om(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),EI(n.remoteStore,r.targetId),am(n,r.targetId)}).catch(pl)):(am(n,r.targetId),await om(n.localStore,r.targetId,!0))}async function nM(t,e,n){const r=cM(t);try{const i=await function(o,a){const l=ee(o),u=We.now(),c=a.reduce((p,v)=>p.add(v.key),ne());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let v=ir(),_=ne();return l.ts.getEntries(p,c).next(x=>{v=x,v.forEach((y,g)=>{g.isValidDocument()||(_=_.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,v)).next(x=>{h=x;const y=[];for(const g of a){const w=Aj(g,h.get(g.key).overlayedDocument);w!=null&&y.push(new Zi(g.key,w,FS(w.value.mapValue),Pn.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,y,a)}).next(x=>{f=x;const y=x.applyToLocalDocumentSet(h,_);return l.documentOverlayCache.saveOverlays(p,x.batchId,y)})}).then(()=>({batchId:f.batchId,changes:JS(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.pa[o.currentUser.toKey()];u||(u=new Ae(ue)),u=u.insert(a,l),o.pa[o.currentUser.toKey()]=u}(r,i.batchId,n),await wl(r,i.changes),await lh(r.remoteStore)}catch(i){const s=ky(i,"Failed to persist write");n.reject(s)}}async function OI(t,e){const n=ee(t);try{const r=await w3(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.fa.get(s);o&&(Ee(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ea=!0:i.modifiedDocuments.size>0?Ee(o.Ea):i.removedDocuments.size>0&&(Ee(o.Ea),o.Ea=!1))}),await wl(n,r,e)}catch(r){await pl(r)}}function G_(t,e,n){const r=ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Aa.forEach((s,o)=>{const a=o.view.L_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ee(o);l.onlineState=a;let u=!1;l.queries.forEach((c,h)=>{for(const f of h.listeners)f.L_(a)&&(u=!0)}),u&&Ay(l)}(r.eventManager,e),i.length&&r.da.s_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function rM(t,e,n){const r=ee(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.fa.get(e),s=i&&i.key;if(s){let o=new Ae(K.comparator);o=o.insert(s,ht.newNoDocument(s,J.min()));const a=ne().add(s),l=new sh(J.min(),new Map,new Ae(ue),o,a);await OI(r,l),r.ma=r.ma.remove(s),r.fa.delete(e),Py(r)}else await om(r.localStore,e,!1).then(()=>am(r,e,n)).catch(pl)}async function iM(t,e){const n=ee(t),r=e.batch.batchId;try{const i=await _3(n.localStore,e);LI(n,r,null),DI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await wl(n,i)}catch(i){await pl(i)}}async function sM(t,e,n){const r=ee(t);try{const i=await function(o,a){const l=ee(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(Ee(h!==null),c=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);LI(r,e,n),DI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await wl(r,i)}catch(i){await pl(i)}}function DI(t,e){(t.ya.get(e)||[]).forEach(n=>{n.resolve()}),t.ya.delete(e)}function LI(t,e,n){const r=ee(t);let i=r.pa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.pa[r.currentUser.toKey()]=i}}function am(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ra.get(e))t.Aa.delete(r),n&&t.da.Da(r,n);t.Ra.delete(e),t.isPrimaryClient&&t.ga.Vr(e).forEach(r=>{t.ga.containsKey(r)||jI(t,r)})}function jI(t,e){t.Va.delete(e.path.canonicalString());const n=t.ma.get(e);n!==null&&(EI(t.remoteStore,n),t.ma=t.ma.remove(e),t.fa.delete(n),Py(t))}function Q_(t,e,n){for(const r of n)r instanceof NI?(t.ga.addReference(r.key,e),oM(t,r)):r instanceof bI?(B("SyncEngine","Document no longer in limbo: "+r.key),t.ga.removeReference(r.key,e),t.ga.containsKey(r.key)||jI(t,r.key)):X()}function oM(t,e){const n=e.key,r=n.path.canonicalString();t.ma.get(n)||t.Va.has(r)||(B("SyncEngine","New document in limbo: "+n),t.Va.add(r),Py(t))}function Py(t){for(;t.Va.size>0&&t.ma.size<t.maxConcurrentLimboResolutions;){const e=t.Va.values().next().value;t.Va.delete(e);const n=new K(_e.fromString(e)),r=t.wa.next();t.fa.set(r,new Y3(n)),t.ma=t.ma.insert(n,r),xI(t.remoteStore,new Ir(rr(my(n.path)),r,"TargetPurposeLimboResolution",uy.ae))}}async function wl(t,e,n){const r=ee(t),i=[],s=[],o=[];r.Aa.isEmpty()||(r.Aa.forEach((a,l)=>{o.push(r.ba(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=Ty.Ki(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.da.s_(i),await async function(l,u){const c=ee(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>D.forEach(u,f=>D.forEach(f.qi,p=>c.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>D.forEach(f.Qi,p=>c.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!ml(h))throw h;B("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const p=c.Zi.get(f),v=p.snapshotVersion,_=p.withLastLimboFreeSnapshotVersion(v);c.Zi=c.Zi.insert(f,_)}}}(r.localStore,s))}async function aM(t,e){const n=ee(t);if(!n.currentUser.isEqual(e)){B("SyncEngine","User change. New user:",e.toKey());const r=await yI(n.localStore,e);n.currentUser=e,function(s,o){s.ya.forEach(a=>{a.forEach(l=>{l.reject(new U(P.CANCELLED,o))})}),s.ya.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await wl(n,r.rs)}}function lM(t,e){const n=ee(t),r=n.fa.get(e);if(r&&r.Ea)return ne().add(r.key);{let i=ne();const s=n.Ra.get(e);if(!s)return i;for(const o of s){const a=n.Aa.get(o);i=i.unionWith(a.view.oa)}return i}}function uM(t){const e=ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=OI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rM.bind(null,e),e.da.s_=K3.bind(null,e.eventManager),e.da.Da=G3.bind(null,e.eventManager),e}function cM(t){const e=ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sM.bind(null,e),e}class X_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=oh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return v3(this.persistence,new g3,e.initialUser,this.serializer)}createPersistence(e){return new p3(Ey.Hr,this.serializer)}createSharedClientState(e){return new I3}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class dM{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>G_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=aM.bind(null,this.syncEngine),await W3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new q3}()}createDatastore(e){const n=oh(e.databaseInfo.databaseId),r=function(s){return new A3(s)}(e.databaseInfo);return function(s,o,a,l){return new b3(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new D3(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>G_(this.syncEngine,n,0),function(){return H_.v()?new H_:new R3}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const h=new J3(i,s,o,a,l,u);return c&&(h.Sa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=ee(n);B("RemoteStore","RemoteStore shutting down."),r.S_.add(5),await _l(r),r.D_.shutdown(),r.v_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Fa(this.observer.next,e)}error(e){this.observer.error?this.Fa(this.observer.error,e):nr("Uncaught Error in snapshot listener:",e.toString())}Ma(){this.muted=!0}Fa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ut.UNAUTHENTICATED,this.clientId=MS.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{B("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(B("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new U(P.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Kn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ky(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function yf(t,e){t.asyncQueue.verifyOperationInProgress(),B("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await yI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Y_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await pM(t);B("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>q_(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>q_(e.remoteStore,s)),t._onlineComponents=e}function fM(t){return t.name==="FirebaseError"?t.code===P.FAILED_PRECONDITION||t.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function pM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){B("FirestoreClient","Using user provided OfflineComponentProvider");try{await yf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!fM(n))throw n;Qs("Error using user provided cache. Falling back to memory cache: "+n),await yf(t,new X_)}}else B("FirestoreClient","Using default OfflineComponentProvider"),await yf(t,new X_);return t._offlineComponents}async function VI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(B("FirestoreClient","Using user provided OnlineComponentProvider"),await Y_(t,t._uninitializedComponentsProvider._online)):(B("FirestoreClient","Using default OnlineComponentProvider"),await Y_(t,new dM))),t._onlineComponents}function mM(t){return VI(t).then(e=>e.syncEngine)}async function $I(t){const e=await VI(t),n=e.eventManager;return n.onListen=Z3.bind(null,e.syncEngine),n.onUnlisten=tM.bind(null,e.syncEngine),n}function gM(t,e,n={}){const r=new Kn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new MI({next:f=>{o.enqueueAndForget(()=>AI(s,h));const p=f.docs.has(a);!p&&f.fromCache?u.reject(new U(P.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?u.reject(new U(P.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new PI(my(a.path),c,{includeMetadataChanges:!0,z_:!0});return kI(s,h)}(await $I(t),t.asyncQueue,e,n,r)),r.promise}function yM(t,e,n={}){const r=new Kn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new MI({next:f=>{o.enqueueAndForget(()=>AI(s,h)),f.fromCache&&l.source==="server"?u.reject(new U(P.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new PI(a,c,{includeMetadataChanges:!0,z_:!0});return kI(s,h)}(await $I(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(t,e,n){if(!n)throw new U(P.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function vM(t,e,n,r){if(e===!0&&r===!0)throw new U(P.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Z_(t){if(!K.isDocumentKey(t))throw new U(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function e1(t){if(K.isDocumentKey(t))throw new U(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function uh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":X()}function Xr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new U(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=uh(t);throw new U(P.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new U(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new U(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new U(P.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new U(P.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new U(P.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ch{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new t1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new U(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new U(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new t1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new FL;switch(r.type){case"firstParty":return new WL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new U(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=J_.get(n);r&&(B("ComponentProvider","Removing Datastore"),J_.delete(n),r.terminate())}(this),Promise.resolve()}}function _M(t,e,n,r={}){var i;const s=(t=Xr(t,ch))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Qs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=ut.MOCK_USER;else{a=KE(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new U(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ut(u)}t._authCredentials=new UL(new jS(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new yo(this.firestore,e,this._query)}}class Dt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ur(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dt(this.firestore,e,this._key)}}class Ur extends yo{constructor(e,n,r){super(e,n,my(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dt(this.firestore,null,new K(e))}withConverter(e){return new Ur(this.firestore,e,this._path)}}function sr(t,e,...n){if(t=He(t),UI("collection","path",e),t instanceof ch){const r=_e.fromString(e,...n);return e1(r),new Ur(t,null,r)}{if(!(t instanceof Dt||t instanceof Ur))throw new U(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_e.fromString(e,...n));return e1(r),new Ur(t.firestore,null,r)}}function Ge(t,e,...n){if(t=He(t),arguments.length===1&&(e=MS.V()),UI("doc","path",e),t instanceof ch){const r=_e.fromString(e,...n);return Z_(r),new Dt(t,null,new K(r))}{if(!(t instanceof Dt||t instanceof Ur))throw new U(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_e.fromString(e,...n));return Z_(r),new Dt(t.firestore,t instanceof Ur?t.converter:null,new K(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(){this.za=Promise.resolve(),this.ja=[],this.Ha=!1,this.Ja=[],this.Ya=null,this.Za=!1,this.Xa=!1,this.eu=[],this.Uo=new _I(this,"async_queue_retry"),this.tu=()=>{const n=gf();n&&B("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Uo.Lo()};const e=gf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.tu)}get isShuttingDown(){return this.Ha}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nu(),this.ru(e)}enterRestrictedMode(e){if(!this.Ha){this.Ha=!0,this.Xa=e||!1;const n=gf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.tu)}}enqueue(e){if(this.nu(),this.Ha)return new Promise(()=>{});const n=new Kn;return this.ru(()=>this.Ha&&this.Xa?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ja.push(e),this.iu()))}async iu(){if(this.ja.length!==0){try{await this.ja[0](),this.ja.shift(),this.Uo.reset()}catch(e){if(!ml(e))throw e;B("AsyncQueue","Operation failed with retryable error: "+e)}this.ja.length>0&&this.Uo.No(()=>this.iu())}}ru(e){const n=this.za.then(()=>(this.Za=!0,e().catch(r=>{this.Ya=r,this.Za=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw nr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Za=!1,r))));return this.za=n,n}enqueueAfterDelay(e,n,r){this.nu(),this.eu.indexOf(e)>-1&&(n=0);const i=Cy.createAndSchedule(this,e,n,r,s=>this.su(s));return this.Ja.push(i),i}nu(){this.Ya&&X()}verifyOperationInProgress(){}async ou(){let e;do e=this.za,await e;while(e!==this.za)}_u(e){for(const n of this.Ja)if(n.timerId===e)return!0;return!1}au(e){return this.ou().then(()=>{this.Ja.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Ja)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ou()})}uu(e){this.eu.push(e)}su(e){const n=this.Ja.indexOf(e);this.Ja.splice(n,1)}}class xl extends ch{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new wM}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||BI(this),this._firestoreClient.terminate()}}function xM(t,e){const n=typeof t=="object"?t:Ng(),r=typeof t=="string"?t:e||"(default)",i=Od(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=WE("firestore");s&&_M(i,...s)}return i}function Ny(t){return t._firestoreClient||BI(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function BI(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new nj(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,FI(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new hM(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e){this._byteString=e}static fromBase64String(e){try{return new to(_t.fromBase64String(e))}catch(n){throw new U(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new to(_t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new U(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function EM(){return new dh("__name__")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new U(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new U(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ue(this._lat,e._lat)||ue(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM=/^__.*__$/;class SM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Zi(e,this.data,this.fieldMask,n,this.fieldTransforms):new yl(e,this.data,n,this.fieldTransforms)}}function WI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X()}}class Oy{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.cu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get lu(){return this.settings.lu}hu(e){return new Oy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.hu({path:r,Iu:!1});return i.Tu(e),i}Eu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.hu({path:r,Iu:!1});return i.cu(),i}du(e){return this.hu({path:void 0,Iu:!0})}Au(e){return Pc(e,this.settings.methodName,this.settings.Ru||!1,this.path,this.settings.Vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}cu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Tu(this.path.get(e))}Tu(e){if(e.length===0)throw this.Au("Document fields must not be empty");if(WI(this.lu)&&TM.test(e))throw this.Au('Document fields cannot begin and end with "__"')}}class IM{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||oh(e)}mu(e,n,r,i=!1){return new Oy({lu:e,methodName:n,Vu:r,path:ft.emptyPath(),Iu:!1,Ru:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function HI(t){const e=t._freezeSettings(),n=oh(t._databaseId);return new IM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function RM(t,e,n,r,i,s={}){const o=t.mu(s.merge||s.mergeFields?2:0,e,n,i);GI("Data must be an object, but it was:",o,r);const a=qI(r,o);let l,u;if(s.merge)l=new un(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const f=kM(e,h,n);if(!o.contains(f))throw new U(P.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);PM(c,f)||c.push(f)}l=new un(c),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new SM(new Yt(a),l,u)}function CM(t,e,n,r=!1){return Dy(n,t.mu(r?4:3,e))}function Dy(t,e){if(KI(t=He(t)))return GI("Unsupported field value:",e,t),qI(t,e);if(t instanceof zI)return function(r,i){if(!WI(i.lu))throw i.Au(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Au(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Iu&&e.lu!==4)throw e.Au("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Dy(a,i.du(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=He(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Tj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=We.fromDate(r);return{timestampValue:kc(i.serializer,s)}}if(r instanceof We){const s=new We(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:kc(i.serializer,s)}}if(r instanceof by)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof to)return{bytesValue:dI(i.serializer,r._byteString)};if(r instanceof Dt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Au(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:wy(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Au(`Unsupported field value: ${uh(r)}`)}(t,e)}function qI(t,e){const n={};return VS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):po(t,(r,i)=>{const s=Dy(i,e.Pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function KI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof We||t instanceof by||t instanceof to||t instanceof Dt||t instanceof zI)}function GI(t,e,n){if(!KI(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=uh(n);throw r==="an object"?e.Au(t+" a custom object"):e.Au(t+" "+r)}}function kM(t,e,n){if((e=He(e))instanceof dh)return e._internalPath;if(typeof e=="string")return QI(t,e);throw Pc("Field path arguments must be of type string or ",t,!1,void 0,n)}const AM=new RegExp("[~\\*/\\[\\]]");function QI(t,e,n){if(e.search(AM)>=0)throw Pc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new dh(...e.split("."))._internalPath}catch{throw Pc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Pc(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new U(P.INVALID_ARGUMENT,a+t+l)}function PM(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new NM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ly("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class NM extends XI{data(){return super.data()}}function Ly(t,e){return typeof e=="string"?QI(t,e):e instanceof dh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new U(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jy{}class OM extends jy{}function Vi(t,e,...n){let r=[];e instanceof jy&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof My).length,a=s.filter(l=>l instanceof hh).length;if(o>1||o>0&&a>0)throw new U(P.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class hh extends OM{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new hh(e,n,r)}_apply(e){const n=this._parse(e);return YI(e._query,n),new yo(e.firestore,e.converter,Zp(e._query,n))}_parse(e){const n=HI(e.firestore);return function(s,o,a,l,u,c,h){let f;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new U(P.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){r1(h,c);const p=[];for(const v of h)p.push(n1(l,s,v));f={arrayValue:{values:p}}}else f=n1(l,s,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||r1(h,c),f=CM(a,o,h,c==="in"||c==="not-in");return $e.create(u,c,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function $i(t,e,n){const r=e,i=Ly("where",t);return hh._create(i,r,n)}class My extends jy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new My(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:pn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)YI(o,l),o=Zp(o,l)}(e._query,n),new yo(e.firestore,e.converter,Zp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function n1(t,e,n){if(typeof(n=He(n))=="string"){if(n==="")throw new U(P.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!GS(e)&&n.indexOf("/")!==-1)throw new U(P.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(_e.fromString(n));if(!K.isDocumentKey(r))throw new U(P.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return R_(t,new K(r))}if(n instanceof Dt)return R_(t,n._key);throw new U(P.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uh(n)}.`)}function r1(t,e){if(!Array.isArray(t)||t.length===0)throw new U(P.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function YI(t,e){if(e.isInequality()){const r=gy(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new U(P.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=KS(t);s!==null&&DM(t,i,s)}const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new U(P.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new U(P.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function DM(t,e,n){if(!n.isEqual(e))throw new U(P.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class LM{convertValue(e,n="none"){switch(Mi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Me(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ji(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw X()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return po(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new by(Me(e.latitude),Me(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=dy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Fa(e));default:return null}}convertTimestamp(e){const n=Gr(e);return new We(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=_e.fromString(e);Ee(gI(r));const i=new Ua(r.get(1),r.get(3)),s=new K(r.popFirst(5));return i.isEqual(n)||nr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class JI extends XI{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ku(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ly("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ku extends JI{data(e={}){return super.data(e)}}class MM{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Vo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ku(this._firestore,this._userDataWriter,r.key,r,new Vo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new U(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new ku(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Vo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new ku(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Vo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:VM(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function VM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(t){t=Xr(t,Dt);const e=Xr(t.firestore,xl);return gM(Ny(e),t._key).then(n=>$M(e,t,n))}class ZI extends LM{constructor(e){super(),this.firestore=e}convertBytes(e){return new to(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Dt(this.firestore,null,n)}}function Ui(t){t=Xr(t,yo);const e=Xr(t.firestore,xl),n=Ny(e),r=new ZI(e);return bM(t._query),yM(n,t._query).then(i=>new MM(e,r,t,i))}function Rr(t,e,n){t=Xr(t,Dt);const r=Xr(t.firestore,xl),i=jM(t.converter,e,n);return eR(r,[RM(HI(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Pn.none())])}function lm(t){return eR(Xr(t.firestore,xl),[new yy(t._key,Pn.none())])}function eR(t,e){return function(r,i){const s=new Kn;return r.asyncQueue.enqueueAndForget(async()=>nM(await mM(r),i,s)),s.promise}(Ny(t),e)}function $M(t,e,n){const r=n.docs.get(e._key),i=new ZI(t);return new JI(t,i,e._key,r,new Vo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){fo=i})(Xi),Oi(new qr("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new xl(new BL(r.getProvider("auth-internal")),new qL(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new U(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ua(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Cn(x_,"4.1.2",e),Cn(x_,"4.1.2","esm2017")})();var FM="firebase",UM="10.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cn(FM,UM,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR="firebasestorage.googleapis.com",nR="storageBucket",BM=2*60*1e3,zM=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De extends Ln{constructor(e,n,r=0){super(vf(e),`Firebase Storage: ${n} (${vf(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,De.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return vf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Oe;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Oe||(Oe={}));function vf(t){return"storage/"+t}function Vy(){const t="An unknown error occurred, please check the error payload for server response.";return new De(Oe.UNKNOWN,t)}function WM(t){return new De(Oe.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function HM(t){return new De(Oe.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function qM(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new De(Oe.UNAUTHENTICATED,t)}function KM(){return new De(Oe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function GM(t){return new De(Oe.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function QM(){return new De(Oe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function XM(){return new De(Oe.CANCELED,"User canceled the upload/download.")}function YM(t){return new De(Oe.INVALID_URL,"Invalid URL '"+t+"'.")}function JM(t){return new De(Oe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function ZM(){return new De(Oe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+nR+"' property when initializing the app?")}function eV(){return new De(Oe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function tV(){return new De(Oe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function nV(t){return new De(Oe.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function um(t){return new De(Oe.INVALID_ARGUMENT,t)}function rR(){return new De(Oe.APP_DELETED,"The Firebase app was deleted.")}function rV(t){return new De(Oe.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ta(t,e){return new De(Oe.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ko(t){throw new De(Oe.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Vt.makeFromUrl(e,n)}catch{return new Vt(e,"")}if(r.path==="")return r;throw JM(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(E){E.path_=decodeURIComponent(E.path)}const c="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${c}/b/${i}/o${f}`,"i"),v={bucket:1,path:3},_=n===tR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",y=new RegExp(`^https?://${_}/${i}/${x}`,"i"),w=[{regex:a,indices:l,postModify:s},{regex:p,indices:v,postModify:u},{regex:y,indices:{bucket:1,path:2},postModify:u}];for(let E=0;E<w.length;E++){const T=w[E],S=T.regex.exec(e);if(S){const R=S[T.indices.bucket];let I=S[T.indices.path];I||(I=""),r=new Vt(R,I),T.postModify(r);break}}if(r==null)throw YM(e);return r}}class iV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sV(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...x){u||(u=!0,e.apply(null,x))}function h(x){i=setTimeout(()=>{i=null,t(p,l())},x)}function f(){s&&clearTimeout(s)}function p(x,...y){if(u){f();return}if(x){f(),c.call(null,x,...y);return}if(l()||o){f(),c.call(null,x,...y);return}r<64&&(r*=2);let w;a===1?(a=2,w=0):w=(r+Math.random())*1e3,h(w)}let v=!1;function _(x){v||(v=!0,f(),!u&&(i!==null?(x||(a=2),clearTimeout(i),h(0)):x||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,_(!0)},n),_}function oV(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aV(t){return t!==void 0}function lV(t){return typeof t=="object"&&!Array.isArray(t)}function $y(t){return typeof t=="string"||t instanceof String}function i1(t){return Fy()&&t instanceof Blob}function Fy(){return typeof Blob<"u"&&!dO()}function s1(t,e,n,r){if(r<e)throw um(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw um(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function iR(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ti;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ti||(Ti={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uV(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e,n,r,i,s,o,a,l,u,c,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,v)=>{this.resolve_=p,this.reject_=v,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new iu(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Ti.NO_ERROR,l=s.getStatus();if(!a||uV(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===Ti.ABORT;r(!1,new iu(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new iu(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());aV(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=Vy();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?rR():XM();o(l)}else{const l=QM();o(l)}};this.canceled_?n(!1,new iu(!1,null,!0)):this.backoffId_=sV(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&oV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class iu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function dV(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function hV(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function fV(t,e){e&&(t["X-Firebase-GMPID"]=e)}function pV(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function mV(t,e,n,r,i,s,o=!0){const a=iR(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return fV(u,e),dV(u,n),hV(u,s),pV(u,r),new cV(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gV(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function yV(...t){const e=gV();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Fy())return new Blob(t);throw new De(Oe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function vV(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _V(t){if(typeof atob>"u")throw nV("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class _f{constructor(e,n){this.data=e,this.contentType=n||null}}function wV(t,e){switch(t){case Tn.RAW:return new _f(sR(e));case Tn.BASE64:case Tn.BASE64URL:return new _f(oR(t,e));case Tn.DATA_URL:return new _f(EV(e),TV(e))}throw Vy()}function sR(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function xV(t){let e;try{e=decodeURIComponent(t)}catch{throw ta(Tn.DATA_URL,"Malformed data URL.")}return sR(e)}function oR(t,e){switch(t){case Tn.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw ta(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Tn.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw ta(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=_V(e)}catch(i){throw i.message.includes("polyfill")?i:ta(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class aR{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ta(Tn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=SV(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function EV(t){const e=new aR(t);return e.base64?oR(Tn.BASE64,e.rest):xV(e.rest)}function TV(t){return new aR(t).contentType}function SV(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,n){let r=0,i="";i1(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(i1(this.data_)){const r=this.data_,i=vV(r,e,n);return i===null?null:new xr(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new xr(r,!0)}}static getBlob(...e){if(Fy()){const n=e.map(r=>r instanceof xr?r.data_:r);return new xr(yV.apply(null,n))}else{const n=e.map(o=>$y(o)?wV(Tn.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new xr(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(t){let e;try{e=JSON.parse(t)}catch{return null}return lV(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IV(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function RV(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function uR(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CV(t,e){return e}class xt{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||CV}}let su=null;function kV(t){return!$y(t)||t.length<2?t:uR(t)}function cR(){if(su)return su;const t=[];t.push(new xt("bucket")),t.push(new xt("generation")),t.push(new xt("metageneration")),t.push(new xt("name","fullPath",!0));function e(s,o){return kV(o)}const n=new xt("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new xt("size");return i.xform=r,t.push(i),t.push(new xt("timeCreated")),t.push(new xt("updated")),t.push(new xt("md5Hash",null,!0)),t.push(new xt("cacheControl",null,!0)),t.push(new xt("contentDisposition",null,!0)),t.push(new xt("contentEncoding",null,!0)),t.push(new xt("contentLanguage",null,!0)),t.push(new xt("contentType",null,!0)),t.push(new xt("metadata","customMetadata",!0)),su=t,su}function AV(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Vt(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function PV(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return AV(r,t),r}function dR(t,e,n){const r=lR(e);return r===null?null:PV(t,r,n)}function NV(t,e,n,r){const i=lR(e);if(i===null||!$y(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,h=t.fullPath,f="/b/"+o(c)+"/o/"+o(h),p=fh(f,n,r),v=iR({alt:"media",token:u});return p+v})[0]}function bV(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Uy{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(t){if(!t)throw Vy()}function OV(t,e){function n(r,i){const s=dR(t,i,e);return hR(s!==null),s}return n}function DV(t,e){function n(r,i){const s=dR(t,i,e);return hR(s!==null),NV(s,i,t.host,t._protocol)}return n}function fR(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=KM():i=qM():n.getStatus()===402?i=HM(t.bucket):n.getStatus()===403?i=GM(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function pR(t){const e=fR(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=WM(t.path)),s.serverResponse=i.serverResponse,s}return n}function LV(t,e,n){const r=e.fullServerUrl(),i=fh(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Uy(i,s,DV(t,n),o);return a.errorHandler=pR(e),a}function jV(t,e){const n=e.fullServerUrl(),r=fh(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(l,u){}const a=new Uy(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=pR(e),a}function MV(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function VV(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=MV(null,e)),r}function $V(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let w="";for(let E=0;E<2;E++)w=w+Math.random().toString().slice(2);return w}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=VV(e,r,i),c=bV(u,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",p=xr.getBlob(h,r,f);if(p===null)throw eV();const v={name:u.fullPath},_=fh(s,t.host,t._protocol),x="POST",y=t.maxUploadRetryTime,g=new Uy(_,x,OV(t,n),y);return g.urlParams=v,g.headers=o,g.body=p.uploadData(),g.errorHandler=fR(e),g}class FV{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ti.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ti.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ti.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw ko("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ko("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ko("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ko("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ko("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class UV extends FV{initXhr(){this.xhr_.responseType="text"}}function By(){return new UV}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,n){this._service=e,n instanceof Vt?this._location=n:this._location=Vt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Bi(e,n)}get root(){const e=new Vt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return uR(this._location.path)}get storage(){return this._service}get parent(){const e=IV(this._location.path);if(e===null)return null;const n=new Vt(this._location.bucket,e);return new Bi(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw rV(e)}}function BV(t,e,n){t._throwIfRoot("uploadBytes");const r=$V(t.storage,t._location,cR(),new xr(e,!0),n);return t.storage.makeRequestWithTokens(r,By).then(i=>({metadata:i,ref:t}))}function zV(t){t._throwIfRoot("getDownloadURL");const e=LV(t.storage,t._location,cR());return t.storage.makeRequestWithTokens(e,By).then(n=>{if(n===null)throw tV();return n})}function WV(t){t._throwIfRoot("deleteObject");const e=jV(t.storage,t._location);return t.storage.makeRequestWithTokens(e,By)}function HV(t,e){const n=RV(t._location.path,e),r=new Vt(t._location.bucket,n);return new Bi(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qV(t){return/^[A-Za-z]+:\/\//.test(t)}function KV(t,e){return new Bi(t,e)}function mR(t,e){if(t instanceof zy){const n=t;if(n._bucket==null)throw ZM();const r=new Bi(n,n._bucket);return e!=null?mR(r,e):r}else return e!==void 0?HV(t,e):t}function GV(t,e){if(e&&qV(e)){if(t instanceof zy)return KV(t,e);throw um("To use ref(service, url), the first argument must be a Storage instance.")}else return mR(t,e)}function o1(t,e){const n=e==null?void 0:e[nR];return n==null?null:Vt.makeFromBucketSpec(n,t)}function QV(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:KE(i,t.app.options.projectId))}class zy{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=tR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=BM,this._maxUploadRetryTime=zM,this._requests=new Set,i!=null?this._bucket=Vt.makeFromBucketSpec(i,this._host):this._bucket=o1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Vt.makeFromBucketSpec(this._url,e):this._bucket=o1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){s1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){s1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Bi(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new iV(rR());{const o=mV(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const a1="@firebase/storage",l1="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR="storage";function XV(t,e,n){return t=He(t),BV(t,e,n)}function YV(t){return t=He(t),zV(t)}function JV(t){return t=He(t),WV(t)}function yR(t,e){return t=He(t),GV(t,e)}function ZV(t=Ng(),e){t=He(t);const r=Od(t,gR).getImmediate({identifier:e}),i=WE("storage");return i&&e$(r,...i),r}function e$(t,e,n,r={}){QV(t,e,n,r)}function t$(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new zy(n,r,i,e,Xi)}function n$(){Oi(new qr(gR,t$,"PUBLIC").setMultipleInstances(!0)),Cn(a1,l1,""),Cn(a1,l1,"esm2017")}n$();const r$={apiKey:"AIzaSyBPNpckpYiu009eSzHz_1YMlwHLtScgVjE",authDomain:"zingmp3-clone-61799.firebaseapp.com",projectId:"zingmp3-clone-61799",storageBucket:"zingmp3-clone-61799.appspot.com",messagingSenderId:"938280289868",appId:"1:938280289868:web:1b426fc2dba5d03dde96e9"},Wy=XE(r$),we=xM(Wy),Dn=PD(Wy);new vn;const vR=ZV(Wy);function _R(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=_R(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function i$(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=_R(t))&&(r&&(r+=" "),r+=e);return r}const u1=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,c1=i$,s$=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return c1(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(u=>{const c=n==null?void 0:n[u],h=s==null?void 0:s[u];if(c===null)return null;const f=u1(c)||u1(h);return i[u][f]}),a=n&&Object.entries(n).reduce((u,c)=>{let[h,f]=c;return f===void 0||(u[h]=f),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,c)=>{let{class:h,className:f,...p}=c;return Object.entries(p).every(v=>{let[_,x]=v;return Array.isArray(x)?x.includes({...s,...a}[_]):{...s,...a}[_]===x})?[...u,h,f]:u},[]);return c1(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},o$=s$("inline-flex items-center hover:brightness-90",{variants:{variant:{default:"",circle:"rounded-[99px] p-[4px] bg-gray-500 bg-opacity-20 text-xl",list:"flex items-center py-[4px] w-full text-[14px]",primary:"px-[20px] py-[5px] text-[14px]"},size:{half:"w-1/2",full:"w-full",small:"h-[20px] w-[20px]",normal:"h-[35px] w-[35px]",large:"h-[40px] w-[40px]"}},defaultVariants:{variant:"default"}}),H=({className:t,children:e,variant:n,size:r,isLoading:i,onClick:s,...o})=>d.jsxs("button",{onClick:a=>s?s(a):"",...o,className:o$({variant:n,size:r,className:t}),disabled:i,children:[i?d.jsx(iE,{className:"h-5 w-5 animate-spin"}):null,!i&&e]}),Nc=t=>{if(!t)return"";let e=0,n=+t.toFixed(0);for(;n>=60;)n-=60,e++;return n>=10?`0${e}:${n}`:`0${e}:0${n}`},a$=["top","right","bottom","left"],d1=["start","end"],h1=a$.reduce((t,e)=>t.concat(e,e+"-"+d1[0],e+"-"+d1[1]),[]),bc=Math.min,Si=Math.max,Oc=Math.round,ou=Math.floor,Yr=t=>({x:t,y:t}),l$={left:"right",right:"left",bottom:"top",top:"bottom"},u$={start:"end",end:"start"};function f1(t,e,n){return Si(t,bc(e,n))}function El(t,e){return typeof t=="function"?t(e):t}function or(t){return t.split("-")[0]}function Gn(t){return t.split("-")[1]}function wR(t){return t==="x"?"y":"x"}function xR(t){return t==="y"?"height":"width"}function ph(t){return["top","bottom"].includes(or(t))?"y":"x"}function ER(t){return wR(ph(t))}function TR(t,e,n){n===void 0&&(n=!1);const r=Gn(t),i=ER(t),s=xR(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Lc(o)),[o,Lc(o)]}function c$(t){const e=Lc(t);return[Dc(t),e,Dc(e)]}function Dc(t){return t.replace(/start|end/g,e=>u$[e])}function d$(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function h$(t,e,n,r){const i=Gn(t);let s=d$(or(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(Dc)))),s}function Lc(t){return t.replace(/left|right|bottom|top/g,e=>l$[e])}function f$(t){return{top:0,right:0,bottom:0,left:0,...t}}function p$(t){return typeof t!="number"?f$(t):{top:t,right:t,bottom:t,left:t}}function jc(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function p1(t,e,n){let{reference:r,floating:i}=t;const s=ph(e),o=ER(e),a=xR(o),l=or(e),u=s==="y",c=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let p;switch(l){case"top":p={x:c,y:r.y-i.height};break;case"bottom":p={x:c,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:h};break;case"left":p={x:r.x-i.width,y:h};break;default:p={x:r.x,y:r.y}}switch(Gn(e)){case"start":p[o]-=f*(n&&u?-1:1);break;case"end":p[o]+=f*(n&&u?-1:1);break}return p}const m$=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:c,y:h}=p1(u,r,l),f=r,p={},v=0;for(let _=0;_<a.length;_++){const{name:x,fn:y}=a[_],{x:g,y:w,data:E,reset:T}=await y({x:c,y:h,initialPlacement:r,placement:f,strategy:i,middlewareData:p,rects:u,platform:o,elements:{reference:t,floating:e}});if(c=g??c,h=w??h,p={...p,[x]:{...p[x],...E}},T&&v<=50){v++,typeof T=="object"&&(T.placement&&(f=T.placement),T.rects&&(u=T.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):T.rects),{x:c,y:h}=p1(u,f,l)),_=-1;continue}}return{x:c,y:h,placement:f,strategy:i,middlewareData:p}};async function Hy(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=El(e,t),v=p$(p),x=a[f?h==="floating"?"reference":"floating":h],y=jc(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(x)))==null||n?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),g=h==="floating"?{...o.floating,x:r,y:i}:o.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),E=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},T=jc(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({rect:g,offsetParent:w,strategy:l}):g);return{top:(y.top-T.top+v.top)/E.y,bottom:(T.bottom-y.bottom+v.bottom)/E.y,left:(y.left-T.left+v.left)/E.x,right:(T.right-y.right+v.right)/E.x}}function g$(t,e,n){return(t?[...n.filter(i=>Gn(i)===t),...n.filter(i=>Gn(i)!==t)]:n.filter(i=>or(i)===i)).filter(i=>t?Gn(i)===t||(e?Dc(i)!==i:!1):!0)}const SR=function(t){return t===void 0&&(t={}),{name:"autoPlacement",options:t,async fn(e){var n,r,i;const{rects:s,middlewareData:o,placement:a,platform:l,elements:u}=e,{crossAxis:c=!1,alignment:h,allowedPlacements:f=h1,autoAlignment:p=!0,...v}=El(t,e),_=h!==void 0||f===h1?g$(h||null,p,f):f,x=await Hy(e,v),y=((n=o.autoPlacement)==null?void 0:n.index)||0,g=_[y];if(g==null)return{};const w=TR(g,s,await(l.isRTL==null?void 0:l.isRTL(u.floating)));if(a!==g)return{reset:{placement:_[0]}};const E=[x[or(g)],x[w[0]],x[w[1]]],T=[...((r=o.autoPlacement)==null?void 0:r.overflows)||[],{placement:g,overflows:E}],S=_[y+1];if(S)return{data:{index:y+1,overflows:T},reset:{placement:S}};const R=T.map(C=>{const N=Gn(C.placement);return[C.placement,N&&c?C.overflows.slice(0,2).reduce((G,$)=>G+$,0):C.overflows[0],C.overflows]}).sort((C,N)=>C[1]-N[1]),L=((i=R.filter(C=>C[2].slice(0,Gn(C[0])?2:3).every(N=>N<=0))[0])==null?void 0:i[0])||R[0][0];return L!==a?{data:{index:y+1,overflows:T},reset:{placement:L}}:{}}}},IR=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n;const{placement:r,middlewareData:i,rects:s,initialPlacement:o,platform:a,elements:l}=e,{mainAxis:u=!0,crossAxis:c=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:v=!0,..._}=El(t,e),x=or(r),y=or(o)===o,g=await(a.isRTL==null?void 0:a.isRTL(l.floating)),w=h||(y||!v?[Lc(o)]:c$(o));!h&&p!=="none"&&w.push(...h$(o,v,p,g));const E=[o,...w],T=await Hy(e,_),S=[];let R=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&S.push(T[x]),c){const N=TR(r,s,g);S.push(T[N[0]],T[N[1]])}if(R=[...R,{placement:r,overflows:S}],!S.every(N=>N<=0)){var I,L;const N=(((I=i.flip)==null?void 0:I.index)||0)+1,G=E[N];if(G)return{data:{index:N,overflows:R},reset:{placement:G}};let $=(L=R.filter(z=>z.overflows[0]<=0).sort((z,te)=>z.overflows[1]-te.overflows[1])[0])==null?void 0:L.placement;if(!$)switch(f){case"bestFit":{var C;const z=(C=R.map(te=>[te.placement,te.overflows.filter(Q=>Q>0).reduce((Q,ae)=>Q+ae,0)]).sort((te,Q)=>te[1]-Q[1])[0])==null?void 0:C[0];z&&($=z);break}case"initialPlacement":$=o;break}if(r!==$)return{reset:{placement:$}}}return{}}}};async function y$(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=or(n),a=Gn(n),l=ph(n)==="y",u=["left","top"].includes(o)?-1:1,c=s&&l?-1:1,h=El(e,t);let{mainAxis:f,crossAxis:p,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...h};return a&&typeof v=="number"&&(p=a==="end"?v*-1:v),l?{x:p*c,y:f*u}:{x:f*u,y:p*c}}const qy=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){const{x:n,y:r}=e,i=await y$(e,t);return{x:n+i.x,y:r+i.y,data:i}}}},RR=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:y,y:g}=x;return{x:y,y:g}}},...l}=El(t,e),u={x:n,y:r},c=await Hy(e,l),h=ph(or(i)),f=wR(h);let p=u[f],v=u[h];if(s){const x=f==="y"?"top":"left",y=f==="y"?"bottom":"right",g=p+c[x],w=p-c[y];p=f1(g,p,w)}if(o){const x=h==="y"?"top":"left",y=h==="y"?"bottom":"right",g=v+c[x],w=v-c[y];v=f1(g,v,w)}const _=a.fn({...e,[f]:p,[h]:v});return{..._,data:{x:_.x-n,y:_.y-r}}}}};function Jr(t){return CR(t)?(t.nodeName||"").toLowerCase():"#document"}function Ft(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function cr(t){var e;return(e=(CR(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function CR(t){return t instanceof Node||t instanceof Ft(t).Node}function Be(t){return t instanceof Element||t instanceof Ft(t).Element}function Rt(t){return t instanceof HTMLElement||t instanceof Ft(t).HTMLElement}function cm(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ft(t).ShadowRoot}function Tl(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Wt(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function v$(t){return["table","td","th"].includes(Jr(t))}function Ky(t){const e=Gy(),n=Wt(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function _$(t){let e=zi(t);for(;Rt(e)&&!Sl(e);){if(Ky(e))return e;e=zi(e)}return null}function Gy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Sl(t){return["html","body","#document"].includes(Jr(t))}function Wt(t){return Ft(t).getComputedStyle(t)}function mh(t){return Be(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function zi(t){if(Jr(t)==="html")return t;const e=t.assignedSlot||t.parentNode||cm(t)&&t.host||cr(t);return cm(e)?e.host:e}function kR(t){const e=zi(t);return Sl(e)?t.ownerDocument?t.ownerDocument.body:t.body:Rt(e)&&Tl(e)?e:kR(e)}function Ii(t,e){var n;e===void 0&&(e=[]);const r=kR(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=Ft(r);return i?e.concat(s,s.visualViewport||[],Tl(r)?r:[]):e.concat(r,Ii(r))}function AR(t){const e=Wt(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Rt(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Oc(n)!==s||Oc(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function Qy(t){return Be(t)?t:t.contextElement}function js(t){const e=Qy(t);if(!Rt(e))return Yr(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=AR(e);let o=(s?Oc(n.width):n.width)/r,a=(s?Oc(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const w$=Yr(0);function PR(t){const e=Ft(t);return!Gy()||!e.visualViewport?w$:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function x$(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ft(t)?!1:e}function Wi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=Qy(t);let o=Yr(1);e&&(r?Be(r)&&(o=js(r)):o=js(t));const a=x$(s,n,r)?PR(s):Yr(0);let l=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,c=i.width/o.x,h=i.height/o.y;if(s){const f=Ft(s),p=r&&Be(r)?Ft(r):r;let v=f.frameElement;for(;v&&r&&p!==f;){const _=js(v),x=v.getBoundingClientRect(),y=Wt(v),g=x.left+(v.clientLeft+parseFloat(y.paddingLeft))*_.x,w=x.top+(v.clientTop+parseFloat(y.paddingTop))*_.y;l*=_.x,u*=_.y,c*=_.x,h*=_.y,l+=g,u+=w,v=Ft(v).frameElement}}return jc({width:c,height:h,x:l,y:u})}function E$(t){let{rect:e,offsetParent:n,strategy:r}=t;const i=Rt(n),s=cr(n);if(n===s)return e;let o={scrollLeft:0,scrollTop:0},a=Yr(1);const l=Yr(0);if((i||!i&&r!=="fixed")&&((Jr(n)!=="body"||Tl(s))&&(o=mh(n)),Rt(n))){const u=Wi(n);a=js(n),l.x=u.x+n.clientLeft,l.y=u.y+n.clientTop}return{width:e.width*a.x,height:e.height*a.y,x:e.x*a.x-o.scrollLeft*a.x+l.x,y:e.y*a.y-o.scrollTop*a.y+l.y}}function T$(t){return Array.from(t.getClientRects())}function NR(t){return Wi(cr(t)).left+mh(t).scrollLeft}function S$(t){const e=cr(t),n=mh(t),r=t.ownerDocument.body,i=Si(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Si(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+NR(t);const a=-n.scrollTop;return Wt(r).direction==="rtl"&&(o+=Si(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function I$(t,e){const n=Ft(t),r=cr(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const u=Gy();(!u||u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function R$(t,e){const n=Wi(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Rt(t)?js(t):Yr(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:o,height:a,x:l,y:u}}function m1(t,e,n){let r;if(e==="viewport")r=I$(t,n);else if(e==="document")r=S$(cr(t));else if(Be(e))r=R$(e,n);else{const i=PR(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return jc(r)}function bR(t,e){const n=zi(t);return n===e||!Be(n)||Sl(n)?!1:Wt(n).position==="fixed"||bR(n,e)}function C$(t,e){const n=e.get(t);if(n)return n;let r=Ii(t).filter(a=>Be(a)&&Jr(a)!=="body"),i=null;const s=Wt(t).position==="fixed";let o=s?zi(t):t;for(;Be(o)&&!Sl(o);){const a=Wt(o),l=Ky(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Tl(o)&&!l&&bR(t,o))?r=r.filter(c=>c!==o):i=a,o=zi(o)}return e.set(t,r),r}function k$(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?C$(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,c)=>{const h=m1(e,c,i);return u.top=Si(h.top,u.top),u.right=bc(h.right,u.right),u.bottom=bc(h.bottom,u.bottom),u.left=Si(h.left,u.left),u},m1(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function A$(t){return AR(t)}function P$(t,e,n){const r=Rt(e),i=cr(e),s=n==="fixed",o=Wi(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Yr(0);if(r||!r&&!s)if((Jr(e)!=="body"||Tl(i))&&(a=mh(e)),r){const u=Wi(e,!0,s,e);l.x=u.x+e.clientLeft,l.y=u.y+e.clientTop}else i&&(l.x=NR(i));return{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function g1(t,e){return!Rt(t)||Wt(t).position==="fixed"?null:e?e(t):t.offsetParent}function OR(t,e){const n=Ft(t);if(!Rt(t))return n;let r=g1(t,e);for(;r&&v$(r)&&Wt(r).position==="static";)r=g1(r,e);return r&&(Jr(r)==="html"||Jr(r)==="body"&&Wt(r).position==="static"&&!Ky(r))?n:r||_$(t)||n}const N$=async function(t){let{reference:e,floating:n,strategy:r}=t;const i=this.getOffsetParent||OR,s=this.getDimensions;return{reference:P$(e,await i(n),r),floating:{x:0,y:0,...await s(n)}}};function b$(t){return Wt(t).direction==="rtl"}const O$={convertOffsetParentRelativeRectToViewportRelativeRect:E$,getDocumentElement:cr,getClippingRect:k$,getOffsetParent:OR,getElementRects:N$,getClientRects:T$,getDimensions:A$,getScale:js,isElement:Be,isRTL:b$};function D$(t,e){let n=null,r;const i=cr(t);function s(){clearTimeout(r),n&&n.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:u,top:c,width:h,height:f}=t.getBoundingClientRect();if(a||e(),!h||!f)return;const p=ou(c),v=ou(i.clientWidth-(u+h)),_=ou(i.clientHeight-(c+f)),x=ou(u),g={rootMargin:-p+"px "+-v+"px "+-_+"px "+-x+"px",threshold:Si(0,bc(1,l))||1};let w=!0;function E(T){const S=T[0].intersectionRatio;if(S!==l){if(!w)return o();S?o(!1,S):r=setTimeout(()=>{o(!1,1e-7)},100)}w=!1}try{n=new IntersectionObserver(E,{...g,root:i.ownerDocument})}catch{n=new IntersectionObserver(E,g)}n.observe(t)}return o(!0),s}function Il(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=Qy(t),c=i||s?[...u?Ii(u):[],...Ii(e)]:[];c.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),s&&y.addEventListener("resize",n)});const h=u&&a?D$(u,n):null;let f=-1,p=null;o&&(p=new ResizeObserver(y=>{let[g]=y;g&&g.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{p&&p.observe(e)})),n()}),u&&!l&&p.observe(u),p.observe(e));let v,_=l?Wi(t):null;l&&x();function x(){const y=Wi(t);_&&(y.x!==_.x||y.y!==_.y||y.width!==_.width||y.height!==_.height)&&n(),_=y,v=requestAnimationFrame(x)}return n(),()=>{c.forEach(y=>{i&&y.removeEventListener("scroll",n),s&&y.removeEventListener("resize",n)}),h&&h(),p&&p.disconnect(),p=null,l&&cancelAnimationFrame(v)}}const L$=(t,e,n)=>{const r=new Map,i={platform:O$,...n},s={...i.platform,_c:r};return m$(t,e,{...i,platform:s})};var Au=typeof document<"u"?m.useLayoutEffect:m.useEffect;function Mc(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!Mc(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Mc(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function DR(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function y1(t,e){const n=DR(t);return Math.round(e*n)/n}function v1(t){const e=m.useRef(t);return Au(()=>{e.current=t}),e}function j$(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[c,h]=m.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,p]=m.useState(r);Mc(f,r)||p(r);const[v,_]=m.useState(null),[x,y]=m.useState(null),g=m.useCallback(Q=>{Q!=S.current&&(S.current=Q,_(Q))},[_]),w=m.useCallback(Q=>{Q!==R.current&&(R.current=Q,y(Q))},[y]),E=s||v,T=o||x,S=m.useRef(null),R=m.useRef(null),I=m.useRef(c),L=v1(l),C=v1(i),N=m.useCallback(()=>{if(!S.current||!R.current)return;const Q={placement:e,strategy:n,middleware:f};C.current&&(Q.platform=C.current),L$(S.current,R.current,Q).then(ae=>{const k={...ae,isPositioned:!0};G.current&&!Mc(I.current,k)&&(I.current=k,od.flushSync(()=>{h(k)}))})},[f,e,n,C]);Au(()=>{u===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,h(Q=>({...Q,isPositioned:!1})))},[u]);const G=m.useRef(!1);Au(()=>(G.current=!0,()=>{G.current=!1}),[]),Au(()=>{if(E&&(S.current=E),T&&(R.current=T),E&&T){if(L.current)return L.current(E,T,N);N()}},[E,T,N,L]);const $=m.useMemo(()=>({reference:S,floating:R,setReference:g,setFloating:w}),[g,w]),z=m.useMemo(()=>({reference:E,floating:T}),[E,T]),te=m.useMemo(()=>{const Q={position:n,left:0,top:0};if(!z.floating)return Q;const ae=y1(z.floating,c.x),k=y1(z.floating,c.y);return a?{...Q,transform:"translate("+ae+"px, "+k+"px)",...DR(z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ae,top:k}},[n,a,z.floating,c.x,c.y]);return m.useMemo(()=>({...c,update:N,refs:$,elements:z,floatingStyles:te}),[c,N,$,z,te])}function ls(t){let e=t.activeElement;for(;((n=e)==null||(r=n.shadowRoot)==null?void 0:r.activeElement)!=null;){var n,r;e=e.shadowRoot.activeElement}return e}function Lt(t,e){if(!t||!e)return!1;const n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&cm(n)){let r=e;for(;r;){if(t===r)return!0;r=r.parentNode||r.host}}return!1}function M$(){const t=navigator.userAgentData;return t!=null&&t.platform?t.platform:navigator.platform}function V$(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:r}=e;return n+"/"+r}).join(" "):navigator.userAgent}function $$(t){if(t.mozInputSource===0&&t.isTrusted)return!0;const e=/Android/i;return(e.test(M$())||e.test(V$()))&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function F$(t){return t.width===0&&t.height===0||t.width===1&&t.height===1&&t.pressure===0&&t.detail===0&&t.pointerType!=="mouse"||t.width<1&&t.height<1&&t.pressure===0&&t.detail===0}function U$(){return/apple/i.test(navigator.vendor)}function _1(t,e){const n=["mouse","pen"];return e||n.push("",void 0),n.includes(t)}function B$(t){return"nativeEvent"in t}function z$(t){return t.matches("html,body")}function wn(t){return(t==null?void 0:t.ownerDocument)||document}function wf(t,e){if(e==null)return!1;if("composedPath"in t)return t.composedPath().includes(e);const n=t;return n.target!=null&&e.contains(n.target)}function LR(t){return"composedPath"in t?t.composedPath()[0]:t.target}const W$="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function jR(t){return Rt(t)&&t.matches(W$)}function xf(t){t.preventDefault(),t.stopPropagation()}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var H$=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],dm=H$.join(","),MR=typeof Element>"u",Ha=MR?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Vc=!MR&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},$c=function t(e,n){var r;n===void 0&&(n=!0);var i=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),s=i===""||i==="true",o=s||n&&e&&t(e.parentNode);return o},q$=function(e){var n,r=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return r===""||r==="true"},K$=function(e,n,r){if($c(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(dm));return n&&Ha.call(e,dm)&&i.unshift(e),i=i.filter(r),i},G$=function t(e,n,r){for(var i=[],s=Array.from(e);s.length;){var o=s.shift();if(!$c(o,!1))if(o.tagName==="SLOT"){var a=o.assignedElements(),l=a.length?a:o.children,u=t(l,!0,r);r.flatten?i.push.apply(i,u):i.push({scopeParent:o,candidates:u})}else{var c=Ha.call(o,dm);c&&r.filter(o)&&(n||!e.includes(o))&&i.push(o);var h=o.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(o),f=!$c(h,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(o));if(h&&f){var p=t(h===!0?o.children:h.children,!0,r);r.flatten?i.push.apply(i,p):i.push({scopeParent:o,candidates:p})}else s.unshift.apply(s,o.children)}}return i},VR=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},$R=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||q$(e))&&!VR(e)?0:e.tabIndex},Q$=function(e,n){var r=$R(e);return r<0&&n&&!VR(e)?0:r},X$=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},FR=function(e){return e.tagName==="INPUT"},Y$=function(e){return FR(e)&&e.type==="hidden"},J$=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return n},Z$=function(e,n){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===n)return e[r]},eF=function(e){if(!e.name)return!0;var n=e.form||Vc(e),r=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(e.name));else try{i=r(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var s=Z$(i,e.form);return!s||s===e},tF=function(e){return FR(e)&&e.type==="radio"},nF=function(e){return tF(e)&&!eF(e)},rF=function(e){var n,r=e&&Vc(e),i=(n=r)===null||n===void 0?void 0:n.host,s=!1;if(r&&r!==e){var o,a,l;for(s=!!((o=i)!==null&&o!==void 0&&(a=o.ownerDocument)!==null&&a!==void 0&&a.contains(i)||e!=null&&(l=e.ownerDocument)!==null&&l!==void 0&&l.contains(e));!s&&i;){var u,c,h;r=Vc(i),i=(u=r)===null||u===void 0?void 0:u.host,s=!!((c=i)!==null&&c!==void 0&&(h=c.ownerDocument)!==null&&h!==void 0&&h.contains(i))}}return s},w1=function(e){var n=e.getBoundingClientRect(),r=n.width,i=n.height;return r===0&&i===0},iF=function(e,n){var r=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var s=Ha.call(e,"details>summary:first-of-type"),o=s?e.parentElement:e;if(Ha.call(o,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof i=="function"){for(var a=e;e;){var l=e.parentElement,u=Vc(e);if(l&&!l.shadowRoot&&i(l)===!0)return w1(e);e.assignedSlot?e=e.assignedSlot:!l&&u!==e.ownerDocument?e=u.host:e=l}e=a}if(rF(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return w1(e);return!1},sF=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var i=n.children.item(r);if(i.tagName==="LEGEND")return Ha.call(n,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}n=n.parentElement}return!1},oF=function(e,n){return!(n.disabled||$c(n)||Y$(n)||iF(n,e)||J$(n)||sF(n))},x1=function(e,n){return!(nF(n)||$R(n)<0||!oF(e,n))},aF=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},lF=function t(e){var n=[],r=[];return e.forEach(function(i,s){var o=!!i.scopeParent,a=o?i.scopeParent:i,l=Q$(a,o),u=o?t(i.candidates):a;l===0?o?n.push.apply(n,u):n.push(a):r.push({documentOrder:s,tabIndex:l,item:i,isScope:o,content:u})}),r.sort(X$).reduce(function(i,s){return s.isScope?i.push.apply(i,s.content):i.push(s.content),i},[]).concat(n)},UR=function(e,n){n=n||{};var r;return n.getShadowRoot?r=G$([e],n.includeContainer,{filter:x1.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:aF}):r=K$(e,n.includeContainer,x1.bind(null,n)),lF(r)};function Fc(){return Fc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fc.apply(this,arguments)}var Cr=typeof document<"u"?m.useLayoutEffect:m.useEffect;let Ef=!1,uF=0;const E1=()=>"floating-ui-"+uF++;function cF(){const[t,e]=m.useState(()=>Ef?E1():void 0);return Cr(()=>{t==null&&e(E1())},[]),m.useEffect(()=>{Ef||(Ef=!0)},[]),t}const dF=wm["useId".toString()],BR=dF||cF;function hF(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(i=>i!==n))||[])}}}const fF=m.createContext(null),pF=m.createContext(null),mF=()=>{var t;return((t=m.useContext(fF))==null?void 0:t.id)||null},Xy=()=>m.useContext(pF);function Uc(t){return"data-floating-ui-"+t}function Tf(t){const e=m.useRef(t);return Cr(()=>{e.current=t}),e}let T1=0;function si(t,e){e===void 0&&(e={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:i=!1}=e;r&&cancelAnimationFrame(T1);const s=()=>t==null?void 0:t.focus({preventScroll:n});i?s():T1=requestAnimationFrame(s)}function gF(t,e){var n;let r=[],i=(n=t.find(s=>s.id===e))==null?void 0:n.parentId;for(;i;){const s=t.find(o=>o.id===i);i=s==null?void 0:s.parentId,s&&(r=r.concat(s))}return r}function na(t,e){let n=t.filter(i=>{var s;return i.parentId===e&&((s=i.context)==null?void 0:s.open)}),r=n;for(;r.length;)r=t.filter(i=>{var s;return(s=r)==null?void 0:s.some(o=>{var a;return i.parentId===o.id&&((a=i.context)==null?void 0:a.open)})}),n=n.concat(r);return n}let ss=new WeakMap,au=new WeakSet,lu={},Sf=0;const yF=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,zR=t=>t&&(t.host||zR(t.parentNode)),vF=(t,e)=>e.map(n=>{if(t.contains(n))return n;const r=zR(n);return t.contains(r)?r:null}).filter(n=>n!=null);function _F(t,e,n,r){const i="data-floating-ui-inert",s=r?"inert":n?"aria-hidden":null,o=vF(e,t),a=new Set,l=new Set(o),u=[];lu[i]||(lu[i]=new WeakMap);const c=lu[i];o.forEach(h),f(e),a.clear();function h(p){!p||a.has(p)||(a.add(p),p.parentNode&&h(p.parentNode))}function f(p){!p||l.has(p)||Array.prototype.forEach.call(p.children,v=>{if(a.has(v))f(v);else{const _=s?v.getAttribute(s):null,x=_!==null&&_!=="false",y=(ss.get(v)||0)+1,g=(c.get(v)||0)+1;ss.set(v,y),c.set(v,g),u.push(v),y===1&&x&&au.add(v),g===1&&v.setAttribute(i,""),!x&&s&&v.setAttribute(s,"true")}})}return Sf++,()=>{u.forEach(p=>{const v=(ss.get(p)||0)-1,_=(c.get(p)||0)-1;ss.set(p,v),c.set(p,_),v||(!au.has(p)&&s&&p.removeAttribute(s),au.delete(p)),_||p.removeAttribute(i)}),Sf--,Sf||(ss=new WeakMap,ss=new WeakMap,au=new WeakSet,lu={})}}function S1(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=wn(t[0]).body;return _F(t.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,e,n)}const WR=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function HR(t,e){const n=UR(t,WR());e==="prev"&&n.reverse();const r=n.indexOf(ls(wn(t)));return n.slice(r+1)[0]}function wF(){return HR(document.body,"next")}function xF(){return HR(document.body,"prev")}function I1(t,e){const n=e||t.currentTarget,r=t.relatedTarget;return!r||!Lt(n,r)}const qR={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let EF;function R1(t){t.key==="Tab"&&(t.target,clearTimeout(EF))}const C1=m.forwardRef(function(e,n){const[r,i]=m.useState();Cr(()=>(U$()&&i("button"),document.addEventListener("keydown",R1),()=>{document.removeEventListener("keydown",R1)}),[]);const s={ref:n,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[Uc("focus-guard")]:"",style:qR};return m.createElement("span",Fc({},e,s))}),TF=m.createContext(null),SF=()=>m.useContext(TF),IF=m.forwardRef(function(e,n){return m.createElement("button",Fc({},e,{type:"button",ref:n,tabIndex:-1,style:qR}))});function Rl(t){const{context:e,children:n,disabled:r=!1,order:i=["content"],guards:s=!0,initialFocus:o=0,returnFocus:a=!0,modal:l=!0,visuallyHiddenDismiss:u=!1,closeOnFocusOut:c=!0}=t,{open:h,refs:f,nodeId:p,onOpenChange:v,events:_,dataRef:x,elements:{domReference:y,floating:g}}=e,w=yF()?s:!0,E=Tf(i),T=Tf(o),S=Tf(a),R=Xy(),I=SF(),L=typeof o=="number"&&o<0,C=m.useRef(null),N=m.useRef(null),G=m.useRef(!1),$=m.useRef(null),z=m.useRef(!1),te=I!=null,Q=y&&y.getAttribute("role")==="combobox"&&jR(y),ae=m.useCallback(function(A){return A===void 0&&(A=g),A?UR(A,WR()):[]},[g]),k=m.useCallback(A=>{const V=ae(A);return E.current.map(W=>y&&W==="reference"?y:g&&W==="floating"?g:V).filter(Boolean).flat()},[y,g,E,ae]);m.useEffect(()=>{if(r||!l)return;function A(W){if(W.key==="Tab"){Lt(g,ls(wn(g)))&&ae().length===0&&!Q&&xf(W);const q=k(),Pe=LR(W);E.current[0]==="reference"&&Pe===y&&(xf(W),W.shiftKey?si(q[q.length-1]):si(q[1])),E.current[1]==="floating"&&Pe===g&&W.shiftKey&&(xf(W),si(q[0]))}}const V=wn(g);return V.addEventListener("keydown",A),()=>{V.removeEventListener("keydown",A)}},[r,y,g,l,E,f,Q,ae,k]),m.useEffect(()=>{if(r||!c)return;function A(){z.current=!0,setTimeout(()=>{z.current=!1})}function V(W){const q=W.relatedTarget;queueMicrotask(()=>{const Pe=!(Lt(y,q)||Lt(g,q)||Lt(q,g)||Lt(I==null?void 0:I.portalNode,q)||q!=null&&q.hasAttribute(Uc("focus-guard"))||R&&(na(R.nodesRef.current,p).find(ce=>{var ie,jn;return Lt((ie=ce.context)==null?void 0:ie.elements.floating,q)||Lt((jn=ce.context)==null?void 0:jn.elements.domReference,q)})||gF(R.nodesRef.current,p).find(ce=>{var ie,jn;return((ie=ce.context)==null?void 0:ie.elements.floating)===q||((jn=ce.context)==null?void 0:jn.elements.domReference)===q})));q&&Pe&&!z.current&&q!==$.current&&(G.current=!0,v(!1,W))})}if(g&&Rt(y))return y.addEventListener("focusout",V),y.addEventListener("pointerdown",A),!l&&g.addEventListener("focusout",V),()=>{y.removeEventListener("focusout",V),y.removeEventListener("pointerdown",A),!l&&g.removeEventListener("focusout",V)}},[r,y,g,l,p,R,I,v,c]),m.useEffect(()=>{var A;if(r)return;const V=Array.from((I==null||(A=I.portalNode)==null?void 0:A.querySelectorAll("["+Uc("portal")+"]"))||[]);if(g){const W=[g,...V,C.current,N.current,E.current.includes("reference")||Q?y:null].filter(Pe=>Pe!=null),q=l?S1(W,w,!w):S1(W);return()=>{q()}}},[r,y,g,l,E,I,Q,w]),Cr(()=>{if(r||!g)return;const A=wn(g),V=ls(A);queueMicrotask(()=>{const W=k(g),q=T.current,Pe=(typeof q=="number"?W[q]:q.current)||g,ce=Lt(g,V);!L&&!ce&&h&&si(Pe,{preventScroll:Pe===g})})},[r,h,g,L,k,T]),Cr(()=>{if(r||!g)return;let A=!1;const V=wn(g),W=ls(V),q=x.current;$.current=W;function Pe(ce){if(ce.type==="escapeKey"&&f.domReference.current&&($.current=f.domReference.current),["referencePress","escapeKey"].includes(ce.type))return;const ie=ce.data.returnFocus;typeof ie=="object"?(G.current=!1,A=ie.preventScroll):G.current=!ie}return _.on("dismiss",Pe),()=>{_.off("dismiss",Pe);const ce=ls(V);(Lt(g,ce)||R&&na(R.nodesRef.current,p).some(jn=>{var ns;return Lt((ns=jn.context)==null?void 0:ns.elements.floating,ce)})||q.openEvent&&["click","mousedown"].includes(q.openEvent.type))&&f.domReference.current&&($.current=f.domReference.current),S.current&&Rt($.current)&&!G.current&&si($.current,{cancelPrevious:!1,preventScroll:A})}},[r,g,S,x,f,_,R,p]),Cr(()=>{if(!(r||!I))return I.setFocusManagerState({modal:l,closeOnFocusOut:c,open:h,onOpenChange:v,refs:f}),()=>{I.setFocusManagerState(null)}},[r,I,l,h,v,f,c]),Cr(()=>{if(!r&&g&&typeof MutationObserver=="function"){const A=()=>{const W=g.getAttribute("tabindex");E.current.includes("floating")||ls(wn(g))!==f.domReference.current&&ae().length===0?W!=="0"&&g.setAttribute("tabindex","0"):W!=="-1"&&g.setAttribute("tabindex","-1")};A();const V=new MutationObserver(A);return V.observe(g,{childList:!0,subtree:!0,attributes:!0}),()=>{V.disconnect()}}},[r,g,f,E,ae]);function O(A){return r||!u||!l?null:m.createElement(IF,{ref:A==="start"?C:N,onClick:V=>v(!1,V.nativeEvent)},typeof u=="string"?u:"Dismiss")}const M=!r&&w&&!Q&&(te||l);return m.createElement(m.Fragment,null,M&&m.createElement(C1,{"data-type":"inside",ref:I==null?void 0:I.beforeInsideRef,onFocus:A=>{if(l){const W=k();si(i[0]==="reference"?W[0]:W[W.length-1])}else if(I!=null&&I.preserveTabOrder&&I.portalNode)if(G.current=!1,I1(A,I.portalNode)){const W=wF()||y;W==null||W.focus()}else{var V;(V=I.beforeOutsideRef.current)==null||V.focus()}}}),!Q&&O("start"),n,O("end"),M&&m.createElement(C1,{"data-type":"inside",ref:I==null?void 0:I.afterInsideRef,onFocus:A=>{if(l)si(k()[0]);else if(I!=null&&I.preserveTabOrder&&I.portalNode)if(c&&(G.current=!0),I1(A,I.portalNode)){const W=xF()||y;W==null||W.focus()}else{var V;(V=I.afterOutsideRef.current)==null||V.focus()}}}))}function k1(t){return Rt(t.target)&&t.target.tagName==="BUTTON"}function A1(t){return jR(t)}function Cl(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,dataRef:i,elements:{domReference:s}}=t,{enabled:o=!0,event:a="click",toggle:l=!0,ignoreMouse:u=!1,keyboardHandlers:c=!0}=e,h=m.useRef(),f=m.useRef(!1);return m.useMemo(()=>o?{reference:{onPointerDown(p){h.current=p.pointerType},onMouseDown(p){p.button===0&&(_1(h.current,!0)&&u||a!=="click"&&(n&&l&&(!i.current.openEvent||i.current.openEvent.type==="mousedown")?r(!1,p.nativeEvent):(p.preventDefault(),r(!0,p.nativeEvent))))},onClick(p){if(a==="mousedown"&&h.current){h.current=void 0;return}_1(h.current,!0)&&u||(n&&l&&(!i.current.openEvent||i.current.openEvent.type==="click")?r(!1,p.nativeEvent):r(!0,p.nativeEvent))},onKeyDown(p){h.current=void 0,!(p.defaultPrevented||!c||k1(p))&&(p.key===" "&&!A1(s)&&(p.preventDefault(),f.current=!0),p.key==="Enter"&&r(!(n&&l),p.nativeEvent))},onKeyUp(p){p.defaultPrevented||!c||k1(p)||A1(s)||p.key===" "&&f.current&&(f.current=!1,r(!(n&&l),p.nativeEvent))}}}:{},[o,i,a,u,c,s,l,n,r])}const RF=wm["useInsertionEffect".toString()],CF=RF||(t=>t());function Pu(t){const e=m.useRef(()=>{});return CF(()=>{e.current=t}),m.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}const kF={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},AF={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},PF=t=>{var e,n;return{escapeKeyBubbles:typeof t=="boolean"?t:(e=t==null?void 0:t.escapeKey)!=null?e:!1,outsidePressBubbles:typeof t=="boolean"?t:(n=t==null?void 0:t.outsidePress)!=null?n:!0}};function kl(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,events:i,nodeId:s,elements:{reference:o,domReference:a,floating:l},dataRef:u}=t,{enabled:c=!0,escapeKey:h=!0,outsidePress:f=!0,outsidePressEvent:p="pointerdown",referencePress:v=!1,referencePressEvent:_="pointerdown",ancestorScroll:x=!1,bubbles:y}=e,g=Xy(),w=mF()!=null,E=Pu(typeof f=="function"?f:()=>!1),T=typeof f=="function"?E:f,S=m.useRef(!1),{escapeKeyBubbles:R,outsidePressBubbles:I}=PF(y),L=Pu(N=>{if(!n||!c||!h||N.key!=="Escape")return;const G=g?na(g.nodesRef.current,s):[];if(!R&&(N.stopPropagation(),G.length>0)){let $=!0;if(G.forEach(z=>{var te;if((te=z.context)!=null&&te.open&&!z.context.dataRef.current.__escapeKeyBubbles){$=!1;return}}),!$)return}i.emit("dismiss",{type:"escapeKey",data:{returnFocus:{preventScroll:!1}}}),r(!1,B$(N)?N.nativeEvent:N)}),C=Pu(N=>{const G=S.current;if(S.current=!1,G||typeof T=="function"&&!T(N))return;const $=LR(N),z="["+Uc("inert")+"]",te=wn(l).querySelectorAll(z);let Q=Be($)?$:null;for(;Q&&!Sl(Q);){const O=zi(Q);if(O===wn(l).body||!Be(O))break;Q=O}if(te.length&&Be($)&&!z$($)&&!Lt($,l)&&Array.from(te).every(O=>!Lt(Q,O)))return;if(Rt($)&&l){const O=$.clientWidth>0&&$.scrollWidth>$.clientWidth,M=$.clientHeight>0&&$.scrollHeight>$.clientHeight;let A=M&&N.offsetX>$.clientWidth;if(M&&Wt($).direction==="rtl"&&(A=N.offsetX<=$.offsetWidth-$.clientWidth),A||O&&N.offsetY>$.clientHeight)return}const ae=g&&na(g.nodesRef.current,s).some(O=>{var M;return wf(N,(M=O.context)==null?void 0:M.elements.floating)});if(wf(N,l)||wf(N,a)||ae)return;const k=g?na(g.nodesRef.current,s):[];if(k.length>0){let O=!0;if(k.forEach(M=>{var A;if((A=M.context)!=null&&A.open&&!M.context.dataRef.current.__outsidePressBubbles){O=!1;return}}),!O)return}i.emit("dismiss",{type:"outsidePress",data:{returnFocus:w?{preventScroll:!0}:$$(N)||F$(N)}}),r(!1,N)});return m.useEffect(()=>{if(!n||!c)return;u.current.__escapeKeyBubbles=R,u.current.__outsidePressBubbles=I;function N(z){r(!1,z)}const G=wn(l);h&&G.addEventListener("keydown",L),T&&G.addEventListener(p,C);let $=[];return x&&(Be(a)&&($=Ii(a)),Be(l)&&($=$.concat(Ii(l))),!Be(o)&&o&&o.contextElement&&($=$.concat(Ii(o.contextElement)))),$=$.filter(z=>{var te;return z!==((te=G.defaultView)==null?void 0:te.visualViewport)}),$.forEach(z=>{z.addEventListener("scroll",N,{passive:!0})}),()=>{h&&G.removeEventListener("keydown",L),T&&G.removeEventListener(p,C),$.forEach(z=>{z.removeEventListener("scroll",N)})}},[u,l,a,o,h,T,p,n,r,x,c,R,I,L,C]),m.useEffect(()=>{S.current=!1},[T,p]),m.useMemo(()=>c?{reference:{onKeyDown:L,[kF[_]]:N=>{v&&(i.emit("dismiss",{type:"referencePress",data:{returnFocus:!1}}),r(!1,N.nativeEvent))}},floating:{onKeyDown:L,[AF[p]]:()=>{S.current=!0}}}:{},[c,i,v,p,_,r,L])}function Al(t){var e;t===void 0&&(t={});const{open:n=!1,onOpenChange:r,nodeId:i}=t,[s,o]=m.useState(null),a=((e=t.elements)==null?void 0:e.reference)||s,l=j$(t),u=Xy(),c=Pu((E,T)=>{E&&(f.current.openEvent=T),r==null||r(E,T)}),h=m.useRef(null),f=m.useRef({}),p=m.useState(()=>hF())[0],v=BR(),_=m.useCallback(E=>{const T=Be(E)?{getBoundingClientRect:()=>E.getBoundingClientRect(),contextElement:E}:E;l.refs.setReference(T)},[l.refs]),x=m.useCallback(E=>{(Be(E)||E===null)&&(h.current=E,o(E)),(Be(l.refs.reference.current)||l.refs.reference.current===null||E!==null&&!Be(E))&&l.refs.setReference(E)},[l.refs]),y=m.useMemo(()=>({...l.refs,setReference:x,setPositionReference:_,domReference:h}),[l.refs,x,_]),g=m.useMemo(()=>({...l.elements,domReference:a}),[l.elements,a]),w=m.useMemo(()=>({...l,refs:y,elements:g,dataRef:f,nodeId:i,floatingId:v,events:p,open:n,onOpenChange:c}),[l,i,v,p,n,c,y,g]);return Cr(()=>{const E=u==null?void 0:u.nodesRef.current.find(T=>T.id===i);E&&(E.context=w)}),m.useMemo(()=>({...l,context:w,refs:y,elements:g}),[l,y,g,w])}function If(t,e,n){const r=new Map;return{...n==="floating"&&{tabIndex:-1},...t,...e.map(i=>i?i[n]:null).concat(t).reduce((i,s)=>(s&&Object.entries(s).forEach(o=>{let[a,l]=o;if(a.indexOf("on")===0){if(r.has(a)||r.set(a,[]),typeof l=="function"){var u;(u=r.get(a))==null||u.push(l),i[a]=function(){for(var c,h=arguments.length,f=new Array(h),p=0;p<h;p++)f[p]=arguments[p];return(c=r.get(a))==null?void 0:c.map(v=>v(...f)).find(v=>v!==void 0)}}}else i[a]=l}),i),{})}}function Pl(t){t===void 0&&(t=[]);const e=t,n=m.useCallback(s=>If(s,t,"reference"),e),r=m.useCallback(s=>If(s,t,"floating"),e),i=m.useCallback(s=>If(s,t,"item"),t.map(s=>s==null?void 0:s.item));return m.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:i}),[n,r,i])}function KR(t,e){e===void 0&&(e={});const{open:n,floatingId:r}=t,{enabled:i=!0,role:s="dialog"}=e,o=BR();return m.useMemo(()=>{const a={id:r,role:s};return i?s==="tooltip"?{reference:{"aria-describedby":n?r:void 0},floating:a}:{reference:{"aria-expanded":n?"true":"false","aria-haspopup":s==="alertdialog"?"dialog":s,"aria-controls":n?r:void 0,...s==="listbox"&&{role:"combobox"},...s==="menu"&&{id:o}},floating:{...a,...s==="menu"&&{"aria-labelledby":o}}}:{}},[i,s,n,r,o])}function Hi({children:t,theme:e,classNames:n}){return d.jsx("div",{className:`flex flex-col gap-[15px] rounded  px-[20px] py-[10px] ${e.type==="light"?"text-[#333]":"text-white"} ${e.side_bar_bg} border-[1px] border-${e.alpha} ${n}`,children:t})}const ts=({children:t,setOpenModal:e})=>d.jsx(d.Fragment,{children:od.createPortal(d.jsxs("div",{className:"fixed inset-0 z-[99]",children:[d.jsx("div",{onClick:n=>{n.stopPropagation,e(!1)},className:"absolute bg-black opacity-60 inset-0 z-[90]"}),d.jsx("div",{className:"absolute z-[99] top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",children:t})]}),document.getElementById("portals"))});function qa({data:t,active:e,autoScroll:n,onClick:r,theme:i,inProcess:s,inList:o}){const[a,l]=m.useState(!1),[u,c]=m.useState(!1),[h,f]=m.useState({name:t.name,singer:t.singer,image_path:t.image_path}),[p,v]=m.useState(),[_,x]=m.useState(!1),y=m.useRef(null),{refs:g,floatingStyles:w,context:E}=Al({open:a,onOpenChange:l,middleware:[SR()],whileElementsMounted:Il}),T=Cl(E),S=kl(E),{getReferenceProps:R,getFloatingProps:I}=Pl([T,S]),L=(k,O)=>{f({...h,[k]:O})},C=k=>{v(k),c(!0)},N=async k=>{(t.name!=h.name||t.singer!=h.singer||t.image_path!=h.image_path)&&(x(!0),await Rr(Ge(we,"songs",k),h,{merge:!0}),x(!1),c(!1))},G=async()=>{try{x(!0);const k=yR(vR,t.file_name);await JV(k),await lm(Ge(we,"songs",t.id)),t.lyric_id&&await lm(Ge(we,"lyrics",t.lyric_id))}catch(k){console.log({message:k})}finally{x(!1),window.location.reload()}};m.useEffect(()=>{n&&console.log("scroll")},[e]);const $="h-[35px] w-[35px] p-[8px] rounded-full",z=`px-[10px] py-[5px] rounded-[4px] bg-transparent border border-${i.alpha} ${i.type==="light"?"text-[#333]":"text-[#fff]"} text-[14px] font-[500]`,te=d.jsx(d.Fragment,{children:d.jsxs("div",{className:`flex flex-row ${s?"opacity-60":""}`,children:[d.jsxs("div",{className:"h-[54px] w-[54px] relative rounded-[4px] overflow-hidden group/image flex-shrink-0",children:[d.jsx("img",{className:"",src:(t==null?void 0:t.image_path)||"https://placehold.co/100",alt:""}),e&&!s&&!o&&d.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-60 flex songContainers-center items-center justify-center",children:d.jsx("div",{className:"relative h-[18px] w-[18px]",children:d.jsx("img",{src:"https://zmp3-static.zmdcdn.me/skins/zmp3-v6.1/images/icons/icon-playing.gif",alt:""})})}),!e&&!s&&d.jsx("div",{className:`absolute  inset-0 bg-black bg-opacity-60 
    songContainers-center justify-center items-center hidden max-[549px]:hidden group-hover/image:flex`,children:d.jsx(H,{onClick:r,variant:"default",className:"h-[25px] w-[25px] text-white",children:d.jsx(Ws,{})})})]}),d.jsxs("div",{className:"ml-[10px]",children:[d.jsx("h5",{className:"text-mg line-clamp-1",children:t.name}),d.jsx("p",{className:"text-xs text-gray-500 line-clamp-1",children:t.singer})]})]})}),Q=d.jsxs("div",{className:"w-[50vw] h-[auto]",children:[d.jsx("input",{id:"editImageInput",type:"file",className:"hidden"}),d.jsx("h1",{className:"text-[20px] font-semibold",children:"Chỉnh sửa"}),d.jsxs("div",{className:"flex mt-[10px]",children:[d.jsxs("div",{children:[d.jsx("div",{className:"w-[130px] h-[130px] flex-shrink-0 rounded-[5px]",children:d.jsx("img",{className:"w-[100%] object-cover object-center rounded-[5px]",src:h.image_path||t.image_path||"https://placehold.co/200",alt:"adsfkl"})}),d.jsx("label",{htmlFor:"editImageInput",className:`inline-block mt-[10px] cursor-pointer hover:brightness-90 px-[20px] py-[5px] bg-${i.alpha} rounded-full text-[14px]`,children:d.jsx(GA,{className:"w-[15px]"})})]}),d.jsxs("div",{className:"ml-[20px] w-full flex flex-col gap-[10px]",children:[d.jsxs("div",{className:"flex flex-col gap-[5px]",children:[d.jsx("p",{className:"text-[14px]",children:"Tên: "}),d.jsx("input",{className:z,value:h.name,type:"text",onChange:k=>L("name",k.target.value)})]}),d.jsxs("div",{className:"flex flex-col gap-[5px]",children:[d.jsx("p",{className:"text-[14px]",children:"Thể hiện: "}),d.jsx("input",{className:z,value:h.singer,onChange:k=>L("singer",k.target.value),type:"text"})]}),d.jsxs("div",{className:"flex flex-col gap-[5px]",children:[d.jsx("p",{className:"text-[14px]",children:"Url ảnh: "}),d.jsx("input",{className:z,value:h.image_path,onChange:k=>L("image_path",k.target.value),type:"text"})]}),d.jsxs("div",{className:"flex gap-[10px] mt-[10px]",children:[d.jsx(H,{isLoading:_,onClick:()=>N(t.id),className:`bg-${i.alpha} rounded-full text-[14px]`,variant:"primary",children:"Lưu"}),d.jsx(H,{onClick:k=>{k.stopPropagation(),c(!1)},className:`${i.content_bg} rounded-full text-[14px]`,variant:"primary",children:"Đóng"})]})]})]})]}),ae=m.useMemo(()=>d.jsx(d.Fragment,{children:d.jsxs("div",{className:"w-[30vw]",children:[d.jsx("h1",{className:"text-[20px] font-semibold",children:"Chắc chưa ?"}),d.jsx("p",{className:"text-[red]",children:"This action cannot be undone"}),d.jsxs("div",{className:"flex gap-[10px] mt-[20px]",children:[d.jsx(H,{isLoading:_,className:`${i.content_bg} rounded-full text-[14px]`,variant:"primary",onClick:G,children:"Xóa mẹ nó đi !"}),d.jsx(H,{onClick:()=>c(!1),className:`bg-${i.alpha} rounded-full text-[14px]`,variant:"primary",children:"Khoan từ từ"})]})]})}),[_,i]);return d.jsxs("div",{ref:y,onClick:()=>(window.innerWidth<=549||o)&&r&&r(),className:`group/main flex flex-row rounded justify-between songContainers-center px-[10px] py-[10px] max-[549px]:px-[0px] ${window.innerWidth>549&&"p-[0px] hover:bg-"+i.alpha}  ${o&&e&&"bg-"+i.alpha}`,children:[te,!o&&d.jsx(d.Fragment,{children:s?d.jsxs("div",{className:"flex",children:[d.jsx("span",{children:d.jsx(iE,{className:"w-[20px] mr-[10px] animate-spin"})}),d.jsx("p",{className:"text-[14px]",children:"In process..."})]}):d.jsx(d.Fragment,{children:d.jsxs("div",{className:"flex flex-row items-center gap-x-[5px]",children:[d.jsx(H,{className:`${$} ${i.content_hover_bg} ${i.type==="light"?"hover:text-[#33]":"hover:text-white"}`,children:d.jsx(lE,{})}),d.jsxs("div",{className:"w-[40px] flex justify-center songContainers-center",children:[d.jsx("button",{ref:g.setReference,...R(),className:`group-hover/main:block ${$}
            ${a?"block cursor-default":"hidden "+i.content_hover_bg}
            ${i.type==="light"?"hover:text-[#33]":"hover:text-white"}
            max-[549px]:block
            `,children:d.jsx(pg,{})}),d.jsx("span",{className:`pr-[8px] text-xs group-hover/main:hidden ${a&&"hidden"} max-[549px]:hidden`,children:Nc(t.duration)})]})]})})}),a&&!s&&d.jsx(Rl,{context:E,modal:!1,children:d.jsx("div",{className:"z-[99]",ref:g.setFloating,style:w,...I(),children:d.jsx(Hi,{theme:i,children:d.jsxs("div",{className:"w-[200px]",children:[window.innerWidth>549&&te,d.jsxs(H,{className:`mt-[15px] ${i.content_hover_text}`,variant:"list",children:[d.jsx(Sa,{className:"w-[18px] mr-[5px]"}),"Thêm vào playlist"]}),t.by!="admin"&&d.jsxs(d.Fragment,{children:[d.jsxs(H,{onClick:()=>C("edit"),className:`${i.content_hover_text}`,variant:"list",children:[d.jsx(Ta,{className:"w-[18px] mr-[5px]"}),"Chỉnh Sửa"]}),t.lyric_id?d.jsxs(H,{className:`${i.content_hover_text}`,variant:"list",onClick:()=>C("edit"),children:[d.jsx(yP,{className:"w-[18px] mr-[5px]"}),"Chỉnh sủa lời bài hát"]}):d.jsx(Ea,{to:`/React-Zingmp3/edit/${t.id}`,children:d.jsxs(H,{className:`${i.content_hover_text}`,variant:"list",children:[d.jsx(wP,{className:"w-[18px] mr-[5px]"}),"Thêm lời bài hát"]})}),d.jsxs(H,{onClick:()=>C("confirm"),className:`${i.content_hover_text}`,variant:"list",children:[d.jsx(mg,{className:"w-[18px] mr-[5px]"}),"Xóa"]})]}),d.jsxs("p",{className:"opacity-60 text-center text-[13px] mt-[10px",children:["Thêm bởi ",t.by]})]})})})}),u&&!s&&d.jsx(ts,{setOpenModal:c,children:d.jsxs(Hi,{theme:i,children:[p==="edit"&&Q,p==="confirm"&&ae]})})]})}function P1({className:t,icon:e,label:n,to:r,arrowIcon:i}){return d.jsxs(Ea,{className:"w-full flex flex-row justify-between items-center "+t,to:r,children:[d.jsxs(H,{className:"",children:[e,d.jsx("span",{className:"text-lg font-medium",children:n})]}),i&&d.jsx("span",{children:i})]})}function NF(){const t=Qi(),[e]=OT(Dn),{theme:n}=wt(),{songs:r,setSongs:i}=uo(),[s]=Yi(Dn),o=lr(ur),a=sr(we,"songs"),l=Vi(a,$i("by","==","admin")),u=(p,v)=>{o.song.id!==p.id&&t(qn({...p,currentIndex:v}))},c=window.innerWidth,h="w-6 h-6 mr-2 inline",f=()=>{e()};return m.useEffect(()=>{const p=async()=>{var v;try{const _=await Ui(l);if(_){const x=(v=_.docs)==null?void 0:v.map(y=>({...y.data(),id:y.id}));x&&i(x)}}catch(_){console.log({message:_})}};r.length||p()},[]),d.jsxs(d.Fragment,{children:[c<=549&&d.jsx("div",{className:"pb-[20px]",children:d.jsxs("div",{className:"flex flex-col gap-3 items-start ",children:[d.jsx("h1",{className:"text-[24px] font-bold",children:"Library"}),s?d.jsxs(d.Fragment,{children:[d.jsx(P1,{className:"py-[10px] border-b border-[#333]",to:ct.playlist,icon:d.jsx(hP,{className:h+n.content_text}),label:"Playlist",arrowIcon:d.jsx(Sp,{className:"w-5 h-5 text-gray-500"})}),d.jsx(P1,{className:"py-[10px] border-b border-[#333]",to:ct.allSong,icon:d.jsx(uE,{className:h+n.content_text}),label:"All songs",arrowIcon:d.jsx(Sp,{className:"w-5 h-5 text-gray-500"})})]}):d.jsx(H,{onClick:f,className:`${n.content_bg} rounded-[4px] px-[40px]`,variant:"primary",children:"Login"})]})}),d.jsxs("div",{className:"pb-[30px]",children:[d.jsx("h3",{className:"text-[24px] font-bold mb-[10px]",children:"Popular"}),r.length?d.jsx(d.Fragment,{children:d.jsx("div",{className:"flex flex-row flex-wrap gap-[4px] min-[550px]:-mx-[10px]",children:r.map((p,v)=>d.jsx("div",{className:"w-full max-[549px]:w-full",children:d.jsx(qa,{theme:n,data:p,active:o.song.id===p.id,onClick:()=>u(p,v)})},v))})}):"No songs jet..."]})]})}const bF=t=>{const e=s=>(s=s.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ/g,"a"),s=s.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g,"e"),s=s.replace(/ì|í|ị|ỉ|ĩ/g,"i"),s=s.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ/g,"o"),s=s.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g,"u"),s=s.replace(/ỳ|ý|ỵ|ỷ|ỹ/g,"y"),s=s.replace(/đ/g,"d"),s),n=e(t.name),r=e(t.singer);return(n.replaceAll(/[\W_]/g,"")+"_"+r.replaceAll(/[\W_]/g,"")).toLocaleLowerCase()};var no={},Yy={},gh={};Object.defineProperty(gh,"__esModule",{value:!0});gh.default=["Blues","Classic Rock","Country","Dance","Disco","Funk","Grunge","Hip-Hop","Jazz","Metal","New Age","Oldies","Other","Pop","R&B","Rap","Reggae","Rock","Techno","Industrial","Alternative","Ska","Death Metal","Pranks","Soundtrack","Euro-Techno","Ambient","Trip-Hop","Vocal","Jazz+Funk","Fusion","Trance","Classical","Instrumental","Acid","House","Game","Sound Clip","Gospel","Noise","AlternRock","Bass","Soul","Punk","Space","Meditative","Instrumental Pop","Instrumental Rock","Ethnic","Gothic","Darkwave","Techno-Industrial","Electronic","Pop-Folk","Eurodance","Dream","Southern Rock","Comedy","Cult","Gangsta Rap","Top 40","Christian Rap","Pop / Funk","Jungle","Native American","Cabaret","New Wave","Psychedelic","Rave","Showtunes","Trailer","Lo-Fi","Tribal","Acid Punk","Acid Jazz","Polka","Retro","Musical","Rock & Roll","Hard Rock","Folk","Folk-Rock","National Folk","Swing","Fast  Fusion","Bebob","Latin","Revival","Celtic","Bluegrass","Avantgarde","Gothic Rock","Progressive Rock","Psychedelic Rock","Symphonic Rock","Slow Rock","Big Band","Chorus","Easy Listening","Acoustic","Humour","Speech","Chanson","Opera","Chamber Music","Sonata","Symphony","Booty Bass","Primus","Porn Groove","Satire","Slow Jam","Club","Tango","Samba","Folklore","Ballad","Power Ballad","Rhythmic Soul","Freestyle","Duet","Punk Rock","Drum Solo","A Cappella","Euro-House","Dance Hall","Goa","Drum & Bass","Club-House","Hardcore","Terror","Indie","BritPop","Negerpunk","Polsk Punk","Beat","Christian Gangsta Rap","Heavy Metal","Black Metal","Crossover","Contemporary Christian","Christian Rock","Merengue","Salsa","Thrash Metal","Anime","JPop","Synthpop","Rock/Pop"];var Tt={};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.skipPaddingZeros=Tt.getEndpointOfBytes=Tt.readBytesToString=Tt.readBytesToISO8859=Tt.readBytesToUTF16=Tt.readBytesToUTF8=void 0;const vi=String.fromCharCode;function GR(t,e){e==null||e<0?e=t.length:e=Math.min(e,t.length);let n=0;t[0]===239&&t[1]===187&&t[2]===191&&(n=3);const r=[];for(let i=0;n<e;i++){const s=t[n++];let o,a,l,u;if(s===0)break;s<128?r[i]=vi(s):s>=194&&s<224?(o=t[n++],r[i]=vi(((s&31)<<6)+(o&63))):s>=224&&s<240?(o=t[n++],a=t[n++],r[i]=vi(((s&15)<<12)+((o&63)<<6)+(a&63))):s>=240&&s<245&&(o=t[n++],a=t[n++],l=t[n++],u=((s&7)<<18)+((o&63)<<12)+((a&63)<<6)+(l&63)-65536,r[i]=vi((u>>10)+55296,(u&1023)+56320))}return r.join("")}Tt.readBytesToUTF8=GR;function QR(t,e,n){n==null||n<0?n=t.length:n=Math.min(n,t.length);let r=0,i=1,s=0;t[0]===254&&t[1]===255?(e=!0,r=2):t[0]===255&&t[1]===254&&(e=!1,r=2),e&&(i=0,s=1);const o=[];let a,l,u,c,h,f;for(let p=0;r<n&&(a=t[r+i],l=t[r+s],u=(a<<8)+l,r+=2,u!==0);p++)a<216||a>=224?o[p]=vi(u):(h=t[r+i],f=t[r+s],c=(h<<8)+f,r+=2,o[p]=vi(u,c));return o.join("")}Tt.readBytesToUTF16=QR;function XR(t,e){e==null||e<0?e=t.length:e=Math.min(e,t.length);const n=[];for(let r=0;r<e;r++)n.push(vi(t[r]));return n.join("")}Tt.readBytesToISO8859=XR;function OF(t,e,n){return e===0?XR(t,n):e===3?GR(t,n):e===1||e===2?QR(t,void 0,n):null}Tt.readBytesToString=OF;function DF(t,e,n=0){const r=e===0?s=>t[s]===0:s=>t[s]===0&&t[s+1]===0;let i=n;for(;i<t.length&&!r(i);i++);return i}Tt.getEndpointOfBytes=DF;function LF(t,e){for(let n=e;t[n]===0;n++)e++;return e}Tt.skipPaddingZeros=LF;Object.defineProperty(Yy,"__esModule",{value:!0});const jF=gh,oi=Tt,N1=128;function MF(t){if(!t||t.length<N1)return!1;t=t.slice(t.length-N1);const e={version:{major:1,minor:0}};if((0,oi.readBytesToUTF8)(t,3)!=="TAG")return!1;const r=/(^[\s0]+|[\s0]+$)/;return e.title=(0,oi.readBytesToUTF8)(t.slice(3),30).replace(r,""),e.artist=(0,oi.readBytesToUTF8)(t.slice(33),30).replace(r,""),e.album=(0,oi.readBytesToUTF8)(t.slice(63),30).replace(r,""),e.year=(0,oi.readBytesToUTF8)(t.slice(93),4).replace(r,""),t[125]===0?(e.comments=(0,oi.readBytesToUTF8)(t.slice(97),28).replace(r,""),e.version.minor=1,e.track=t[126]):e.comments=(0,oi.readBytesToUTF8)(t.slice(97),30).replace(r,""),e.genre=jF.default[t[127]]||"",e}Yy.default=MF;var qi={},Nl={};Object.defineProperty(Nl,"__esModule",{value:!0});Nl.FrameTypeValueMap=void 0;const VF={TALB:"album",TBPM:"bpm",TCOM:"composer",TCON:"genre",TCOP:"copyright",TDEN:"encoding-time",TDLY:"playlist-delay",TDOR:"original-release-time",TDRC:"recording-time",TDRL:"release-time",TDTG:"tagging-time",TENC:"encoder",TEXT:"writer",TFLT:"file-type",TIPL:"involved-people",TIT1:"content-group",TIT2:"title",TIT3:"subtitle",TKEY:"initial-key",TLAN:"language",TLEN:"length",TMCL:"credits",TMED:"media-type",TMOO:"mood",TOAL:"original-album",TOFN:"original-filename",TOLY:"original-writer",TOPE:"original-artist",TOWN:"owner",TPE1:"artist",TPE2:"band",TPE3:"conductor",TPE4:"remixer",TPOS:"set-part",TPRO:"produced-notice",TPUB:"publisher",TRCK:"track",TRSN:"radio-name",TRSO:"radio-owner",TSOA:"album-sort",TSOP:"performer-sort",TSOT:"title-sort",TSRC:"isrc",TSSE:"encoder-settings",TSST:"set-subtitle",TXXX:"user-defined-text-information",TYER:"year",WCOM:"url-commercial",WCOP:"url-legal",WOAF:"url-file",WOAR:"url-artist",WOAS:"url-source",WORS:"url-radio",WPAY:"url-payment",WPUB:"url-publisher",WAF:"url-file",WAR:"url-artist",WAS:"url-source",WCM:"url-commercial",WCP:"url-copyright",WPB:"url-publisher",COMM:"comments",USLT:"lyrics",APIC:"image",PIC:"image",IPLS:"involved-people-list",OWNE:"ownership"};Nl.default=VF;Nl.FrameTypeValueMap={TXXX:"array",COMM:"array",USLT:"array"};var Jy={};Object.defineProperty(Jy,"__esModule",{value:!0});Jy.default=["other","file-icon","icon","cover-front","cover-back","leaflet","media","artist-lead","artist","conductor","band","composer","lyricist-writer","recording-location","during-recording","during-performance","screen","fish","illustration","logo-band","logo-publisher"];Object.defineProperty(qi,"__esModule",{value:!0});qi.calcFrameSize=qi.calcTagSize=void 0;const hm=Nl,b1=gh,$F=Jy,Ie=Tt,FF=20;function UF(t){if(!t||t.length<FF)return!1;const e=BF(t.slice(0,10));if(!e)return!1;const n=e.version.flags;if(n.unsync)throw new Error("no support for unsynchronisation");let r=10;n.xheader&&(r+=fm(t.slice(10,14)));const i=fm(t.slice(6,10));return zF(t.slice(r,i+r),e),e}qi.default=UF;function BF(t){if(!t||t.length<10||(0,Ie.readBytesToUTF8)(t,3)!=="ID3")return!1;const n=t[5];return{version:{major:2,minor:t[3],revision:t[4],flags:{unsync:(n&128)!==0,xheader:(n&64)!==0,experimental:(n&32)!==0}}}}function fm(t){return(t[0]&127)*2097152+(t[1]&127)*16384+(t[2]&127)*128+(t[3]&127)}qi.calcTagSize=fm;function YR(t){return t.length<4?0:t[0]*16777216+t[1]*65536+t[2]*256+t[3]}qi.calcFrameSize=YR;function zF(t,e){let n=0;const r=e.version;for(;n<t.length;){const i=YR(t.slice(n+4));if(i===0)break;const s=t.slice(n,n+10+i);if(!s.length)break;const o=WF(s,r.minor,i);o.tag&&(hm.FrameTypeValueMap[o.id]==="array"?e[o.tag]?e[o.tag].push(o.value):e[o.tag]=[o.value]:e[o.tag]=o.value),n+=s.length}}function WF(t,e,n){const r={id:null,tag:null,value:null},i={id:(0,Ie.readBytesToUTF8)(t,4),type:null,size:n,flags:[t[8],t[9]]};if(i.type=i.id[0],r.id=i.id,i.flags[1]!==0||!(i.id in hm.default))return r;r.tag=hm.default[i.id];let s=0,o=0,a=0,l=0;if(i.type==="T"){if(s=t[10],i.id==="TXXX"){o=11,a=(0,Ie.getEndpointOfBytes)(t,s,o)-o;const u={description:(0,Ie.readBytesToString)(t.slice(o),s,a),value:""};o+=a+1,o=(0,Ie.skipPaddingZeros)(t,o),u.value=(0,Ie.readBytesToString)(t.slice(o),s),r.value=u}else if(r.value=(0,Ie.readBytesToString)(t.slice(11),s),i.id==="TCON"&&r.value!==null)if(r.value[0]==="("){const u=r.value.match(/\(\d+\)/g);u&&(r.value=u.map(c=>b1.default[+c.slice(1,-1)]).join(","))}else{const u=parseInt(r.value,10);isNaN(u)||(r.value=b1.default[u])}}else if(i.type==="W")i.id==="WXXX"&&t[10]===0?r.value=(0,Ie.readBytesToISO8859)(t.slice(11)):r.value=(0,Ie.readBytesToISO8859)(t.slice(10));else if(i.id==="COMM"||i.id==="USLT"){s=t[10],o=14,a=0;const u=(0,Ie.readBytesToISO8859)(t.slice(11),3);a=(0,Ie.getEndpointOfBytes)(t,s,o)-o;const c=(0,Ie.readBytesToString)(t.slice(o),s,a);o=(0,Ie.skipPaddingZeros)(t,o+a+1),r.value={language:u,description:c,value:(0,Ie.readBytesToString)(t.slice(o),s)}}else if(i.id==="APIC"){s=t[10];const u={type:null,mime:null,description:null,data:null};for(o=11,a=(0,Ie.getEndpointOfBytes)(t,0,o)-o,u.mime=(0,Ie.readBytesToString)(t.slice(o),0,a),u.type=$F.default[t[o+a+1]]||"other",o+=a+2,a=0,l=o;;l++)if(t[l]===0){a=l-o;break}u.description=a===0?null:(0,Ie.readBytesToString)(t.slice(o),s,a),o=(0,Ie.skipPaddingZeros)(t,o+a+1),u.data=t.slice(o),r.value=u}else if(i.id==="IPLS")s=t[10],r.value=(0,Ie.readBytesToString)(t.slice(11),s);else if(i.id==="OWNE"){s=t[10],o=11,a=(0,Ie.getEndpointOfBytes)(t,s,o);const u=(0,Ie.readBytesToISO8859)(t.slice(o),a);o+=a+1;const c=(0,Ie.readBytesToISO8859)(t.slice(o),8);o+=8,r.value={pricePayed:u,dateOfPurch:c,seller:(0,Ie.readBytesToString)(t.slice(o),s)}}return r}var O1=ev&&ev.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};Object.defineProperty(no,"__esModule",{value:!0});no.parseV2Tag=no.parseV1Tag=void 0;const JR=Yy;no.parseV1Tag=JR.default;const ZR=qi;no.parseV2Tag=ZR.default;function HF(t){const e=(0,JR.default)(t),n=(0,ZR.default)(t);if(!n&&!e)return!1;const r={version:!1},i=n||r,{version:s}=i,o=O1(i,["version"]),a=e||r,{version:l}=a,u=O1(a,["version"]),c=Object.assign(Object.assign({version:{v1:l,v2:s}},u),o);return u.comments&&(c.comments=[{value:u.comments},...o&&o.comments?o.comments:[]]),c}var qF=no.default=HF,Ka={};Object.defineProperty(Ka,"__esModule",{value:!0});Ka.fetchFileAsBuffer=e2=Ka.convertFileToBuffer=void 0;function KF(t){const e=new FileReader;return new Promise((n,r)=>{e.onload=()=>{n(new Uint8Array(e.result))},e.onerror=i=>r(i),e.readAsArrayBuffer(t)})}var e2=Ka.convertFileToBuffer=KF;function GF(t){if(!t)throw new Error("Argument should be a valid url string.");return new Promise((e,n)=>{const r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=()=>{r.response?e(new Uint8Array(r.response)):n(new Error("Empty XMLHttpRequest response."))},r.onerror=i=>n(i),r.send()})}Ka.fetchFileAsBuffer=GF;const QF=async t=>{if(!t)return;const e=await e2(t).then(qF);if(!e)return;const{title:n,artist:r,lyrics:i}=e,s={name:"",singer:"",lyric:""};if(!(!n||!r)){if(s.name=n,s.singer=r,i!=null&&i.length){const o=i[0].value;o?o.includes("image/jpeg")?s.lyric="":s.lyric=o:s.lyric=""}return s}},t2=({data:t,inDetail:e,song:n,theme:r,onClick:i})=>{const s={button:`rounded-full p-[4px] hover:bg-${r.alpha}`};return d.jsxs("div",{className:"group",children:[d.jsxs("div",{className:"relative overflow-hidden rounded-xl",children:[d.jsx("img",{className:"transition group-hover:scale-105",src:(n==null?void 0:n.image_path)||"https://placehold.co/400x400",alt:""}),d.jsxs("div",{className:"absolute hidden inset-0 group-hover:block",children:[d.jsx("div",{className:"absolute inset-0 bg-black opacity-60"}),d.jsxs("div",{className:"flex flex-row justify-center items-center h-full gap-4 relative z-10",children:[!e&&d.jsx(H,{className:s.button,children:d.jsx(cd,{className:"w-[30px]"})}),e?d.jsx(H,{onClick:()=>i&&i(),className:s.button,children:d.jsx(Ws,{className:"w-[35px]"})}):d.jsx(Ea,{to:`${ct.playlist}/${t.name}`,children:d.jsx(H,{className:s.button,children:d.jsx(Ws,{className:"w-[35px]"})})}),!e&&d.jsx(H,{className:s.button,children:d.jsx(pg,{className:"w-[30px] text-white"})})]})]})]}),!e&&d.jsx("h5",{className:"text-[20px] mt-[5px]",children:t.name})]})};function n2(){const t=sr(we,"users"),e=sr(we,"songs"),[n]=Yi(Dn),[r,i]=m.useState([]),[s,o]=m.useState([]),a=async()=>{var l;try{const u=Ge(t,n==null?void 0:n.email),c=await Fi(u),h=c.data();if(c.exists()&&h!=null&&h.songs.length){const f=Vi(e,$i("by","==",n==null?void 0:n.email)),v=(l=(await Ui(f)).docs)==null?void 0:l.map(_=>({..._.data(),id:_.id}));i(v),o(h.playlist)}}catch(u){console.log({message:u})}};return m.useEffect(()=>{a()},[]),{userSongs:r,userPlaylistIds:s,setUserPlaylistIds:o}}function XF(){const{songs:t,setSongs:e}=uo(),n=async()=>{var r;try{const i=Vi(sr(we,"songs"),$i("by","==","admin")),s=await Ui(i);if(s){const o=(r=s.docs)==null?void 0:r.map(a=>({...a.data(),id:a.id}));o&&e(o)}}catch(i){console.log({message:i})}};return m.useEffect(()=>{t.length||n()},[]),{songs:t}}function pm({inList:t,selectedSongs:e,setSelectedSongs:n}){const r=Qi(),{theme:i}=wt(),{song:s}=lr(ur),{userSongs:o}=n2(),{songs:a}=XF(),[l,u]=m.useState("all"),c=[...o,...a].sort((p,v)=>p.name.charAt(0).toLocaleLowerCase()>v.name.charAt(0).toLocaleLowerCase()?1:-1),h=(p,v)=>{r(qn({...p,currentIndex:v}))},f=p=>{if(console.log("setsong"),!!t&&n){let v=[...e];const _=v==null?void 0:v.indexOf(p);_===-1?v.push(p):v.splice(_,1),console.log("temp list",v),n(v)}};return console.log("check selected songs",e),d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex mt-[10px] gap-[10px]",children:[d.jsx(H,{onClick:()=>u("all"),variant:"primary",className:`rounded-full ${l==="all"?i.content_bg:"bg-"+i.alpha}`,children:"All"}),d.jsx(H,{onClick:()=>u("uploaded"),variant:"primary",className:`rounded-full ${l==="uploaded"?i.content_bg:"bg-"+i.alpha}`,children:"Uploaded"})]}),d.jsxs("div",{className:"flex flex-row flex-wrap mt-[30px] -mx-[8px]",children:[!o.length&&!a.length&&"loading",l==="uploaded"&&d.jsx(d.Fragment,{children:o.length?d.jsx(d.Fragment,{children:o.map((p,v)=>{const _=t?e==null?void 0:e.some(x=>x.id===p.id):p.id===s.id;return d.jsx("div",{className:"w-full px-[8px] max-[549px]:w-full",children:d.jsx(qa,{theme:i,onClick:()=>t?f(p):h(p,v),active:_,data:p,inList:t},v)},v)})}):d.jsx("h1",{className:"pl-[8px]",children:"No song jet..."})}),l==="all"&&d.jsx(d.Fragment,{children:c.length?d.jsx(d.Fragment,{children:c.map((p,v)=>{const _=t?e==null?void 0:e.some(x=>x.id===p.id):p.id===s.id;return d.jsx("div",{className:"w-full px-[8px] max-[549px]:w-full",children:d.jsx(qa,{theme:i,onClick:()=>t?f(p):h(p,v),inList:t,active:_,data:p},v)},v)})}):d.jsx("h1",{className:"pl-[8px]",children:"No song jet..."})})]})]})}const YF=()=>{const[t]=Yi(Dn),{theme:e}=wt(),{userSongs:n,userPlaylistIds:r,setUserPlaylistIds:i}=n2(),[s,o]=m.useState(!1),[a,l]=m.useState([]),[u,c]=m.useState([]),[h,f]=m.useState(!1),[p,v]=m.useState([]),[_,x]=m.useState(""),y=m.useRef(null),g=sr(we,"playlist"),w=async S=>{const I=S.target.files;console.log("handle input change",I);let L={id:"",name:"",singer:"",image_path:"",file_name:"",song_path:"",by:t==null?void 0:t.email,duration:0,lyric_id:""};o(!0);let C=[];for(let N of I){const G=await QF(N);if(G){let $={...L,name:G.name,singer:G.singer};C.push($)}}l(C);try{let N;for(N=0;N<=I.length-1;N++){const z=I[N],te=yR(vR,`/songs/${z.name}`),Q=await XV(te,z),ae=await YV(Q.ref);console.log("song file uploaded");const k=bF(C[N]);C[N]={...C[N],id:k,file_name:Q.metadata.fullPath,song_path:ae};const O=y.current;O.src=URL.createObjectURL(z),await E(C,N)}const G=Ge(we,"users",t==null?void 0:t.email),$=n.map(z=>z.id);await Rr(G,{songs:[...$,...u]},{merge:!0}),o(!1)}catch(N){console.log(N)}},E=async(S,R)=>{let I=S[R];const L=y.current,C=async()=>{I={...I,duration:+L.duration.toFixed(1)||99},S[R]=I,console.log("song doc = ",I);try{await Rr(Ge(we,"songs",I.id),I),l(S),c(N=>[...N,I.id]),console.log("song doc added")}catch(N){console.log({message:N})}finally{L.removeEventListener("loadedmetadata",C),URL.revokeObjectURL(L.src)}};L.addEventListener("loadedmetadata",C)},T=async()=>{const S=`${_}_${t==null?void 0:t.email}`,R=[...r,S];await Rr(Ge(we,"playlist",S),{by:(t==null?void 0:t.email)||"users",name:_,song:[""],count:0,time:0}),await Rr(Ge(we,"users",t==null?void 0:t.email),{playlist:[...r,S]},{merge:!0}),i(R),f(!1)};return m.useEffect(()=>{const S=async()=>{var C;const R=Vi(g,$i("by","==",t==null?void 0:t.email)),L=(C=(await Ui(R)).docs)==null?void 0:C.map(N=>({...N.data(),id:N.id}));v(L)};!r.length||p.length||S()},[r]),d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"pb-[30px] ",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("h3",{className:"text-2xl font-bold",children:"Playlist"}),d.jsx(H,{onClick:()=>f(!0),variant:"circle",className:"ml-[12px]",children:d.jsx(Sa,{className:"w-[20px]"})})]}),d.jsx("div",{className:"flex flex-row -mx-[8px]",children:!!p.length&&p.map((S,R)=>d.jsx("div",{className:"w-1/4 p-[8px]",children:d.jsx(t2,{theme:e,data:S})},R))})]}),d.jsxs("div",{className:"pb-[30px] ",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("h3",{className:"text-2xl font-bold",children:"Songs"}),d.jsx("input",{onChange:w,type:"file",multiple:!0,accept:".mp3",id:"file",className:"hidden"}),d.jsx("audio",{ref:y}),d.jsxs("label",{className:`${e.content_bg} ${s?"opacity-60 pointer-events-none":""} rounded-full flex px-[20px] py-[4px] text-white cursor-pointer`,htmlFor:"file",children:[d.jsx(Sa,{className:"w-[20px] mr-[5px]"}),"Upload"]})]}),d.jsx(pm,{})]}),h&&d.jsx(ts,{setOpenModal:f,children:d.jsx(Hi,{theme:e,children:d.jsxs("div",{className:"w-[300px]",children:[d.jsx(H,{className:"absolute top-2 right-2 text-white",onClick:()=>f(!1),children:d.jsx(cd,{className:"w-6 h-6"})}),d.jsx("h2",{className:"text-[18px] font-semibold text-white",children:"Add Playlist"}),d.jsx("input",{className:`bg-${e.alpha} px-[20px] rounded-full outline-none mt-[10px] text-[16px]  h-[35px] w-full`,type:"text",placeholder:"name...",value:_,onChange:S=>x(S.target.value)}),d.jsx(H,{onClick:()=>T(),variant:"primary",className:`mt-[15px] ${e.content_bg} w-full rounded-full justify-center ${!_&&"opacity-60 pointer-events-none"}`,children:"Save"})]})})})]})},JF=({className:t,onClick:e})=>d.jsx("div",{onClick:()=>e(),className:t+" relative rounded-xl border group hover:text-indigo-600 cursor-pointer",children:d.jsx(H,{className:"absolute top-1/2 left-1/2 -translate-x-[50%] -translate-y-[50%] ",children:d.jsx(Sa,{className:"h-[40px] w-[40px]"})})}),Bc=(t,e)=>{const[n,r]=m.useState(JSON.parse(localStorage.getItem(t)||JSON.stringify(e)));return m.useEffect(()=>{localStorage.setItem(t,JSON.stringify(n))},[n]),[n,r]},ZF=()=>{const[t,e]=Bc("playlist",[]),[n,r]=m.useState(!1),[i,s]=m.useState(""),o=()=>{e(a=>[...a,{name:i,songs:["adfad","adfasdf","adfadf"]}]),s(""),r(!1)};return d.jsxs("div",{className:"",children:[d.jsx("h1",{className:"text-[24px] font-bold",children:"Playlist"}),d.jsx("div",{className:"flex flex-row gap-y-4 mt-[10px] flex-wrap mb-[30px]",children:d.jsx("div",{className:"w-1/4 max-[549px]:w-[50%]",children:d.jsx(JF,{className:"pb-[100%]",label:"Create new playlist",onClick:()=>r(!0)})})}),n&&d.jsx(ts,{setOpenModal:r,children:d.jsxs("div",{className:"w-[300px] bg-slate-800 rounded-xl px-5 py-7 relative",children:[d.jsx(H,{className:"absolute top-2 right-2 text-white",onClick:()=>r(!1),children:d.jsx(cd,{className:"w-6 h-6"})}),d.jsx("h2",{className:"text-xl text-white",children:"Add Playlist"}),d.jsx("input",{className:"bg-gray-300 rounded outline-none mt-3 text-xl pl-5 h-[40px] w-full",type:"text",placeholder:"Playlist...",value:i,onChange:a=>s(a.target.value)}),d.jsx("button",{onClick:()=>o(),className:`mt-8 bg-indigo-600 h-[40px] w-full text-white text-xl rounded-full hover:brightness-90 ${i?"":"opacity-60 pointer-events-none"}`,children:"Add new"})]})})]})},e9=()=>d.jsx("h1",{children:"Favorite page"});function r2({children:t,active:e,done:n,firstTimeRender:r,inUpload:i,className:s}){const o=m.useRef(null);return m.useEffect(()=>{e&&o.current.scrollIntoView({behavior:r?"instant":"smooth",block:"center"})},[e]),d.jsxs("li",{ref:o,className:`${s} py-[10px] max-[549px]:text-[24px] ${i?"text-[16px]":"text-[40px]"} max-[549px]:text-center font-bold ${e?"opacity-100":""} ${n?"opacity-40":""} ${i&&"flex pl-[20px]"}`,children:[t,i&&e&&d.jsx("span",{className:"ml-[10px] text-[16px]",children:"(Next)"})]})}function t9({audioEle:t,theme:e,song:n,lyric:r}){const[i,s]=m.useState(!1),[o,a]=m.useState(!1),[l,u]=m.useState(r?r.base:""),[c,h]=m.useState([]),[f,p]=m.useState(r?r.real_time:[]),[v,_]=m.useState(!1),[x,y]=m.useState(1),[g,w]=m.useState(!1),[E,T]=m.useState(!1),[S,R]=m.useState(f?f.length:0),I=m.useRef(!0),L=m.useRef(null),C=m.useRef(0),N=m.useRef(0),{refs:G,floatingStyles:$,context:z}=Al({open:v,onOpenChange:_,placement:"bottom-start",middleware:[qy(10)],whileElementsMounted:Il}),te=Cl(z),Q=kl(z),{getReferenceProps:ae,getFloatingProps:k}=Pl([te,Q]),O=()=>{t&&(t.play(),s(!0),a(!0))},M=()=>{t&&(t.pause(),s(!1))},A=ge=>{t&&(t.playbackRate=ge,y(ge))},V=()=>{if(!L.current)return;const ge=L.current;u(ge.value),T(!1)},W=()=>{if(c.length&&!(S>=c.length)&&N.current!=+t.currentTime.toFixed(1)&&t){C.current=+t.currentTime.toFixed(1);const ge=c[S],Mn={start:N.current,text:ge,end:C.current};N.current=C.current,p([...f,Mn]),R(S+1)}},q=()=>{if(!(S<=0)&&t){N.current=f[S-1].start,C.current=0;const ge=f.slice(0,S-1);p(ge),R(S-1)}},Pe=()=>{navigator.clipboard.writeText(JSON.stringify(f))},ce=async()=>{try{w(!0),console.log("lyric result",f),await Rr(Ge(we,"lyrics",n.id),{real_time:f,base:l},{merge:!0}),await Rr(Ge(we,"songs",n.id),{lyric_id:n.id},{merge:!0}),w(!1)}catch(ge){console.log({message:ge})}},ie={section:`bg-${e.alpha} py-[10px] px-[20px] rounded-[12px] mb-[30px] w-full`,row:"flex no-scrollbar justify-between gap-[20px]",col:"flex-grow flex flex-col gap-[20px]",formGroup:"flex flex-col gap-[5px] flex-grow",label:"text-md font-[500]",button:`${e.content_bg} rounded-full text-white text-[14px]`,disable:" opacity-60 pointer-events-none ",icon:"h-[20px] w-[20px]",lyricBox:"list-none h-full max-[549px]:w-[100%]"},jn=d.jsxs("div",{className:"flex gap-[20px] mb-[20px]",children:[d.jsx(H,{variant:"primary",ref:G.setReference,onClick:()=>T(!0),className:ie.button,children:l?"Change lyric":"Add lyric"}),d.jsxs("button",{ref:G.setReference,...ae(),className:ie.button+"  inline-flex items-center hover:brightness-90 px-[20px] py-[5px] text-[14px] bg-[#ca4954] rounded-full text-white text-[14px]",children:[d.jsx(JP,{className:"h-[20px] w-[20px] mr-[5px]"}),"Speed"]}),i?d.jsx(H,{variant:"primary",onClick:M,className:ie.button+(o?"":ie.disable),children:"Pause"}):d.jsx(H,{variant:"primary",onClick:O,className:ie.button+(i?ie.disable:""),children:"Play"}),d.jsx(H,{variant:"primary",onClick:W,className:ie.button+(!o||!c.length?ie.disable:""),children:"Add"}),d.jsx(H,{variant:"primary",onClick:q,className:ie.button+(!o||!c.length?ie.disable:""),children:"Remove"}),d.jsx(H,{onClick:Pe,variant:"primary",className:ie.button+(o?"":ie.disable),children:"Copy"})]});m.useEffect(()=>{if(l){const ge=l.split(/\r?\n/).filter(Mn=>Mn);h(ge)}c.length&&I.current&&(I.current=!1),console.log("check firstTimeRender",I.current)},[l]),m.useEffect(()=>{if(f.length){const ge=f[f.length-1].end;t.currentTime=ge,N.current=ge}},[]);const ns={listItem:`w-full cursor-pointer py-[2px] ${e.content_hover_text}`};return d.jsxs(d.Fragment,{children:[jn,d.jsxs("div",{className:ie.row+" h-[60vh] min-h-[200px] overflow-auto "+ie.section,children:[d.jsx("ul",{className:ie.lyricBox+"min-w-[50%] max-w-[50%] pr-[20px]",children:c.length?d.jsx(d.Fragment,{children:c.map((ge,Mn)=>d.jsx(r2,{firstTimeRender:I.current,className:"mb-[19px]",inUpload:!0,active:Mn===S,done:Mn!=S,children:ge},Mn))}):d.jsx("h1",{children:"Base lyric..."})}),d.jsx("ul",{className:ie.lyricBox+" border-none w-[50%]",children:!!(f!=null&&f.length)&&f.map((ge,Mn)=>d.jsxs("li",{className:"mb-[5px] pt-[10px]",children:[d.jsx("p",{className:"text-[16px] font-bold",children:ge.text}),d.jsxs("div",{className:"flex gap-[10px]",children:[d.jsxs("button",{className:` ${e.content_hover_text}`,onClick:()=>t.currentTime=ge.start,children:[ge.start,"s"]}),d.jsx("span",{children:" - "}),d.jsxs("button",{className:` ${e.content_hover_text}`,onClick:()=>t.currentTime=ge.end,children:[ge.end,"s"]})]})]},Mn))})]}),d.jsx(H,{isLoading:g,className:`${e.content_bg} text-[14px] rounded-full mt-[20px]`,variant:"primary",onClick:()=>ce(),children:"Save"}),v&&d.jsx(Rl,{context:z,modal:!1,children:d.jsx("div",{className:"z-[99]",ref:G.setFloating,style:$,...k(),children:d.jsx(Hi,{theme:e,children:d.jsxs("ul",{className:"w-[100px] text-center text-[14px]",children:[d.jsx("li",{onClick:()=>A(1),className:`
                  ${x===1&&e.content_text} 
                  ${ns.listItem}`,children:"1x"}),d.jsx("li",{onClick:()=>A(1.2),className:`
                  ${x===1.2&&e.content_text}
                  ${ns.listItem}`,children:"1.2x"}),d.jsx("li",{onClick:()=>A(1.5),className:`
                  ${x===1.5&&e.content_text}
                  ${ns.listItem}`,children:"1.5x"})]})})})}),E&&d.jsx(ts,{setOpenModal:T,children:d.jsxs("div",{className:`w-[700px] max-w-[90vw]  rounded-[8px] p-[20px] ${e.side_bar_bg}`,children:[d.jsx("textarea",{ref:L,value:l,onChange:ge=>u(ge.target.value),className:"w-full rounded-[4px] mb-[10px] min-h-[50vh] bg-transparent border text-[#333] p-[10px]"}),d.jsx(H,{variant:"primary",onClick:()=>V(),className:ie.button,children:"Save"})]})})]})}function n9(){const{theme:t}=wt(),[e,n]=m.useState(),[r,i]=m.useState({base:"",real_time:[]}),s=m.useRef(null),o=tE(),a=ud();return m.useEffect(()=>{(async()=>{try{const u=Ge(sr(we,"songs"),o==null?void 0:o.id),c=await Fi(u),h=c.data();if(h.by==="admin"&&a(ct.home),h.lyric_id){const p=(await Fi(Ge(we,"lyrics",h.lyric_id))).data();i(p)}n({...h,id:c.id})}catch(u){console.log({message:u})}})()},[]),d.jsxs("div",{className:"pt-[30px]",children:[d.jsx("audio",{ref:s,src:e&&e.song_path,className:"hidden"}),s.current&&e&&d.jsx(t9,{lyric:r,audioEle:s.current,theme:t,song:e})]})}function i2({setIsOpenSetting:t,setSettingComp:e,setIsOpenMenu:n,loggedInUser:r}){const{theme:i,setTheme:s}=wt(),o=f=>{localStorage.setItem("theme",JSON.stringify(f)),s(f)},a=f=>d.jsxs("div",{className:"flex justify-between py-[15px]",children:[d.jsx("h1",{className:"text-xl font-bold",children:f}),d.jsx(H,{onClick:()=>t(!1),size:"normal",variant:"circle",children:d.jsx(cd,{})})]}),l=d.jsxs(d.Fragment,{children:[a("Zingmp3 clone"),d.jsxs("div",{className:"",children:[d.jsx("h5",{className:"text-lg font-bold",children:"Các công nghệ sử dụng:"}),d.jsxs("ul",{children:[d.jsx("li",{className:"text-lg my-[10px] ml-[20px]",children:"- React - Vite"}),d.jsx("li",{className:"text-lg my-[10px]  ml-[20px]",children:"- Tailwind css"})]}),d.jsx("a",{href:"asldj",target:"_blank",className:"text-lg font-bold",children:"#Github"})]})]}),u=d.jsxs(d.Fragment,{children:[a("Themes"),d.jsxs("div",{className:"overflow-auto no-scrollbar h-[calc(70vh-60px)]  pb-[5vh]",children:[d.jsx("h2",{className:"text-md font-semibold mb-[10px]",children:"Dark"}),d.jsxs("div",{className:"flex flex-row -mx-[10px] flex-wrap gap-y-[20px]",children:[d.jsxs("div",{className:"w-[25%] px-[10px] max-[549px]:w-[50%]",children:[d.jsx("div",{onClick:()=>o("red"),className:"from-[30%]  pt-[100%] rounded-xl bg-[#3b1113]"}),d.jsx("span",{className:"text-sm",children:"Đỏ"})]}),d.jsxs("div",{className:"w-[25%] px-[10px] max-[549px]:w-[50%]",children:[d.jsx("div",{onClick:()=>o("deep_blue"),className:"from-[30%]  pt-[100%] rounded-xl bg-[#111f3b]"}),d.jsx("span",{className:"text-sm",children:"Xanh đậm"})]})]}),d.jsx("h2",{className:"text-md font-semibold mb-[10px] mt-[30px]",children:"Light"}),d.jsx("div",{className:"flex flex-row -mx-[10px] flex-wrap gap-y-[20px]",children:d.jsxs("div",{className:"w-[25%] px-[10px] max-[549px]:w-[50%]",children:[d.jsx("div",{onClick:()=>o("green_light"),className:"from-[30%] bg-[#c0d8d8]  pt-[100%] rounded-xl"}),d.jsx("span",{className:"text-sm",children:"Xanh nhạt"})]})})]})]}),c=async()=>{try{await v4(Dn)}catch(f){console.log("signOut error",{messsage:f})}},h=f=>{n(!1),t(!0);let p;switch(f){case"themes":p=u;break;case"info":p=l;break;default:p=d.jsx("h1",{children:"Nothing to show"})}e(p)};return d.jsxs(Hi,{theme:i,children:[d.jsxs(H,{onClick:()=>h("themes"),children:[d.jsx(VP,{className:"w-6 h-6 mr-2"}),"Themes"]}),r&&d.jsxs(H,{onClick:()=>c(),children:[d.jsx(BA,{className:"w-6 h-6 mr-2"}),"Log out"]}),d.jsxs(H,{onClick:()=>h("info"),children:[d.jsx(OP,{className:"w-6 h-6 mr-2"}),"Info"]})]})}function s2(){var T;const[t]=OT(Dn),{theme:e}=wt(),[n,r]=Yi(Dn),[i,s]=m.useState(!1),[o,a]=m.useState(!1),[l,u]=m.useState(),{refs:c,floatingStyles:h,context:f}=Al({open:i,onOpenChange:s,placement:"right-start",middleware:[qy(0),IR(),RR()],whileElementsMounted:Il}),p=Cl(f),v=kl(f),_=KR(f),{getReferenceProps:x,getFloatingProps:y}=Pl([p,v,_]),g=()=>{t()},w=e.type==="light"?"text-[#333]":"text-white",E=`px-[10px] py-[5px] w-full text-sm font-[500] ${e.content_hover_text}`;return d.jsxs("div",{className:`text-md pt-[30px] w-[180px] flex-shrink-0 border-r-[1px]  h-screen overflow-y-auto max-[549px]:hidden
            ${e.side_bar_bg} border-${e.alpha} ${w}
         `,children:[d.jsxs("div",{className:"px-[10px] flex items-center",children:[d.jsx("div",{className:`w-[36px] h-[36px] flex-shrink-0 rounded-full overflow-hidden 
            ${n!=null&&n.photoURL?"":"flex items-center justify-center bg-[#ccc]"}`,children:n!=null&&n.photoURL?d.jsx("img",{src:n.photoURL,className:"w-full",alt:""}):d.jsx("h1",{className:"text-[20px]",children:n?(T=n==null?void 0:n.displayName)==null?void 0:T.charAt(1):"Z"})}),d.jsx("h3",{className:"text-[16px] font-[500] ml-[8px] line-clamp-1",children:n?n==null?void 0:n.displayName:"Guest"})]}),d.jsx("div",{className:`h-[1px]  w-[calc(100%-20px)] mb-[10px] mt-[20px] mx-auto bg-${e.alpha}`}),d.jsxs("div",{className:"flex flex-col gap-[15px] items-start",children:[d.jsx(H,{className:E,children:d.jsxs(Ea,{className:"abc",to:ct.home,children:[d.jsx(PP,{className:"w-6 h-6 mr-2 inline"}),"Discover"]})}),n?d.jsx(H,{className:E,children:d.jsxs(Ea,{to:ct.allSong,children:[d.jsx(uE,{className:"w-6 h-6 mr-2 inline"}),"My songs"]})}):d.jsxs(H,{onClick:()=>g(),className:E,children:[d.jsx(DA,{className:"w-6 h-6 mr-2 inline"}),"Login"]}),d.jsxs("button",{ref:c.setReference,...x(),className:`inline-flex items-center hover:brightness-75 ${E} ${i&&e.content_text}`,children:[d.jsx(oE,{className:"w-6 h-6 mr-2"}),"Settings"]})]}),i&&d.jsx(Rl,{context:f,modal:!1,children:d.jsx("div",{className:"z-[99]",ref:c.setFloating,style:h,...y(),children:d.jsx(i2,{loggedInUser:n,setIsOpenMenu:s,setIsOpenSetting:a,setSettingComp:u})})}),o&&d.jsx(ts,{setOpenModal:a,children:d.jsx("div",{className:`w-[700px] max-w-[90vw] max-h-[70vh] p-[25px] overflow-hidden ${e.container} rounded-[8px] ${e.type==="light"?"text-[#333]":"text-white"} `,children:l})})]})}function Zy({children:t}){const[e,n]=Yi(Dn),[r,i]=m.useState(!1),s=m.useRef(!0);return m.useEffect(()=>{e&&s.current},[e]),console.log("check updatingUser",r),n||r?d.jsx("h1",{children:"Loading..."}):t}const r9=({children:t})=>{const{theme:e}=wt();return d.jsx(Zy,{children:d.jsxs("div",{className:`h-screen w-screen flex 
         ${e.type==="dark"?"text-white":"text-[#333]"}
         ${e.container}
         `,children:[d.jsx(s2,{}),d.jsx("div",{className:"w-full overflow-auto h-full",children:d.jsx("div",{className:"px-[40px] max-[549px]:px-[10px]",children:t})})]})})},i9=t=>new Date(t.toDate().getTime()).toLocaleString();function s9(){const{theme:t}=wt(),[e,n]=Yi(Dn),[r,i]=m.useState("songs"),[s,o]=m.useState([]),[a,l]=m.useState([]),u=ud(),c=t.type==="light"?"text-[#333]":"text-white",h=`bg-${t.alpha}`,f={td:`py-[10px] my-[10px] boder-${t.alpha} border-b-[1px]`},p=async()=>{try{const y=Vi(sr(we,"songs"),$i("by","==","admin")),g=await Ui(y);if(g.docs){const w=g.docs.map(E=>E.data());o(w)}}catch(y){console.log(y)}},v=async()=>{console.log("get user");try{const y=Vi(sr(we,"users"),$i("email","!=",e==null?void 0:e.email)),g=await Ui(y);if(g.docs){const w=g.docs.map(E=>E.data());console.log("get user",w),l(w)}}catch(y){console.log(y)}},_=()=>s.map((y,g)=>d.jsxs("tr",{className:"",children:[d.jsx("td",{className:f.td,children:d.jsx("input",{className:"scale-[1.2]",type:"checkbox"})}),d.jsx("td",{className:f.td,children:d.jsx("div",{className:"h-[44px] w-[44px]",children:d.jsx("img",{src:y.image_path||"https://placehold.co/100x100/png",alt:""})})}),d.jsx("td",{className:f.td,children:y.name}),d.jsx("td",{className:f.td,children:y.singer}),d.jsx("td",{className:f.td,children:d.jsxs("div",{className:"flex items-center gap-[5px]",children:[d.jsx(H,{variant:"circle",children:d.jsx(mg,{className:"w-[20px]"})}),d.jsx(H,{variant:"circle",children:d.jsx(Ta,{className:"w-[20px]"})})]})})]},g)),x=()=>a.map((y,g)=>(console.log("check user",y),d.jsxs("tr",{className:"",children:[d.jsx("td",{className:f.td,children:d.jsx("input",{className:"scale-[1.2]",type:"checkbox"})}),d.jsx("td",{className:f.td,children:d.jsx("div",{className:"h-[44px] w-[44px]",children:d.jsx("img",{src:y.photoURL||"https://placehold.co/100x100/png",alt:""})})}),d.jsx("td",{className:f.td,children:y.display_name}),d.jsx("td",{className:f.td,children:y.email}),d.jsx("td",{className:f.td,children:i9(y==null?void 0:y.latest_seen)}),d.jsx("td",{className:f.td,children:d.jsx("div",{className:"flex items-center gap-[5px]",children:d.jsx(H,{variant:"circle",children:d.jsx(Ta,{className:"w-[20px]"})})})})]},g)));return m.useEffect(()=>{const y=async()=>{try{const w=(await Fi(Ge(we,"users",e==null?void 0:e.email))).data();if(console.log(w),w.role!=="admin")return u(ct.home);r==="songs"&&p()}catch(g){console.log(g)}};if(!n)if(e)y();else return u(ct.home)},[n]),m.useEffect(()=>{r==="users"&&!a.length&&v(),r==="songs"&&!s.length&&p()},[r]),d.jsx(d.Fragment,{children:!n&&d.jsxs("div",{className:`${t.container} ${c} min-h-screen`,children:[d.jsx("div",{className:`${t.side_bar_bg} `,children:d.jsxs("div",{className:"container mx-auto flex justify-between items-center h-[50px]",children:[d.jsx("h1",{className:"text-[20px] uppercase",children:"Zing dash board"}),d.jsxs("div",{className:"flex items-center",children:[(e==null?void 0:e.displayName)&&d.jsx("p",{className:"text-[14px] mr-[10px]",children:e.displayName}),d.jsx("div",{className:"w-[30px] h-[30px] rounded-full overflow-hidden border-[#ccc] border",children:(e==null?void 0:e.photoURL)&&d.jsx("img",{src:e.photoURL,className:"w-full",alt:""})})]})]})}),d.jsxs("div",{className:"container mx-auto mt-[30px]",children:[d.jsxs("div",{className:"",children:[d.jsx(H,{onClick:()=>i("songs"),className:`${r==="songs"?t.content_bg:h}  rounded-full`,variant:"primary",children:"Songs"}),d.jsx(H,{onClick:()=>i("users"),className:` ${r==="users"?t.content_bg:h} rounded-full ml-[10px]`,variant:"primary",children:"Users"})]}),d.jsxs("div",{className:"mt-[15px]",children:[r==="songs"&&d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{}),d.jsx("th",{}),d.jsx("th",{className:"text-left",children:"Name"}),d.jsx("th",{className:"text-left",children:"Singer"}),d.jsx("th",{className:"text-left",children:"Duration"})]})}),d.jsx("tbody",{children:_()})]}),r==="users"&&d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{}),d.jsx("th",{}),d.jsx("th",{className:"text-left",children:"Name"}),d.jsx("th",{className:"text-left",children:"Email"}),d.jsx("th",{className:"text-left",children:"Latest Seen"})]})}),d.jsx("tbody",{children:x()})]})]})]})]})})}function o9(){const t=Qi(),{theme:e}=wt(),n=tE(),[r]=Yi(Dn),{playlist:i}=lr(ur),[s,o]=m.useState([]),[a,l]=m.useState(!1),[u,c]=m.useState(!1),[h,f]=m.useState(),[p,v]=m.useState(!1),[_,x]=m.useState([]),[y,g]=m.useState(i.name),{refs:w,floatingStyles:E,context:T}=Al({open:p,onOpenChange:v,middleware:[SR()],whileElementsMounted:Il}),S=Cl(T),R=kl(T),{getReferenceProps:I,getFloatingProps:L}=Pl([S,R]),C=(O,M)=>{t(qn({...O,currentIndex:M}))},N=m.useCallback(async()=>{var O;try{const M=Vi(sr(we,"songs"),$i(EM(),"in",i.songs)),A=await Ui(M);if(A){const V=(O=A.docs)==null?void 0:O.map(W=>({...W.data(),id:W.id}));V&&(o(V),x(V))}}catch(M){console.log({message:M})}},[i]),G=m.useCallback(async()=>{try{const O=await Fi(Ge(we,"playlist",`${n.name}_${r==null?void 0:r.email}`));if(O){const M=O.data();t(Hb(M))}}catch(O){console.log({message:O})}},[n]),$=m.useCallback(async()=>{let O=[],M=0;_.forEach(A=>{O.push(A.id),M+=A.duration});try{await Rr(Ge(we,"playlist",`${n.name}_${r==null?void 0:r.email}`),{songs:O,count:O.length,time:M},{merge:!0}),await N(),l(!1)}catch(A){console.log(A)}},[_,a]),z=async()=>{try{c(!0),await lm(Ge(we,"playlist",`${n.name}_${i.name}`)),c(!1),l(!1)}catch(O){console.log({message:O})}},te=O=>{f(O),l(!0)},Q=d.jsx(d.Fragment,{children:d.jsx("div",{className:"overflow-y-auto overflow-x-hidden no-scrollbar",children:d.jsx(pm,{inList:!0,selectedSongs:_,setSelectedSongs:x})})}),ae=d.jsxs("div",{className:"w-[700px] max-w-[90vw] max-h-[90vh]",children:[d.jsx("label",{htmlFor:"",className:"text-[18px] font-semibold",children:"Name:"}),d.jsx("input",{value:y,onChange:O=>g(O.target.value),type:"text",className:` text-[20px] rounded-[4px] px-[10px] h-[40px] mb-[15px] outline-none w-full bg-${e.alpha} ${e.type==="light"?"text-[#333]":"text-white"}`}),d.jsx("div",{className:"max-h-[60vh] overflow-auto",children:d.jsx("div",{className:"overflow-y-auto overflow-x-hidden no-scrollbar",children:d.jsx(pm,{inList:!0,selectedSongs:_,setSelectedSongs:x})})}),d.jsx(H,{onClick:()=>$(),variant:"primary",className:`${e.content_bg} rounded-full self-end mt-[15px]`,children:"Save"})]}),k=m.useMemo(()=>d.jsx(d.Fragment,{children:d.jsxs("div",{className:"w-[30vw]",children:[d.jsx("h1",{className:"text-[20px] font-semibold",children:"Chắc chưa ?"}),d.jsx("p",{className:"text-[red]",children:"This action cannot be undone"}),d.jsxs("div",{className:"flex gap-[10px] mt-[20px]",children:[d.jsx(H,{isLoading:u,className:`${e.content_bg} rounded-full text-[14px]`,variant:"primary",onClick:z,children:"Xóa mẹ nó đi !"}),d.jsx(H,{onClick:()=>l(!1),className:`bg-${e.alpha} rounded-full text-[14px]`,variant:"primary",children:"Khoan từ từ"})]})]})}),[u,e]);return m.useEffect(()=>{const O=async()=>{i.name||await G(),i.songs.length&&N()};g(i.name),O()},[i]),i.name?d.jsxs(d.Fragment,{children:[!!s.length&&d.jsxs("div",{className:"w-full flex mb-[20px] pb-[20px] border-b",children:[d.jsx("div",{className:"w-1/5",children:d.jsx(t2,{onClick:()=>l(!0),data:i,inDetail:!0,theme:e,song:s[0]})}),d.jsxs("div",{className:"ml-[15px] flex flex-col justify-between",children:[d.jsxs("div",{className:"",children:[d.jsxs("h3",{className:"text-[20px] font-semibold",children:[i.name,d.jsx("button",{onClick:()=>te("edit"),className:"p-[5px]",children:d.jsx(Ta,{className:"w-[20px]"})})]}),d.jsxs("h5",{className:"text-[16px] mt-[5px]",children:[i==null?void 0:i.count," songs"]}),d.jsx("h5",{className:"text-[16px] mt-[5px]",children:Nc(i==null?void 0:i.time)}),d.jsx("p",{className:"text-[14px] opacity-60",children:"create by Nguyễn Hữu Đạt"})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsxs(H,{variant:"primary",className:`rounded-full ${e.content_bg}`,children:["Play",d.jsx(KP,{className:"ml-[5px] w-[20px]"})]}),d.jsx("button",{...I,ref:w.setReference,className:`ml-[10px] p-[6px] rounded-full  bg-${e.alpha}`,children:d.jsx(pg,{className:"w-[20px]"})})]})]})]}),d.jsx("div",{className:"pb-[30px]",children:!!s.length&&d.jsxs(d.Fragment,{children:[s.map((O,M)=>d.jsx("div",{className:"w-full -mx-[8px] max-[549px]:w-full",children:d.jsx(qa,{theme:e,onClick:()=>C(O,M),active:!1,data:O},M)},M)),d.jsx("div",{className:"w-full text-center",children:d.jsxs(H,{onClick:()=>l(!0),className:`${e.content_bg} rounded-full`,variant:"primary",children:[d.jsx(Sa,{className:"w-[30px] mr-[5px]"}),"Thêm bài hát vào playlist"]})})]})}),p&&d.jsx(Rl,{modal:!1,context:T,children:d.jsx("div",{className:"z-[99]",ref:w.setFloating,style:E,...L(),children:d.jsx(Hi,{...L,theme:e,children:d.jsxs("div",{className:"w-[150px]",children:[d.jsxs(H,{onClick:()=>te("edit"),className:`${e.content_hover_text}`,variant:"list",children:[d.jsx(Ta,{className:"w-[18px] mr-[5px]"}),"Edit playlist"]}),d.jsxs(H,{onClick:()=>te("confirm"),className:`${e.content_hover_text}`,variant:"list",children:[d.jsx(mg,{className:"w-[18px] mr-[5px]"}),"Trash"]})]})})})}),a&&d.jsx(ts,{setOpenModal:l,children:d.jsxs(Hi,{theme:e,children:[h==="edit"&&ae,h==="confirm"&&k,h==="addSongs"&&Q]})})]}):d.jsx("h1",{children:"No playlist jet..."})}const ct={home:"/React-Zingmp3",allSong:"/React-Zingmp3/songs",playlist:"/React-Zingmp3/songs/playlist",favorite:"/React-Zingmp3/favorite",Edit:"/React-Zingmp3/edit/:id",dashboard:"/React-Zingmp3/dashboard"},a9=[{path:ct.home,component:NF,layout:""},{path:ct.allSong,component:YF,layout:""},{path:ct.playlist,component:ZF,layout:""},{path:`${ct.playlist}/:name`,component:o9,layout:""},{path:ct.favorite,component:e9,layout:""},{path:ct.Edit,component:n9,layout:r9},{path:ct.dashboard,component:s9,layout:""}];function l9({isWaiting:t,isPlaying:e,handlePlayPause:n,hoverClasses:r}){return d.jsx(d.Fragment,{children:d.jsx("button",{className:`p-[5px] ${r&&r} ${t&&"pointer-events-none"}`,onClick:()=>n(),children:t?d.jsx(dE,{className:"w-[50px] scale-75"}):e?d.jsx(Ws,{className:"w-[50px]"}):d.jsx(cE,{className:"w-[50px]"})})})}function o2({audioEle:t,isPlaying:e,isOpenFullScreen:n,isWaiting:r,setIsPlaying:i,setIsWaiting:s}){const o=lr(ur),a=Qi(),{song:l}=o,{songs:u}=uo(),{theme:c}=wt(),[h,f]=m.useState(),[p,v]=Bc("repeat",!1),[_,x]=Bc("shuffle",!1),y=m.useRef(),g=m.useRef(null),w=m.useRef(null),E=m.useRef(null),T=m.useRef(null),S=()=>{t==null||t.play()},R=()=>{t==null||t.pause()},I=A=>u[A],L=()=>{e?R():S()},C=()=>{i(!1)},N=()=>{i(!0),s(!1)},G=m.useCallback(()=>{const A=w.current;A&&E.current&&T.current&&(E.current.innerText="00:00",T.current.innerText="-00:00",A.style.width="0%")},[]),$=m.useCallback(A=>{const V=A.target;if(console.log("check durationLineWidth",y.current),y.current&&h){const W=V.getBoundingClientRect(),q=w.current,ce=(A.clientX-W.left)/y.current,ie=ce*h;t&&q&&(t.currentTime=+ie.toFixed(1),q.style.width=(ce*100).toFixed(1)+"%",e||S())}},[n,l,h]),z=m.useCallback(()=>{console.log("check store index",l.currentIndex);let A=l.currentIndex+1,V;A<u.length?V=u[A]:(V=u[0],A=0),console.log("check new index",A),a(qn({...V,currentIndex:A}))},[l]),te=m.useCallback(()=>{console.log("check store index",l.currentIndex);let A=l.currentIndex-1,V;A>=0?V=u[A]:(V=u[u.length-1],A=u.length-1),console.log("check new index",A),a(qn({...V,currentIndex:A}))},[l]),Q=m.useCallback(()=>{s(!1);const A=t==null?void 0:t.currentTime,V=t==null?void 0:t.duration,W=V-A,q=w.current;if(V&&A){const Pe=A/(V/100);q.style.width=Pe.toFixed(1)+"%"}E.current&&T.current&&(E.current.innerText=Nc(A),T.current.innerText="-"+Nc(W))},[l,n]),ae=()=>{s(!0)},k=m.useCallback(()=>{if(p)return console.log("song repeat"),S();if(_){console.log("song shuffle");let A=l.currentIndex;for(;A===l.currentIndex;)A=Math.floor(Math.random()*u.length);const V=I(A);return a(qn({...V,currentIndex:A}))}return console.log("next song"),z()},[p,_,l]),O=()=>{var A;f(t==null?void 0:t.duration),y.current=(A=g.current)==null?void 0:A.offsetWidth,t==null||t.addEventListener("pause",C),t==null||t.addEventListener("play",N),t==null||t.addEventListener("timeupdate",Q),t==null||t.addEventListener("waiting",ae),S()};m.useEffect(()=>{if(t)return t.onloadedmetadata=()=>{O()},()=>{t==null||t.removeEventListener("timeupdate",Q),t==null||t.removeEventListener("pause",C),t==null||t.removeEventListener("waiting",ae),t==null||t.removeEventListener("play",N),G(),s(!0)}},[l]),m.useEffect(()=>{if(t)return t==null||t.addEventListener("ended",k),()=>t==null?void 0:t.removeEventListener("ended",k)},[p,_]),m.useEffect(()=>{var A;y.current=(A=g.current)==null?void 0:A.offsetWidth},[n]);const M={button:"p-[5px]"};return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"w-full flex justify-center items-center gap-x-[20px] h-[50px]",children:[d.jsx("button",{className:`${M.button} ${p&&c.content_text}`,onClick:()=>v(!p),children:d.jsx(MA,{className:"w-[30px]"})}),d.jsx("button",{className:M.button,onClick:()=>te(),children:d.jsx(YA,{className:"w-[30px]"})}),d.jsx(l9,{isWaiting:r,isPlaying:e,handlePlayPause:L}),d.jsx("button",{className:M.button,onClick:()=>z(),children:d.jsx(aE,{className:"w-[30px]"})}),d.jsx("button",{className:`${M.button} ${_&&c.content_text}`,onClick:()=>x(!_),children:d.jsx(HA,{className:"w-[30px]"})})]}),d.jsxs("div",{className:"flex flex-row items-center h-[30px]",children:[d.jsx("div",{className:"w-[45px]",children:t&&d.jsx("span",{ref:E,className:"text-gray-500 text-[14px] font-semibold",children:"00:00"})}),d.jsx("div",{ref:g,onClick:A=>$(A),className:`h-1 hover:h-[0.4rem flex-1 relative cursor-pointer rounded-3xl overflow-hidden 
                  ${c.type==="light"?"bg-gray-400":"bg-gray-200"}
                  `,children:d.jsx("div",{ref:w,className:"absolute left-0 top-0 h-full "+c.content_bg})}),d.jsx("div",{className:"w-[55px] pl-[5px]",children:t&&d.jsx("span",{ref:T,className:"text-[14px] font-semibold",children:'"-00:00"'})})]})]})}function u9(t,e,n){const[r,i]=m.useState(!1),[s,o]=Bc("volume",1),a=u=>{const h=u.target.getBoundingClientRect();if(console.log("handleSetVolume"),t.current){let f=+((u.clientX-h.x)/t.current).toFixed(2);f>.9?f=1:f<.1?(f=0,i(!0)):i(!1),o(f)}},l=()=>{n.muted?(n.muted=!1,i(!1)):(n.muted=!0,i(!0))};return m.useEffect(()=>{e.current&&n&&(e.current.style.width=s*100+"%",n.volume=s)},[s]),{volume:s,handleSetVolume:a,isMute:r,handleMute:l}}function zc({label:t,classNames:e,autoScroll:n,songInStore:r}){const i=m.useRef(null),s=m.useRef(null),o=m.useRef(),a=m.useRef(),l=m.useRef(0),u=m.useRef(""),c=m.useRef(0),[h,f]=m.useState(!1),p=()=>{const x=s.current;l.current=0,c.current=0,x.style.transition="none",x.style.transform="translateX(0)",f(!1)},v=()=>{if(!l.current&&!c.current)return;const x=s.current;console.log("scroll text"),x.innerHTML=u.current+"&nbsp; &nbsp; &nbsp;"+u.current,f(!0),x.style.transition=`transform linear ${l.current}s`,x.style.transform=`translateX(-${c.current}px)`,a.current=setTimeout(()=>{p()},l.current*1e3)},_=()=>{if(h)return;const x=s.current,y=i.current;x.offsetWidth-y.offsetWidth>0&&(u.current=x.innerText,c.current=x.offsetWidth+20,l.current=+(c.current/35).toFixed(1))};return m.useEffect(()=>(_(),console.log("auto scroll duration distance",l.current,c.current),n&&l.current&&!h&&(setTimeout(()=>{v()},1e3),o.current=setInterval(()=>{v()},l.current*1e3+3e3+1e3)),()=>{clearInterval(o.current),clearTimeout(a.current),u.current&&p()}),[r&&r]),d.jsx("div",{ref:i,className:"overflow-hidden scroll-smooth relative h-full",children:d.jsx("div",{ref:s,onClick:()=>!n&&_(),className:`${e} absolute left-0 whitespace-nowrap line-clamp-1`,children:t||"Some song"})})}function c9({idle:t,audioEle:e,isOpenFullScreen:n,isPlaying:r,isWaiting:i,setIsWaiting:s,setIsPlaying:o,setIsOpenFullScreen:a}){const l=lr(ur),{song:u}=l,{theme:c}=wt(),h=m.useRef(),f=m.useRef(null),p=m.useRef(null),{handleSetVolume:v,isMute:_,handleMute:x}=u9(h,p,e);return m.useEffect(()=>{var y;h.current=(y=f.current)==null?void 0:y.offsetWidth},[n]),d.jsx("div",{className:`border-${c.alpha} fixed bottom-0 w-full h-[90px] border-t  z-50 px-10
            ${n?"border-transparent bg-transparent":c.bottom_player_bg}
            ${t?"hidden":""} `,children:d.jsxs("div",{className:`flex flex-row gap-[10px] h-full items-stretch ${n?"justify-center text-white":"justify-between"}`,children:[d.jsx("div",{className:`current-song w-1/3 ${n?"hidden":""}`,children:d.jsxs("div",{className:`flex flex-row items-center h-full origin-center ${n?"hidden":""}`,children:[d.jsx("div",{className:"w-[2.5rem] h-[2.5rem]",children:d.jsx("img",{className:"w-full object-cover object-center rounded-full",src:u.image_path?u.image_path:"https://zjs.zmdcdn.me/zmp3-desktop/dev/119956/static/media/icon_zing_mp3_60.f6b51045.svg"})}),d.jsxs("div",{className:" ml-[10px] flex-grow",children:[d.jsx("div",{className:"h-[24px] w-full",children:m.useMemo(()=>d.jsx(zc,{songInStore:u,autoScroll:!0,classNames:"text-[18px] font-[500]",label:(u==null?void 0:u.name)||"name"}),[u])}),d.jsx("div",{className:"h-[20px] w-full",children:m.useMemo(()=>d.jsx(zc,{songInStore:u,autoScroll:!0,classNames:"text-[14px] opacity-60",label:(u==null?void 0:u.singer)||"singer"}),[u])})]})]})}),d.jsx("div",{className:`desktop-bottom-player-control  flex  
               max-w-[400px] ${n?"max-w-[600px] flex-col-reverse pb-[10px]":"flex-col justify-center"} flex-grow
            ${u.song_path?"":"pointer-events-none opacity-20"}`,children:m.useMemo(()=>d.jsx(o2,{audioEle:e,idle:!1,isPlaying:r,isWaiting:i,isOpenFullScreen:n,setIsWaiting:s,setIsPlaying:o}),[r,n])}),d.jsxs("div",{className:`volume-control w-1/3 flex items-center justify-end gap-5  ${n?"hidden":""}`,children:[d.jsxs("div",{className:"flex items-center w-[150px]",children:[d.jsx("button",{onClick:()=>x(),children:_?d.jsx(iN,{className:"w-6 h-6"}):d.jsx(tN,{className:"w-6 h-6"})}),d.jsx("div",{onClick:y=>v(y),ref:f,className:`ml-3 w-full relative h-[4px] hover:h-[0.4rem] cursor-pointer rounded-3xl overflow-hidden
                     ${c.type==="light"?"bg-gray-400":"bg-gray-200"}
                     `,children:d.jsx("div",{ref:p,className:`absolute left-0 top-0 h-full w-full ${c.content_bg}`})})]}),d.jsx(H,{onClick:()=>a(!0),variant:"circle",className:`h-[35px] w-[35px] p-[8px] ${u.name?"":"opacity-20 pointer-events-none"}`,children:d.jsx(uP,{})})]})]})})}const a2=({audioEle:t,songLyric:e,className:n})=>{const{theme:r}=wt(),[i,s]=m.useState(0),o=m.useRef(!0),a=()=>{s(t.currentTime)};m.useEffect(()=>{o.current&&t&&(t.addEventListener("timeupdate",a),i&&o&&(o.current=!1))},[i]);const l=()=>e.real_time.map((u,c)=>{const h=i>=u.start&&u.end>i;return d.jsx(r2,{theme:r,firstTimeRender:o.current,done:!h,active:h,children:u.text},c)});return e.real_time.length?d.jsx("ul",{className:n,children:l()}):d.jsx("h1",{className:"text-[50px] mt-[30px] text-center",children:"..."})},l2=({tabs:t,idle:e,activeTab:n,setActiveTab:r,className:i})=>d.jsx("ul",{className:`flex px-[2px] flex-row py-[4px] h-full px-[4px] items-center bg-indio-650 mx-auto rounded-full bg-gray-500 bg-opacity-20  ${e?"hidden":""}`+i,children:t.map((s,o)=>d.jsx("li",{onClick:()=>r(s),className:`px-[30px] h-full rounded-full max-[549px]:px-[15px] ${n===s?"bg-gray-400 bg-opacity-20 text-white":""}`,children:d.jsx("span",{className:"leading-[27px] font-bold max-[549px]:font-normal",children:s})},o))}),mm=({data:t,active:e,hasHover:n,onClick:r,containerEle:i,hasTitle:s,classNames:o})=>{const a=m.useRef(null),l=a.current;return m.useEffect(()=>{if(t&&i&&e){const u=window.innerWidth,h=l.getBoundingClientRect().left,f=u-(h+l.offsetWidth),p=Math.abs(h-f)/2;(Math.abs(h)>u||Math.abs(f)>u)&&(i.style.scrollBehavior="auto"),f>h?setTimeout(()=>{i.scrollLeft=i.scrollLeft-p,i.style.scrollBehavior="smooth"},300):f<h&&setTimeout(()=>{i.scrollLeft=i.scrollLeft+p,i.style.scrollBehavior="smooth"},300)}},[e]),d.jsx(d.Fragment,{children:t&&d.jsxs("div",{ref:a,className:"flex flex-col",children:[d.jsx("div",{className:` flex ${o&&o}`,children:d.jsxs("div",{className:`group relative ${e?"w-[350px] max-[549px]:w-[100%]":"w-[250px] max-[549px]:w-[75%]"} transition-[width] duration-300 origin-center`,children:[d.jsx("img",{className:"select-none object-cover object-center rounded w-full",src:(t==null?void 0:t.image_path)||"https://placehold.co/500x500.png",alt:""}),n&&d.jsx("div",{className:`absolute inset-0 bg-black bg-opacity-60 
             items-center justify-center hidden max-[549px]:hidden group-hover:flex`,children:d.jsx(H,{onClick:r,variant:"circle",className:"h-[50px] w-[50px] text-white",children:d.jsx(Ws,{})})}),e&&window.innerWidth>=550&&d.jsx("div",{className:"absolute h-[30px] w-[30px] bottom-[15px] left-[15px]",children:d.jsx("img",{src:"https://zmp3-static.zmdcdn.me/skins/zmp3-v6.1/images/icons/icon-playing.gif",alt:""})})]})}),s&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl text-white  text-center mt-[10px] font-bold  max-[549px]:text-xl text-ellipsis line-clamp-1 ",children:(t==null?void 0:t.name)||"Some song"}),d.jsx("p",{className:"text-center text-md  text-gray-500",children:(t==null?void 0:t.singer)||"..."})]})]})})};function d9({isOpenFullScreen:t,setIsOpenFullScreen:e,idle:n,audioEle:r,isPlaying:i}){const{songs:s}=uo(),{theme:o}=wt(),a=Qi(),l=lr(ur),{song:u}=l,[c,h]=m.useState("Lyric"),[f,p]=m.useState({base:"",real_time:[]}),v=m.useRef(null),_=m.useRef(null),x=m.useRef(),y=ud(),g=(I,L)=>{u.id!==I.id&&a(qn({...I,currentIndex:L}))},w=I=>{const L=_.current;I==="next"?(L.scrollLeft+=500,x.current&&clearTimeout(x.current)):I==="previous"&&(L.scrollLeft-=500)},E=()=>{e(!1),setTimeout(()=>{y(`/React-Zingmp3/edit/${u.id}`)},300)},T=m.useMemo(()=>{if(s!=null&&s.length)return s.map((I,L)=>{const C=I.song_path===u.song_path;return d.jsx("div",{className:"px-[16px]",children:d.jsx(mm,{classNames:"items-center justify-center",hasHover:!0,hasTitle:!0,containerEle:_.current,onClick:()=>g(I,L),active:C,data:I})},L)})},[u,s]),S=d.jsxs("div",{className:"lyric-container px-[40px] h-full w-full flex items-center justify-center flex-row",children:[d.jsx("div",{className:"max-[549px]:hidden",children:d.jsx(mm,{classNames:"items-center justify-center",active:i,data:u})}),d.jsx("div",{className:"flex-1 max-w-[700px] ml-[50px] max-[549px]:ml-0 h-full overflow-auto no-scrollbar pb-[30%]",children:d.jsx(a2,{audioEle:r,songLyric:f})})]});m.useEffect(()=>{if(u.image_path){const I=v.current;I.style.backgroundImage=`url(${u.image_path})`}},[u]),m.useEffect(()=>u.lyric_id?(console.log("check lyric_id",u.lyric_id),(async()=>{const L=Ge(we,"lyrics",u.lyric_id),N=(await Fi(L)).data();N&&p(N)})(),()=>p({base:"",real_time:[]})):void 0,[u]);const R={button:`p-[8px] bg-gray-500 bg-opacity-20 text-xl ${o.content_hover_text}`};return d.jsxs("div",{className:`fixed inset-0 z-50 bg-zinc-900  overflow-hidden text-white  ${t?"translate-y-0":"translate-y-full"} transition-[transform] duration-300 ease-in-out delay-150  `,children:[d.jsx("div",{ref:v,className:"absolute h-[100vh] w-[100vw] -z-10 inset-0 bg-no-repeat bg-cover bg-center blur-[99px] transition-[background] duration-100"}),d.jsx("div",{className:"absolute h-[100vh] w-[100vw] inset-0 bg-zinc-900 bg-opacity-80 bg-blend-multiply"}),d.jsxs("div",{className:"h-[calc(100vh-90px)]",children:[d.jsxs("div",{className:"header-left flex px-10 py-[20px] relative h-[75px] max-[549px]:px-[10px]",children:[d.jsx("div",{className:`relative h-full ${n?"":"hidden"}`,children:d.jsx("div",{className:"absolute left-0 top-0 h-full ",children:d.jsx("img",{className:"h-full",src:"https://zjs.zmdcdn.me/zmp3-desktop/dev/119956/static/media/icon_zing_mp3_60.f6b51045.svg",alt:""})})}),d.jsx(l2,{idle:n,activeTab:c,setActiveTab:h,tabs:["Songs","Lyric"]}),d.jsxs("div",{className:`flex items-center absolute right-10 gap-[10px] max-[549px]:right-[10px] top-0 h-full ${n?"hidden":""}`,children:[u.by!="admin"&&d.jsx(H,{onClick:()=>E(),variant:"circle",size:"normal",className:R.button,children:d.jsx(TP,{})}),d.jsx(H,{onClick:()=>e(!1),variant:"circle",size:"normal",className:R.button,children:d.jsx(sE,{})})]})]}),d.jsxs("div",{className:" h-[calc(100%-100px)] max-[549px]:h-[calc(100%-150px)] relative overflow-hidden",children:[d.jsxs("div",{ref:_,className:` ${c!=="Songs"?"opacity-0":""} relative h-full no-scrollbar flex items-center flex-row overflow-auto scroll-smooth px-[500px] max-[549px]:px-[150px]`,children:[_&&T,d.jsx(H,{onClick:()=>w("previous"),variant:"circle",size:"large",className:"p-[8px] bg-gray-500 bg-opacity-50 text-xl fixed top-1/2 -translate-y-1/2 left-[20px] max-[549px]:hidden",children:d.jsx(iP,{})}),d.jsx(H,{onClick:()=>w("next"),variant:"circle",size:"large",className:"p-[8px] bg-gray-500 bg-opacity-50 text-xl fixed top-1/2 -translate-y-1/2 right-[20px] max-[549px]:hidden",children:d.jsx(Sp,{})})]}),t&&c==="Lyric"&&d.jsx("div",{className:"absolute inset-0 z-20  ",children:S})]}),t&&c==="Lyric"&&d.jsxs("p",{className:"relative text-center text-white text-[14px] opacity-80",children:[u.name," -"," ",d.jsx("span",{className:"opacity-30",children:u.singer})]})]})]})}function h9({audioEle:t,isPlaying:e,isWaiting:n,isOpenFullScreen:r,setIsPlaying:i,setIsWaiting:s,setIsOpenFullScreen:o}){const a=lr(ur),l=Qi(),{songs:u}=uo(),{song:c}=a,{theme:h}=wt(),[f,p]=m.useState({base:"",real_time:[]}),[v,_]=m.useState(!1),[x,y]=m.useState(!1),[g,w]=m.useState("Playing"),[E,T]=m.useState(),[S,R]=m.useState(!1),I=m.useRef(),L=m.useRef(null),C=m.useRef(null),N=m.useRef(null),{refs:G,floatingStyles:$,context:z}=Al({open:x,onOpenChange:y,placement:"bottom-start",middleware:[qy(10),IR(),RR()],whileElementsMounted:Il}),te=Cl(z),Q=kl(z),ae=KR(z),{getReferenceProps:k,getFloatingProps:O}=Pl([te,Q,ae]),M=(W,q)=>{l(qn({...W,currentIndex:q}))};m.useEffect(()=>{var q;I.current=(q=L.current)==null?void 0:q.offsetWidth;const W=N.current;W.style.height=`${window.innerHeight-65}px`},[]),m.useEffect(()=>{if(c.image_path){const W=C.current;W.style.backgroundImage=`url(${c.image_path})`}},[c]);const A=m.useMemo(()=>d.jsx(d.Fragment,{children:c&&d.jsxs(d.Fragment,{children:[d.jsx("h3",{className:"text-white text-[16px] mt-[10px] mb-[7px]",children:"Playing next"}),d.jsx("div",{className:"relative h-full no-scrollbar overflow-auto transition-all",children:u.map((W,q)=>{if(!(q==c.currentIndex||q<=c.currentIndex))return d.jsx(qa,{autoScroll:!0,theme:h,data:W,onClick:()=>M(W,q),active:W.song_path===c.song_path},q)})})]})}),[c]),V=m.useMemo(()=>d.jsx(a2,{className:"h-[calc(100vh-125px)] flex-shrink-0 overflow-auto",audioEle:t,songLyric:f}),[f]);return m.useEffect(()=>{if(!c.lyric_id)return;(async()=>{const q=Ge(we,"lyrics",c.lyric_id),ce=(await Fi(q)).data();ce&&p(ce)})()},[c]),d.jsxs("div",{className:`fixed inset-0 z-50 bg-zinc-900 text-white overflow-hidden  ${r?"translate-y-0":"translate-y-full"} transition-[transform] duration-300 ease-in-out delay-150  `,children:[d.jsx("div",{ref:C,className:"absolute  inset-0 bg-no-repeat bg-cover bg-center blur-[99px]"}),d.jsx("div",{className:"absolute inset-0 bg-zinc-900 bg-opacity-80 bg-blend-multiply"}),d.jsxs("div",{className:"absolute inset-0 z-10",children:[d.jsxs("div",{className:"h-[65px] p-[15px]",children:[d.jsx("button",{ref:G.setReference,...k(),className:"rounded-full p-[5px] bg-gray-500 bg-opacity-20 absolute left-[15px]",children:d.jsx(oE,{className:"w-[25px]"})}),d.jsx(l2,{className:"w-fit",idle:!1,setActiveTab:w,activeTab:g,tabs:["Songs","Playing","Lyric"]}),d.jsx("button",{className:"bg-gray-500 bg-opacity-20 rounded-full absolute right-[15px] top-[15px] p-[6px]",onClick:()=>o(!1),children:d.jsx(sE,{className:"w-[25px]"})}),x&&d.jsx(Rl,{context:z,modal:!1,children:d.jsx("div",{className:"z-[99]",ref:G.setFloating,style:$,...O(),children:d.jsx(i2,{setIsOpenMenu:y,setIsOpenSetting:_,setSettingComp:T})})})]}),d.jsx("div",{ref:N,className:"relative px-[15px] overflow-hidden",children:d.jsx("div",{className:"h-full flex flex-col overflow-hidden",children:d.jsxs("div",{className:`flex flex-col h-full ${g!="Playing"?"":"justify-between"}`,children:[d.jsxs("div",{className:`${g!="Playing"&&!S?"flex":""}`,children:[m.useMemo(()=>d.jsx(mm,{classNames:`flex-shink-0 transition-[height, width] origin-top-left ${g!="Playing"?"max-[549px]:w-[60px] max-[549px]:h-[60px]":"justify-center items-center w-full"}`,active:!0,data:c}),[c,e,g]),d.jsxs("div",{className:`flex flex-grow justify-between items-center ${g!="Playing"?"ml-[10px]":"mt-[15px]"}`,children:[d.jsxs("div",{className:"group flex-grow overflow-hidden",children:[d.jsx("div",{className:"h-[30px]",children:m.useMemo(()=>d.jsx(zc,{songInStore:c,autoScroll:!0,classNames:`${g==="Playing"?"text-[24px] leading-[30px]":"text-[20px]"} font-[500]`,label:c.name||"..."}),[c,g])}),d.jsx("div",{className:"h-[30px]",children:m.useMemo(()=>d.jsx(zc,{songInStore:c,autoScroll:!0,classNames:`${g==="Playing"?"text-[22px]":"text-[16px] text-gray-500"} font-[400]`,label:c.singer||"..."}),[c,g])})]}),d.jsx("div",{className:"pl-[20px]",children:d.jsx("button",{className:"p-[5px]",children:d.jsx(lE,{className:"w-[25px]"})})})]})]}),g==="Lyric"&&V,g==="Songs"&&A,d.jsx("div",{className:`mb-[30px] ${g!="Playing"?"opacity-0 pointer-events-none h-[0px] mb-[0px]":""}`,children:d.jsx("div",{className:"flex flex-col justify-start flex-1",children:d.jsx("div",{className:"flex-col-reverse flex",children:m.useMemo(()=>d.jsx(o2,{audioEle:t,isOpenFullScreen:!1,isPlaying:e,isWaiting:n,setIsWaiting:s,setIsPlaying:i,idle:!1}),[e,n])})})})]})})})]}),v&&d.jsx(ts,{setOpenModal:_,children:d.jsx("div",{className:` w-[95vw] [90vh] px-[25px] pb-[25px] overflow-hidden ${h.container} rounded-[8px] ${h.type==="light"?"text-[#333]":"text-white"} `,children:E})})]})}const f9=({audioEle:t,isOpenFullScreen:e,isWaiting:n,setIsOpenFullScreen:r,isPlaying:i})=>{const s=Qi(),o=lr(ur),{songs:a}=uo(),{theme:l}=wt(),{song:u}=o,c=()=>{t==null||t.play()},h=()=>{t==null||t.pause()},f=()=>{i?h():c()},p=()=>{let v=u.currentIndex+1,_;v<a.length?_=a[v]:(_=a[0],v=0),s(qn({..._,currentIndex:v}))};return m.useEffect(()=>{if(!e)return()=>{}},[u,e]),d.jsx("div",{className:`fixed bottom-0 w-full h-[70px] border-t z-40  px-[20px] ${l.bottom_player_bg}`,children:d.jsxs("div",{className:"flex flex-row  h-full",children:[d.jsx("div",{onClick:()=>r(!0),className:"mobile-current-song flex-grow",children:d.jsxs("div",{className:" flex flex-row items-center flex-grow h-full",children:[d.jsx("div",{className:"w-[40px] h-[40px]",children:d.jsx("img",{className:"w-full object-cover object-center rounded-full",src:u.image_path?u.image_path:"https://zjs.zmdcdn.me/zmp3-desktop/dev/119956/static/media/icon_zing_mp3_60.f6b51045.svg"})}),d.jsx("div",{className:"flex-grow  ml-[10px]",children:u.song_path&&d.jsxs(d.Fragment,{children:[d.jsx("h5",{className:"text-[18px] font-[500]",children:(u==null?void 0:u.name)||"name"}),d.jsx("p",{className:"text-[14px] font-[400] line-clamp-1",children:(u==null?void 0:u.singer)||"singer"})]})})]})}),d.jsxs("div",{className:`mobile-bottom-player flex items-center h-full pl-[15px] gap-[10px] ${!u.name&&"opacity-60 pointer-events-none"}`,children:[d.jsx("button",{className:"p-[4px]",onClick:()=>f(),children:n?d.jsx(dE,{className:"w-[35px]"}):i?d.jsx(Ws,{className:"w-[35px]"}):d.jsx(cE,{className:"w-[35px]"})}),d.jsx("button",{onClick:p,className:"p-[4px]",children:d.jsx(aE,{className:"w-[35px]"})})]})]})})},p9=()=>{const t=lr(ur),{song:e}=t,[n,r]=m.useState(!1),[i,s]=m.useState(!1),[o,a]=m.useState(!1),[l,u]=m.useState(!1),c=m.useRef(null),h=m.useRef(window.innerWidth),f=d.jsxs(d.Fragment,{children:[d.jsx(d9,{audioEle:c.current,idle:!1,isPlaying:n,isOpenFullScreen:o,setIsOpenFullScreen:a}),d.jsx(c9,{audioEle:c.current,idle:!1,isPlaying:n,isWaiting:i,isOpenFullScreen:o,setIsPlaying:r,setIsWaiting:s,setIsOpenFullScreen:a})]}),p=d.jsxs(d.Fragment,{children:[d.jsx(h9,{audioEle:c.current,idle:!1,isPlaying:n,isWaiting:i,isOpenFullScreen:o,setIsPlaying:r,setIsWaiting:s,setIsOpenFullScreen:a}),d.jsx(f9,{audioEle:c.current,idle:!1,isPlaying:n,isOpenFullScreen:o,isWaiting:i,setIsOpenFullScreen:a})]});return m.useEffect(()=>{l||c.current&&u(!0)},[]),d.jsxs("div",{className:"absolute",children:[d.jsx("audio",{ref:c,src:e.song_path,className:"hidden"}),l?h.current>=550?f:p:""]})},m9=({children:t})=>{const{theme:e}=wt();return d.jsx(Zy,{children:d.jsxs("div",{className:`h-screen w-screen flex 
         ${e.type==="dark"?"text-white":"text-[#333]"}
         ${e.container}
         `,children:[window.innerWidth>=550&&d.jsx(s2,{}),d.jsxs("div",{className:"w-full overflow-y-auto overflow-x-hidden h-[calc(100vh-90px)] max-[549px]:h-full",children:[d.jsx("div",{className:"h-[200px]"}),d.jsx("div",{className:"px-[40px] max-[549px]:px-[15px]",children:t})]}),d.jsx(p9,{})]})})};function g9(){return d.jsx(kA,{children:d.jsx(EA,{children:a9.map((t,e)=>{let n;const r=t.component;return t.layout?n=t.layout:n=m9,t.path===ct.dashboard?d.jsx(xp,{path:t.path,element:d.jsx(Zy,{children:d.jsx(r,{})})},e):d.jsx(xp,{path:t.path,element:d.jsx(n,{children:d.jsx(r,{})})},e)})})})}const y9=Ob({reducer:{song:qb}});Rf.createRoot(document.getElementById("root")).render(d.jsx(z1.StrictMode,{children:d.jsx(tO,{theme:VE,children:d.jsx(Xb,{songsStore:jE,children:d.jsx(JN,{store:y9,children:d.jsx(g9,{})})})})}));

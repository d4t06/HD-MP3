function J2(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var b0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Z2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hw={exports:{}},gd={},fw={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gl=Symbol.for("react.element"),eC=Symbol.for("react.portal"),tC=Symbol.for("react.fragment"),nC=Symbol.for("react.strict_mode"),rC=Symbol.for("react.profiler"),iC=Symbol.for("react.provider"),sC=Symbol.for("react.context"),oC=Symbol.for("react.forward_ref"),aC=Symbol.for("react.suspense"),lC=Symbol.for("react.memo"),cC=Symbol.for("react.lazy"),O0=Symbol.iterator;function uC(t){return t===null||typeof t!="object"?null:(t=O0&&t[O0]||t["@@iterator"],typeof t=="function"?t:null)}var pw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mw=Object.assign,gw={};function xo(t,e,n){this.props=t,this.context=e,this.refs=gw,this.updater=n||pw}xo.prototype.isReactComponent={};xo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};xo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function yw(){}yw.prototype=xo.prototype;function Bm(t,e,n){this.props=t,this.context=e,this.refs=gw,this.updater=n||pw}var zm=Bm.prototype=new yw;zm.constructor=Bm;mw(zm,xo.prototype);zm.isPureReactComponent=!0;var j0=Array.isArray,vw=Object.prototype.hasOwnProperty,Wm={current:null},_w={key:!0,ref:!0,__self:!0,__source:!0};function ww(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)vw.call(e,r)&&!_w.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:gl,type:t,key:s,ref:o,props:i,_owner:Wm.current}}function dC(t,e){return{$$typeof:gl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Hm(t){return typeof t=="object"&&t!==null&&t.$$typeof===gl}function hC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var L0=/\/+/g;function Bh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?hC(""+t.key):e.toString(36)}function Oc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case gl:case eC:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Bh(o,0):r,j0(i)?(n="",t!=null&&(n=t.replace(L0,"$&/")+"/"),Oc(i,e,n,"",function(c){return c})):i!=null&&(Hm(i)&&(i=dC(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(L0,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",j0(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Bh(s,a);o+=Oc(s,e,n,l,i)}else if(l=uC(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Bh(s,a++),o+=Oc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function nc(t,e,n){if(t==null)return t;var r=[],i=0;return Oc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function fC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Mt={current:null},jc={transition:null},pC={ReactCurrentDispatcher:Mt,ReactCurrentBatchConfig:jc,ReactCurrentOwner:Wm};he.Children={map:nc,forEach:function(t,e,n){nc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return nc(t,function(){e++}),e},toArray:function(t){return nc(t,function(e){return e})||[]},only:function(t){if(!Hm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};he.Component=xo;he.Fragment=tC;he.Profiler=rC;he.PureComponent=Bm;he.StrictMode=nC;he.Suspense=aC;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pC;he.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=mw({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Wm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)vw.call(e,l)&&!_w.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:gl,type:t.type,key:i,ref:s,props:r,_owner:o}};he.createContext=function(t){return t={$$typeof:sC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:iC,_context:t},t.Consumer=t};he.createElement=ww;he.createFactory=function(t){var e=ww.bind(null,t);return e.type=t,e};he.createRef=function(){return{current:null}};he.forwardRef=function(t){return{$$typeof:oC,render:t}};he.isValidElement=Hm;he.lazy=function(t){return{$$typeof:cC,_payload:{_status:-1,_result:t},_init:fC}};he.memo=function(t,e){return{$$typeof:lC,type:t,compare:e===void 0?null:e}};he.startTransition=function(t){var e=jc.transition;jc.transition={};try{t()}finally{jc.transition=e}};he.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};he.useCallback=function(t,e){return Mt.current.useCallback(t,e)};he.useContext=function(t){return Mt.current.useContext(t)};he.useDebugValue=function(){};he.useDeferredValue=function(t){return Mt.current.useDeferredValue(t)};he.useEffect=function(t,e){return Mt.current.useEffect(t,e)};he.useId=function(){return Mt.current.useId()};he.useImperativeHandle=function(t,e,n){return Mt.current.useImperativeHandle(t,e,n)};he.useInsertionEffect=function(t,e){return Mt.current.useInsertionEffect(t,e)};he.useLayoutEffect=function(t,e){return Mt.current.useLayoutEffect(t,e)};he.useMemo=function(t,e){return Mt.current.useMemo(t,e)};he.useReducer=function(t,e,n){return Mt.current.useReducer(t,e,n)};he.useRef=function(t){return Mt.current.useRef(t)};he.useState=function(t){return Mt.current.useState(t)};he.useSyncExternalStore=function(t,e,n){return Mt.current.useSyncExternalStore(t,e,n)};he.useTransition=function(){return Mt.current.useTransition()};he.version="18.2.0";fw.exports=he;var f=fw.exports;const xw=Z2(f),qm=J2({__proto__:null,default:xw},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mC=f,gC=Symbol.for("react.element"),yC=Symbol.for("react.fragment"),vC=Object.prototype.hasOwnProperty,_C=mC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wC={key:!0,ref:!0,__self:!0,__source:!0};function Ew(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)vC.call(e,r)&&!wC.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:gC,type:t,key:s,ref:o,props:i,_owner:_C.current}}gd.Fragment=yC;gd.jsx=Ew;gd.jsxs=Ew;hw.exports=gd;var u=hw.exports,Jf={},Tw={exports:{}},rn={},Sw={exports:{}},Iw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(C,O){var M=C.length;C.push(O);e:for(;0<M;){var D=M-1>>>1,G=C[D];if(0<i(G,O))C[D]=O,C[M]=G,M=D;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var O=C[0],M=C.pop();if(M!==O){C[0]=M;e:for(var D=0,G=C.length,J=G>>>1;D<J;){var ee=2*(D+1)-1,_e=C[ee],ce=ee+1,z=C[ce];if(0>i(_e,M))ce<G&&0>i(z,_e)?(C[D]=z,C[ce]=M,D=ce):(C[D]=_e,C[ee]=M,D=ee);else if(ce<G&&0>i(z,M))C[D]=z,C[ce]=M,D=ce;else break e}}return O}function i(C,O){var M=C.sortIndex-O.sortIndex;return M!==0?M:C.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,p=3,m=!1,v=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(C){for(var O=n(c);O!==null;){if(O.callback===null)r(c);else if(O.startTime<=C)r(c),O.sortIndex=O.expirationTime,e(l,O);else break;O=n(c)}}function E(C){if(w=!1,_(C),!v)if(n(l)!==null)v=!0,K(T);else{var O=n(c);O!==null&&W(E,O.startTime-C)}}function T(C,O){v=!1,w&&(w=!1,y(S),S=-1),m=!0;var M=p;try{for(_(O),h=n(l);h!==null&&(!(h.expirationTime>O)||C&&!N());){var D=h.callback;if(typeof D=="function"){h.callback=null,p=h.priorityLevel;var G=D(h.expirationTime<=O);O=t.unstable_now(),typeof G=="function"?h.callback=G:h===n(l)&&r(l),_(O)}else r(l);h=n(l)}if(h!==null)var J=!0;else{var ee=n(c);ee!==null&&W(E,ee.startTime-O),J=!1}return J}finally{h=null,p=M,m=!1}}var R=!1,I=null,S=-1,A=5,k=-1;function N(){return!(t.unstable_now()-k<A)}function H(){if(I!==null){var C=t.unstable_now();k=C;var O=!0;try{O=I(!0,C)}finally{O?L():(R=!1,I=null)}}else R=!1}var L;if(typeof g=="function")L=function(){g(H)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,Z=q.port2;q.port1.onmessage=H,L=function(){Z.postMessage(null)}}else L=function(){x(H,0)};function K(C){I=C,R||(R=!0,L())}function W(C,O){S=x(function(){C(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(C){C.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,K(T))},t.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<C?Math.floor(1e3/C):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(C){switch(p){case 1:case 2:case 3:var O=3;break;default:O=p}var M=p;p=O;try{return C()}finally{p=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(C,O){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var M=p;p=C;try{return O()}finally{p=M}},t.unstable_scheduleCallback=function(C,O,M){var D=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?D+M:D):M=D,C){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=M+G,C={id:d++,callback:O,priorityLevel:C,startTime:M,expirationTime:G,sortIndex:-1},M>D?(C.sortIndex=M,e(c,C),n(l)===null&&C===n(c)&&(w?(y(S),S=-1):w=!0,W(E,M-D))):(C.sortIndex=G,e(l,C),v||m||(v=!0,K(T))),C},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(C){var O=p;return function(){var M=p;p=O;try{return C.apply(this,arguments)}finally{p=M}}}})(Iw);Sw.exports=Iw;var xC=Sw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rw=f,Zt=xC;function b(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Cw=new Set,Sa={};function ds(t,e){to(t,e),to(t+"Capture",e)}function to(t,e){for(Sa[t]=e,t=0;t<e.length;t++)Cw.add(e[t])}var hr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zf=Object.prototype.hasOwnProperty,EC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,D0={},M0={};function TC(t){return Zf.call(M0,t)?!0:Zf.call(D0,t)?!1:EC.test(t)?M0[t]=!0:(D0[t]=!0,!1)}function SC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function IC(t,e,n,r){if(e===null||typeof e>"u"||SC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function $t(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){gt[t]=new $t(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];gt[e]=new $t(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){gt[t]=new $t(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){gt[t]=new $t(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){gt[t]=new $t(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){gt[t]=new $t(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){gt[t]=new $t(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){gt[t]=new $t(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){gt[t]=new $t(t,5,!1,t.toLowerCase(),null,!1,!1)});var Km=/[\-:]([a-z])/g;function Gm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Km,Gm);gt[e]=new $t(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Km,Gm);gt[e]=new $t(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Km,Gm);gt[e]=new $t(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){gt[t]=new $t(t,1,!1,t.toLowerCase(),null,!1,!1)});gt.xlinkHref=new $t("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){gt[t]=new $t(t,1,!1,t.toLowerCase(),null,!0,!0)});function Qm(t,e,n,r){var i=gt.hasOwnProperty(e)?gt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(IC(e,n,i,r)&&(n=null),r||i===null?TC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Sr=Rw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rc=Symbol.for("react.element"),Ss=Symbol.for("react.portal"),Is=Symbol.for("react.fragment"),Xm=Symbol.for("react.strict_mode"),ep=Symbol.for("react.profiler"),kw=Symbol.for("react.provider"),Pw=Symbol.for("react.context"),Ym=Symbol.for("react.forward_ref"),tp=Symbol.for("react.suspense"),np=Symbol.for("react.suspense_list"),Jm=Symbol.for("react.memo"),Ar=Symbol.for("react.lazy"),Aw=Symbol.for("react.offscreen"),$0=Symbol.iterator;function Mo(t){return t===null||typeof t!="object"?null:(t=$0&&t[$0]||t["@@iterator"],typeof t=="function"?t:null)}var Ve=Object.assign,zh;function Go(t){if(zh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);zh=e&&e[1]||""}return`
`+zh+t}var Wh=!1;function Hh(t,e){if(!t||Wh)return"";Wh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Wh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Go(t):""}function RC(t){switch(t.tag){case 5:return Go(t.type);case 16:return Go("Lazy");case 13:return Go("Suspense");case 19:return Go("SuspenseList");case 0:case 2:case 15:return t=Hh(t.type,!1),t;case 11:return t=Hh(t.type.render,!1),t;case 1:return t=Hh(t.type,!0),t;default:return""}}function rp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Is:return"Fragment";case Ss:return"Portal";case ep:return"Profiler";case Xm:return"StrictMode";case tp:return"Suspense";case np:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Pw:return(t.displayName||"Context")+".Consumer";case kw:return(t._context.displayName||"Context")+".Provider";case Ym:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Jm:return e=t.displayName||null,e!==null?e:rp(t.type)||"Memo";case Ar:e=t._payload,t=t._init;try{return rp(t(e))}catch{}}return null}function CC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rp(e);case 8:return e===Xm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function si(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Nw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function kC(t){var e=Nw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ic(t){t._valueTracker||(t._valueTracker=kC(t))}function bw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Nw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function tu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ip(t,e){var n=e.checked;return Ve({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function V0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=si(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ow(t,e){e=e.checked,e!=null&&Qm(t,"checked",e,!1)}function sp(t,e){Ow(t,e);var n=si(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?op(t,e.type,n):e.hasOwnProperty("defaultValue")&&op(t,e.type,si(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function F0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function op(t,e,n){(e!=="number"||tu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Qo=Array.isArray;function Us(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+si(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ap(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(b(91));return Ve({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function U0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(b(92));if(Qo(n)){if(1<n.length)throw Error(b(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:si(n)}}function jw(t,e){var n=si(e.value),r=si(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function B0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Lw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Lw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var sc,Dw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(sc=sc||document.createElement("div"),sc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=sc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ia(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ia={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},PC=["Webkit","ms","Moz","O"];Object.keys(ia).forEach(function(t){PC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ia[e]=ia[t]})});function Mw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ia.hasOwnProperty(t)&&ia[t]?(""+e).trim():e+"px"}function $w(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Mw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var AC=Ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cp(t,e){if(e){if(AC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(b(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(b(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(b(61))}if(e.style!=null&&typeof e.style!="object")throw Error(b(62))}}function up(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dp=null;function Zm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hp=null,Bs=null,zs=null;function z0(t){if(t=_l(t)){if(typeof hp!="function")throw Error(b(280));var e=t.stateNode;e&&(e=xd(e),hp(t.stateNode,t.type,e))}}function Vw(t){Bs?zs?zs.push(t):zs=[t]:Bs=t}function Fw(){if(Bs){var t=Bs,e=zs;if(zs=Bs=null,z0(t),e)for(t=0;t<e.length;t++)z0(e[t])}}function Uw(t,e){return t(e)}function Bw(){}var qh=!1;function zw(t,e,n){if(qh)return t(e,n);qh=!0;try{return Uw(t,e,n)}finally{qh=!1,(Bs!==null||zs!==null)&&(Bw(),Fw())}}function Ra(t,e){var n=t.stateNode;if(n===null)return null;var r=xd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(b(231,e,typeof n));return n}var fp=!1;if(hr)try{var $o={};Object.defineProperty($o,"passive",{get:function(){fp=!0}}),window.addEventListener("test",$o,$o),window.removeEventListener("test",$o,$o)}catch{fp=!1}function NC(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var sa=!1,nu=null,ru=!1,pp=null,bC={onError:function(t){sa=!0,nu=t}};function OC(t,e,n,r,i,s,o,a,l){sa=!1,nu=null,NC.apply(bC,arguments)}function jC(t,e,n,r,i,s,o,a,l){if(OC.apply(this,arguments),sa){if(sa){var c=nu;sa=!1,nu=null}else throw Error(b(198));ru||(ru=!0,pp=c)}}function hs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ww(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function W0(t){if(hs(t)!==t)throw Error(b(188))}function LC(t){var e=t.alternate;if(!e){if(e=hs(t),e===null)throw Error(b(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return W0(i),t;if(s===r)return W0(i),e;s=s.sibling}throw Error(b(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(b(189))}}if(n.alternate!==r)throw Error(b(190))}if(n.tag!==3)throw Error(b(188));return n.stateNode.current===n?t:e}function Hw(t){return t=LC(t),t!==null?qw(t):null}function qw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=qw(t);if(e!==null)return e;t=t.sibling}return null}var Kw=Zt.unstable_scheduleCallback,H0=Zt.unstable_cancelCallback,DC=Zt.unstable_shouldYield,MC=Zt.unstable_requestPaint,He=Zt.unstable_now,$C=Zt.unstable_getCurrentPriorityLevel,eg=Zt.unstable_ImmediatePriority,Gw=Zt.unstable_UserBlockingPriority,iu=Zt.unstable_NormalPriority,VC=Zt.unstable_LowPriority,Qw=Zt.unstable_IdlePriority,yd=null,Bn=null;function FC(t){if(Bn&&typeof Bn.onCommitFiberRoot=="function")try{Bn.onCommitFiberRoot(yd,t,void 0,(t.current.flags&128)===128)}catch{}}var Rn=Math.clz32?Math.clz32:zC,UC=Math.log,BC=Math.LN2;function zC(t){return t>>>=0,t===0?32:31-(UC(t)/BC|0)|0}var oc=64,ac=4194304;function Xo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function su(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Xo(a):(s&=o,s!==0&&(r=Xo(s)))}else o=n&~i,o!==0?r=Xo(o):s!==0&&(r=Xo(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Rn(e),i=1<<n,r|=t[n],e&=~i;return r}function WC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function HC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Rn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=WC(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function mp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Xw(){var t=oc;return oc<<=1,!(oc&4194240)&&(oc=64),t}function Kh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function yl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Rn(e),t[e]=n}function qC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Rn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function tg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Rn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var we=0;function Yw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Jw,ng,Zw,ex,tx,gp=!1,lc=[],Hr=null,qr=null,Kr=null,Ca=new Map,ka=new Map,br=[],KC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function q0(t,e){switch(t){case"focusin":case"focusout":Hr=null;break;case"dragenter":case"dragleave":qr=null;break;case"mouseover":case"mouseout":Kr=null;break;case"pointerover":case"pointerout":Ca.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ka.delete(e.pointerId)}}function Vo(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=_l(e),e!==null&&ng(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function GC(t,e,n,r,i){switch(e){case"focusin":return Hr=Vo(Hr,t,e,n,r,i),!0;case"dragenter":return qr=Vo(qr,t,e,n,r,i),!0;case"mouseover":return Kr=Vo(Kr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ca.set(s,Vo(Ca.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ka.set(s,Vo(ka.get(s)||null,t,e,n,r,i)),!0}return!1}function nx(t){var e=ji(t.target);if(e!==null){var n=hs(e);if(n!==null){if(e=n.tag,e===13){if(e=Ww(n),e!==null){t.blockedOn=e,tx(t.priority,function(){Zw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=yp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);dp=r,n.target.dispatchEvent(r),dp=null}else return e=_l(n),e!==null&&ng(e),t.blockedOn=n,!1;e.shift()}return!0}function K0(t,e,n){Lc(t)&&n.delete(e)}function QC(){gp=!1,Hr!==null&&Lc(Hr)&&(Hr=null),qr!==null&&Lc(qr)&&(qr=null),Kr!==null&&Lc(Kr)&&(Kr=null),Ca.forEach(K0),ka.forEach(K0)}function Fo(t,e){t.blockedOn===e&&(t.blockedOn=null,gp||(gp=!0,Zt.unstable_scheduleCallback(Zt.unstable_NormalPriority,QC)))}function Pa(t){function e(i){return Fo(i,t)}if(0<lc.length){Fo(lc[0],t);for(var n=1;n<lc.length;n++){var r=lc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Hr!==null&&Fo(Hr,t),qr!==null&&Fo(qr,t),Kr!==null&&Fo(Kr,t),Ca.forEach(e),ka.forEach(e),n=0;n<br.length;n++)r=br[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<br.length&&(n=br[0],n.blockedOn===null);)nx(n),n.blockedOn===null&&br.shift()}var Ws=Sr.ReactCurrentBatchConfig,ou=!0;function XC(t,e,n,r){var i=we,s=Ws.transition;Ws.transition=null;try{we=1,rg(t,e,n,r)}finally{we=i,Ws.transition=s}}function YC(t,e,n,r){var i=we,s=Ws.transition;Ws.transition=null;try{we=4,rg(t,e,n,r)}finally{we=i,Ws.transition=s}}function rg(t,e,n,r){if(ou){var i=yp(t,e,n,r);if(i===null)rf(t,e,r,au,n),q0(t,r);else if(GC(i,t,e,n,r))r.stopPropagation();else if(q0(t,r),e&4&&-1<KC.indexOf(t)){for(;i!==null;){var s=_l(i);if(s!==null&&Jw(s),s=yp(t,e,n,r),s===null&&rf(t,e,r,au,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else rf(t,e,r,null,n)}}var au=null;function yp(t,e,n,r){if(au=null,t=Zm(r),t=ji(t),t!==null)if(e=hs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Ww(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return au=t,null}function rx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($C()){case eg:return 1;case Gw:return 4;case iu:case VC:return 16;case Qw:return 536870912;default:return 16}default:return 16}}var Fr=null,ig=null,Dc=null;function ix(){if(Dc)return Dc;var t,e=ig,n=e.length,r,i="value"in Fr?Fr.value:Fr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Dc=i.slice(t,1<r?1-r:void 0)}function Mc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function cc(){return!0}function G0(){return!1}function sn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?cc:G0,this.isPropagationStopped=G0,this}return Ve(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=cc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=cc)},persist:function(){},isPersistent:cc}),e}var Eo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sg=sn(Eo),vl=Ve({},Eo,{view:0,detail:0}),JC=sn(vl),Gh,Qh,Uo,vd=Ve({},vl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:og,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Uo&&(Uo&&t.type==="mousemove"?(Gh=t.screenX-Uo.screenX,Qh=t.screenY-Uo.screenY):Qh=Gh=0,Uo=t),Gh)},movementY:function(t){return"movementY"in t?t.movementY:Qh}}),Q0=sn(vd),ZC=Ve({},vd,{dataTransfer:0}),ek=sn(ZC),tk=Ve({},vl,{relatedTarget:0}),Xh=sn(tk),nk=Ve({},Eo,{animationName:0,elapsedTime:0,pseudoElement:0}),rk=sn(nk),ik=Ve({},Eo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sk=sn(ik),ok=Ve({},Eo,{data:0}),X0=sn(ok),ak={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ck={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ck[t])?!!e[t]:!1}function og(){return uk}var dk=Ve({},vl,{key:function(t){if(t.key){var e=ak[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Mc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:og,charCode:function(t){return t.type==="keypress"?Mc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Mc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),hk=sn(dk),fk=Ve({},vd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Y0=sn(fk),pk=Ve({},vl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:og}),mk=sn(pk),gk=Ve({},Eo,{propertyName:0,elapsedTime:0,pseudoElement:0}),yk=sn(gk),vk=Ve({},vd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),_k=sn(vk),wk=[9,13,27,32],ag=hr&&"CompositionEvent"in window,oa=null;hr&&"documentMode"in document&&(oa=document.documentMode);var xk=hr&&"TextEvent"in window&&!oa,sx=hr&&(!ag||oa&&8<oa&&11>=oa),J0=String.fromCharCode(32),Z0=!1;function ox(t,e){switch(t){case"keyup":return wk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ax(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Rs=!1;function Ek(t,e){switch(t){case"compositionend":return ax(e);case"keypress":return e.which!==32?null:(Z0=!0,J0);case"textInput":return t=e.data,t===J0&&Z0?null:t;default:return null}}function Tk(t,e){if(Rs)return t==="compositionend"||!ag&&ox(t,e)?(t=ix(),Dc=ig=Fr=null,Rs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return sx&&e.locale!=="ko"?null:e.data;default:return null}}var Sk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ev(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Sk[t.type]:e==="textarea"}function lx(t,e,n,r){Vw(r),e=lu(e,"onChange"),0<e.length&&(n=new sg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var aa=null,Aa=null;function Ik(t){_x(t,0)}function _d(t){var e=Ps(t);if(bw(e))return t}function Rk(t,e){if(t==="change")return e}var cx=!1;if(hr){var Yh;if(hr){var Jh="oninput"in document;if(!Jh){var tv=document.createElement("div");tv.setAttribute("oninput","return;"),Jh=typeof tv.oninput=="function"}Yh=Jh}else Yh=!1;cx=Yh&&(!document.documentMode||9<document.documentMode)}function nv(){aa&&(aa.detachEvent("onpropertychange",ux),Aa=aa=null)}function ux(t){if(t.propertyName==="value"&&_d(Aa)){var e=[];lx(e,Aa,t,Zm(t)),zw(Ik,e)}}function Ck(t,e,n){t==="focusin"?(nv(),aa=e,Aa=n,aa.attachEvent("onpropertychange",ux)):t==="focusout"&&nv()}function kk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _d(Aa)}function Pk(t,e){if(t==="click")return _d(e)}function Ak(t,e){if(t==="input"||t==="change")return _d(e)}function Nk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var kn=typeof Object.is=="function"?Object.is:Nk;function Na(t,e){if(kn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Zf.call(e,i)||!kn(t[i],e[i]))return!1}return!0}function rv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function iv(t,e){var n=rv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=rv(n)}}function dx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?dx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function hx(){for(var t=window,e=tu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=tu(t.document)}return e}function lg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function bk(t){var e=hx(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&dx(n.ownerDocument.documentElement,n)){if(r!==null&&lg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=iv(n,s);var o=iv(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Ok=hr&&"documentMode"in document&&11>=document.documentMode,Cs=null,vp=null,la=null,_p=!1;function sv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_p||Cs==null||Cs!==tu(r)||(r=Cs,"selectionStart"in r&&lg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),la&&Na(la,r)||(la=r,r=lu(vp,"onSelect"),0<r.length&&(e=new sg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Cs)))}function uc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ks={animationend:uc("Animation","AnimationEnd"),animationiteration:uc("Animation","AnimationIteration"),animationstart:uc("Animation","AnimationStart"),transitionend:uc("Transition","TransitionEnd")},Zh={},fx={};hr&&(fx=document.createElement("div").style,"AnimationEvent"in window||(delete ks.animationend.animation,delete ks.animationiteration.animation,delete ks.animationstart.animation),"TransitionEvent"in window||delete ks.transitionend.transition);function wd(t){if(Zh[t])return Zh[t];if(!ks[t])return t;var e=ks[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in fx)return Zh[t]=e[n];return t}var px=wd("animationend"),mx=wd("animationiteration"),gx=wd("animationstart"),yx=wd("transitionend"),vx=new Map,ov="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vi(t,e){vx.set(t,e),ds(e,[t])}for(var ef=0;ef<ov.length;ef++){var tf=ov[ef],jk=tf.toLowerCase(),Lk=tf[0].toUpperCase()+tf.slice(1);vi(jk,"on"+Lk)}vi(px,"onAnimationEnd");vi(mx,"onAnimationIteration");vi(gx,"onAnimationStart");vi("dblclick","onDoubleClick");vi("focusin","onFocus");vi("focusout","onBlur");vi(yx,"onTransitionEnd");to("onMouseEnter",["mouseout","mouseover"]);to("onMouseLeave",["mouseout","mouseover"]);to("onPointerEnter",["pointerout","pointerover"]);to("onPointerLeave",["pointerout","pointerover"]);ds("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ds("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ds("onBeforeInput",["compositionend","keypress","textInput","paste"]);ds("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ds("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ds("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yo));function av(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,jC(r,e,void 0,t),t.currentTarget=null}function _x(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;av(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;av(i,a,c),s=l}}}if(ru)throw t=pp,ru=!1,pp=null,t}function Ie(t,e){var n=e[Sp];n===void 0&&(n=e[Sp]=new Set);var r=t+"__bubble";n.has(r)||(wx(e,t,2,!1),n.add(r))}function nf(t,e,n){var r=0;e&&(r|=4),wx(n,t,r,e)}var dc="_reactListening"+Math.random().toString(36).slice(2);function ba(t){if(!t[dc]){t[dc]=!0,Cw.forEach(function(n){n!=="selectionchange"&&(Dk.has(n)||nf(n,!1,t),nf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[dc]||(e[dc]=!0,nf("selectionchange",!1,e))}}function wx(t,e,n,r){switch(rx(e)){case 1:var i=XC;break;case 4:i=YC;break;default:i=rg}n=i.bind(null,e,n,t),i=void 0,!fp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function rf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ji(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}zw(function(){var c=s,d=Zm(n),h=[];e:{var p=vx.get(t);if(p!==void 0){var m=sg,v=t;switch(t){case"keypress":if(Mc(n)===0)break e;case"keydown":case"keyup":m=hk;break;case"focusin":v="focus",m=Xh;break;case"focusout":v="blur",m=Xh;break;case"beforeblur":case"afterblur":m=Xh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Q0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=ek;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=mk;break;case px:case mx:case gx:m=rk;break;case yx:m=yk;break;case"scroll":m=JC;break;case"wheel":m=_k;break;case"copy":case"cut":case"paste":m=sk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Y0}var w=(e&4)!==0,x=!w&&t==="scroll",y=w?p!==null?p+"Capture":null:p;w=[];for(var g=c,_;g!==null;){_=g;var E=_.stateNode;if(_.tag===5&&E!==null&&(_=E,y!==null&&(E=Ra(g,y),E!=null&&w.push(Oa(g,E,_)))),x)break;g=g.return}0<w.length&&(p=new m(p,v,null,n,d),h.push({event:p,listeners:w}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==dp&&(v=n.relatedTarget||n.fromElement)&&(ji(v)||v[fr]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=c,v=v?ji(v):null,v!==null&&(x=hs(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(w=Q0,E="onMouseLeave",y="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(w=Y0,E="onPointerLeave",y="onPointerEnter",g="pointer"),x=m==null?p:Ps(m),_=v==null?p:Ps(v),p=new w(E,g+"leave",m,n,d),p.target=x,p.relatedTarget=_,E=null,ji(d)===c&&(w=new w(y,g+"enter",v,n,d),w.target=_,w.relatedTarget=x,E=w),x=E,m&&v)t:{for(w=m,y=v,g=0,_=w;_;_=vs(_))g++;for(_=0,E=y;E;E=vs(E))_++;for(;0<g-_;)w=vs(w),g--;for(;0<_-g;)y=vs(y),_--;for(;g--;){if(w===y||y!==null&&w===y.alternate)break t;w=vs(w),y=vs(y)}w=null}else w=null;m!==null&&lv(h,p,m,w,!1),v!==null&&x!==null&&lv(h,x,v,w,!0)}}e:{if(p=c?Ps(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var T=Rk;else if(ev(p))if(cx)T=Ak;else{T=kk;var R=Ck}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(T=Pk);if(T&&(T=T(t,c))){lx(h,T,n,d);break e}R&&R(t,p,c),t==="focusout"&&(R=p._wrapperState)&&R.controlled&&p.type==="number"&&op(p,"number",p.value)}switch(R=c?Ps(c):window,t){case"focusin":(ev(R)||R.contentEditable==="true")&&(Cs=R,vp=c,la=null);break;case"focusout":la=vp=Cs=null;break;case"mousedown":_p=!0;break;case"contextmenu":case"mouseup":case"dragend":_p=!1,sv(h,n,d);break;case"selectionchange":if(Ok)break;case"keydown":case"keyup":sv(h,n,d)}var I;if(ag)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Rs?ox(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(sx&&n.locale!=="ko"&&(Rs||S!=="onCompositionStart"?S==="onCompositionEnd"&&Rs&&(I=ix()):(Fr=d,ig="value"in Fr?Fr.value:Fr.textContent,Rs=!0)),R=lu(c,S),0<R.length&&(S=new X0(S,t,null,n,d),h.push({event:S,listeners:R}),I?S.data=I:(I=ax(n),I!==null&&(S.data=I)))),(I=xk?Ek(t,n):Tk(t,n))&&(c=lu(c,"onBeforeInput"),0<c.length&&(d=new X0("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=I))}_x(h,e)})}function Oa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function lu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ra(t,n),s!=null&&r.unshift(Oa(t,s,i)),s=Ra(t,e),s!=null&&r.push(Oa(t,s,i))),t=t.return}return r}function vs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function lv(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Ra(n,s),l!=null&&o.unshift(Oa(n,l,a))):i||(l=Ra(n,s),l!=null&&o.push(Oa(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Mk=/\r\n?/g,$k=/\u0000|\uFFFD/g;function cv(t){return(typeof t=="string"?t:""+t).replace(Mk,`
`).replace($k,"")}function hc(t,e,n){if(e=cv(e),cv(t)!==e&&n)throw Error(b(425))}function cu(){}var wp=null,xp=null;function Ep(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Tp=typeof setTimeout=="function"?setTimeout:void 0,Vk=typeof clearTimeout=="function"?clearTimeout:void 0,uv=typeof Promise=="function"?Promise:void 0,Fk=typeof queueMicrotask=="function"?queueMicrotask:typeof uv<"u"?function(t){return uv.resolve(null).then(t).catch(Uk)}:Tp;function Uk(t){setTimeout(function(){throw t})}function sf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Pa(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Pa(e)}function Gr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function dv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var To=Math.random().toString(36).slice(2),Ln="__reactFiber$"+To,ja="__reactProps$"+To,fr="__reactContainer$"+To,Sp="__reactEvents$"+To,Bk="__reactListeners$"+To,zk="__reactHandles$"+To;function ji(t){var e=t[Ln];if(e)return e;for(var n=t.parentNode;n;){if(e=n[fr]||n[Ln]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=dv(t);t!==null;){if(n=t[Ln])return n;t=dv(t)}return e}t=n,n=t.parentNode}return null}function _l(t){return t=t[Ln]||t[fr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ps(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(b(33))}function xd(t){return t[ja]||null}var Ip=[],As=-1;function _i(t){return{current:t}}function Pe(t){0>As||(t.current=Ip[As],Ip[As]=null,As--)}function Se(t,e){As++,Ip[As]=t.current,t.current=e}var oi={},kt=_i(oi),zt=_i(!1),Qi=oi;function no(t,e){var n=t.type.contextTypes;if(!n)return oi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Wt(t){return t=t.childContextTypes,t!=null}function uu(){Pe(zt),Pe(kt)}function hv(t,e,n){if(kt.current!==oi)throw Error(b(168));Se(kt,e),Se(zt,n)}function xx(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(b(108,CC(t)||"Unknown",i));return Ve({},n,r)}function du(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||oi,Qi=kt.current,Se(kt,t),Se(zt,zt.current),!0}function fv(t,e,n){var r=t.stateNode;if(!r)throw Error(b(169));n?(t=xx(t,e,Qi),r.__reactInternalMemoizedMergedChildContext=t,Pe(zt),Pe(kt),Se(kt,t)):Pe(zt),Se(zt,n)}var nr=null,Ed=!1,of=!1;function Ex(t){nr===null?nr=[t]:nr.push(t)}function Wk(t){Ed=!0,Ex(t)}function wi(){if(!of&&nr!==null){of=!0;var t=0,e=we;try{var n=nr;for(we=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}nr=null,Ed=!1}catch(i){throw nr!==null&&(nr=nr.slice(t+1)),Kw(eg,wi),i}finally{we=e,of=!1}}return null}var Ns=[],bs=0,hu=null,fu=0,un=[],dn=0,Xi=null,rr=1,ir="";function Ai(t,e){Ns[bs++]=fu,Ns[bs++]=hu,hu=t,fu=e}function Tx(t,e,n){un[dn++]=rr,un[dn++]=ir,un[dn++]=Xi,Xi=t;var r=rr;t=ir;var i=32-Rn(r)-1;r&=~(1<<i),n+=1;var s=32-Rn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,rr=1<<32-Rn(e)+i|n<<i|r,ir=s+t}else rr=1<<s|n<<i|r,ir=t}function cg(t){t.return!==null&&(Ai(t,1),Tx(t,1,0))}function ug(t){for(;t===hu;)hu=Ns[--bs],Ns[bs]=null,fu=Ns[--bs],Ns[bs]=null;for(;t===Xi;)Xi=un[--dn],un[dn]=null,ir=un[--dn],un[dn]=null,rr=un[--dn],un[dn]=null}var Yt=null,Qt=null,je=!1,Tn=null;function Sx(t,e){var n=pn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function pv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Yt=t,Qt=Gr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Yt=t,Qt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Xi!==null?{id:rr,overflow:ir}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=pn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Yt=t,Qt=null,!0):!1;default:return!1}}function Rp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Cp(t){if(je){var e=Qt;if(e){var n=e;if(!pv(t,e)){if(Rp(t))throw Error(b(418));e=Gr(n.nextSibling);var r=Yt;e&&pv(t,e)?Sx(r,n):(t.flags=t.flags&-4097|2,je=!1,Yt=t)}}else{if(Rp(t))throw Error(b(418));t.flags=t.flags&-4097|2,je=!1,Yt=t}}}function mv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Yt=t}function fc(t){if(t!==Yt)return!1;if(!je)return mv(t),je=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ep(t.type,t.memoizedProps)),e&&(e=Qt)){if(Rp(t))throw Ix(),Error(b(418));for(;e;)Sx(t,e),e=Gr(e.nextSibling)}if(mv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(b(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Qt=Gr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Qt=null}}else Qt=Yt?Gr(t.stateNode.nextSibling):null;return!0}function Ix(){for(var t=Qt;t;)t=Gr(t.nextSibling)}function ro(){Qt=Yt=null,je=!1}function dg(t){Tn===null?Tn=[t]:Tn.push(t)}var Hk=Sr.ReactCurrentBatchConfig;function xn(t,e){if(t&&t.defaultProps){e=Ve({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var pu=_i(null),mu=null,Os=null,hg=null;function fg(){hg=Os=mu=null}function pg(t){var e=pu.current;Pe(pu),t._currentValue=e}function kp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Hs(t,e){mu=t,hg=Os=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Bt=!0),t.firstContext=null)}function gn(t){var e=t._currentValue;if(hg!==t)if(t={context:t,memoizedValue:e,next:null},Os===null){if(mu===null)throw Error(b(308));Os=t,mu.dependencies={lanes:0,firstContext:t}}else Os=Os.next=t;return e}var Li=null;function mg(t){Li===null?Li=[t]:Li.push(t)}function Rx(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,mg(e)):(n.next=i.next,i.next=n),e.interleaved=n,pr(t,r)}function pr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Nr=!1;function gg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function lr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Qr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ge&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,pr(t,n)}return i=r.interleaved,i===null?(e.next=e,mg(r)):(e.next=i.next,i.next=e),r.interleaved=e,pr(t,n)}function $c(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,tg(t,n)}}function gv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function gu(t,e,n,r){var i=t.updateQueue;Nr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=c=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,w=a;switch(p=e,m=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){h=v.call(m,h,p);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,p=typeof v=="function"?v.call(m,h,p):v,p==null)break e;h=Ve({},h,p);break e;case 2:Nr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=h):d=d.next=m,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ji|=o,t.lanes=o,t.memoizedState=h}}function yv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(b(191,i));i.call(r)}}}var kx=new Rw.Component().refs;function Pp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ve({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Td={isMounted:function(t){return(t=t._reactInternals)?hs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Lt(),i=Yr(t),s=lr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Qr(t,s,i),e!==null&&(Cn(e,t,i,r),$c(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Lt(),i=Yr(t),s=lr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Qr(t,s,i),e!==null&&(Cn(e,t,i,r),$c(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Lt(),r=Yr(t),i=lr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Qr(t,i,r),e!==null&&(Cn(e,t,r,n),$c(e,t,r))}};function vv(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Na(n,r)||!Na(i,s):!0}function Px(t,e,n){var r=!1,i=oi,s=e.contextType;return typeof s=="object"&&s!==null?s=gn(s):(i=Wt(e)?Qi:kt.current,r=e.contextTypes,s=(r=r!=null)?no(t,i):oi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Td,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function _v(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Td.enqueueReplaceState(e,e.state,null)}function Ap(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=kx,gg(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=gn(s):(s=Wt(e)?Qi:kt.current,i.context=no(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Pp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Td.enqueueReplaceState(i,i.state,null),gu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Bo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(b(309));var r=n.stateNode}if(!r)throw Error(b(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===kx&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(b(284));if(!n._owner)throw Error(b(290,t))}return t}function pc(t,e){throw t=Object.prototype.toString.call(e),Error(b(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function wv(t){var e=t._init;return e(t._payload)}function Ax(t){function e(y,g){if(t){var _=y.deletions;_===null?(y.deletions=[g],y.flags|=16):_.push(g)}}function n(y,g){if(!t)return null;for(;g!==null;)e(y,g),g=g.sibling;return null}function r(y,g){for(y=new Map;g!==null;)g.key!==null?y.set(g.key,g):y.set(g.index,g),g=g.sibling;return y}function i(y,g){return y=Jr(y,g),y.index=0,y.sibling=null,y}function s(y,g,_){return y.index=_,t?(_=y.alternate,_!==null?(_=_.index,_<g?(y.flags|=2,g):_):(y.flags|=2,g)):(y.flags|=1048576,g)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,g,_,E){return g===null||g.tag!==6?(g=ff(_,y.mode,E),g.return=y,g):(g=i(g,_),g.return=y,g)}function l(y,g,_,E){var T=_.type;return T===Is?d(y,g,_.props.children,E,_.key):g!==null&&(g.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Ar&&wv(T)===g.type)?(E=i(g,_.props),E.ref=Bo(y,g,_),E.return=y,E):(E=Wc(_.type,_.key,_.props,null,y.mode,E),E.ref=Bo(y,g,_),E.return=y,E)}function c(y,g,_,E){return g===null||g.tag!==4||g.stateNode.containerInfo!==_.containerInfo||g.stateNode.implementation!==_.implementation?(g=pf(_,y.mode,E),g.return=y,g):(g=i(g,_.children||[]),g.return=y,g)}function d(y,g,_,E,T){return g===null||g.tag!==7?(g=zi(_,y.mode,E,T),g.return=y,g):(g=i(g,_),g.return=y,g)}function h(y,g,_){if(typeof g=="string"&&g!==""||typeof g=="number")return g=ff(""+g,y.mode,_),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case rc:return _=Wc(g.type,g.key,g.props,null,y.mode,_),_.ref=Bo(y,null,g),_.return=y,_;case Ss:return g=pf(g,y.mode,_),g.return=y,g;case Ar:var E=g._init;return h(y,E(g._payload),_)}if(Qo(g)||Mo(g))return g=zi(g,y.mode,_,null),g.return=y,g;pc(y,g)}return null}function p(y,g,_,E){var T=g!==null?g.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return T!==null?null:a(y,g,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case rc:return _.key===T?l(y,g,_,E):null;case Ss:return _.key===T?c(y,g,_,E):null;case Ar:return T=_._init,p(y,g,T(_._payload),E)}if(Qo(_)||Mo(_))return T!==null?null:d(y,g,_,E,null);pc(y,_)}return null}function m(y,g,_,E,T){if(typeof E=="string"&&E!==""||typeof E=="number")return y=y.get(_)||null,a(g,y,""+E,T);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case rc:return y=y.get(E.key===null?_:E.key)||null,l(g,y,E,T);case Ss:return y=y.get(E.key===null?_:E.key)||null,c(g,y,E,T);case Ar:var R=E._init;return m(y,g,_,R(E._payload),T)}if(Qo(E)||Mo(E))return y=y.get(_)||null,d(g,y,E,T,null);pc(g,E)}return null}function v(y,g,_,E){for(var T=null,R=null,I=g,S=g=0,A=null;I!==null&&S<_.length;S++){I.index>S?(A=I,I=null):A=I.sibling;var k=p(y,I,_[S],E);if(k===null){I===null&&(I=A);break}t&&I&&k.alternate===null&&e(y,I),g=s(k,g,S),R===null?T=k:R.sibling=k,R=k,I=A}if(S===_.length)return n(y,I),je&&Ai(y,S),T;if(I===null){for(;S<_.length;S++)I=h(y,_[S],E),I!==null&&(g=s(I,g,S),R===null?T=I:R.sibling=I,R=I);return je&&Ai(y,S),T}for(I=r(y,I);S<_.length;S++)A=m(I,y,S,_[S],E),A!==null&&(t&&A.alternate!==null&&I.delete(A.key===null?S:A.key),g=s(A,g,S),R===null?T=A:R.sibling=A,R=A);return t&&I.forEach(function(N){return e(y,N)}),je&&Ai(y,S),T}function w(y,g,_,E){var T=Mo(_);if(typeof T!="function")throw Error(b(150));if(_=T.call(_),_==null)throw Error(b(151));for(var R=T=null,I=g,S=g=0,A=null,k=_.next();I!==null&&!k.done;S++,k=_.next()){I.index>S?(A=I,I=null):A=I.sibling;var N=p(y,I,k.value,E);if(N===null){I===null&&(I=A);break}t&&I&&N.alternate===null&&e(y,I),g=s(N,g,S),R===null?T=N:R.sibling=N,R=N,I=A}if(k.done)return n(y,I),je&&Ai(y,S),T;if(I===null){for(;!k.done;S++,k=_.next())k=h(y,k.value,E),k!==null&&(g=s(k,g,S),R===null?T=k:R.sibling=k,R=k);return je&&Ai(y,S),T}for(I=r(y,I);!k.done;S++,k=_.next())k=m(I,y,S,k.value,E),k!==null&&(t&&k.alternate!==null&&I.delete(k.key===null?S:k.key),g=s(k,g,S),R===null?T=k:R.sibling=k,R=k);return t&&I.forEach(function(H){return e(y,H)}),je&&Ai(y,S),T}function x(y,g,_,E){if(typeof _=="object"&&_!==null&&_.type===Is&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case rc:e:{for(var T=_.key,R=g;R!==null;){if(R.key===T){if(T=_.type,T===Is){if(R.tag===7){n(y,R.sibling),g=i(R,_.props.children),g.return=y,y=g;break e}}else if(R.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Ar&&wv(T)===R.type){n(y,R.sibling),g=i(R,_.props),g.ref=Bo(y,R,_),g.return=y,y=g;break e}n(y,R);break}else e(y,R);R=R.sibling}_.type===Is?(g=zi(_.props.children,y.mode,E,_.key),g.return=y,y=g):(E=Wc(_.type,_.key,_.props,null,y.mode,E),E.ref=Bo(y,g,_),E.return=y,y=E)}return o(y);case Ss:e:{for(R=_.key;g!==null;){if(g.key===R)if(g.tag===4&&g.stateNode.containerInfo===_.containerInfo&&g.stateNode.implementation===_.implementation){n(y,g.sibling),g=i(g,_.children||[]),g.return=y,y=g;break e}else{n(y,g);break}else e(y,g);g=g.sibling}g=pf(_,y.mode,E),g.return=y,y=g}return o(y);case Ar:return R=_._init,x(y,g,R(_._payload),E)}if(Qo(_))return v(y,g,_,E);if(Mo(_))return w(y,g,_,E);pc(y,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,g!==null&&g.tag===6?(n(y,g.sibling),g=i(g,_),g.return=y,y=g):(n(y,g),g=ff(_,y.mode,E),g.return=y,y=g),o(y)):n(y,g)}return x}var io=Ax(!0),Nx=Ax(!1),wl={},zn=_i(wl),La=_i(wl),Da=_i(wl);function Di(t){if(t===wl)throw Error(b(174));return t}function yg(t,e){switch(Se(Da,e),Se(La,t),Se(zn,wl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=lp(e,t)}Pe(zn),Se(zn,e)}function so(){Pe(zn),Pe(La),Pe(Da)}function bx(t){Di(Da.current);var e=Di(zn.current),n=lp(e,t.type);e!==n&&(Se(La,t),Se(zn,n))}function vg(t){La.current===t&&(Pe(zn),Pe(La))}var Me=_i(0);function yu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var af=[];function _g(){for(var t=0;t<af.length;t++)af[t]._workInProgressVersionPrimary=null;af.length=0}var Vc=Sr.ReactCurrentDispatcher,lf=Sr.ReactCurrentBatchConfig,Yi=0,$e=null,Ze=null,it=null,vu=!1,ca=!1,Ma=0,qk=0;function yt(){throw Error(b(321))}function wg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!kn(t[n],e[n]))return!1;return!0}function xg(t,e,n,r,i,s){if(Yi=s,$e=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Vc.current=t===null||t.memoizedState===null?Xk:Yk,t=n(r,i),ca){s=0;do{if(ca=!1,Ma=0,25<=s)throw Error(b(301));s+=1,it=Ze=null,e.updateQueue=null,Vc.current=Jk,t=n(r,i)}while(ca)}if(Vc.current=_u,e=Ze!==null&&Ze.next!==null,Yi=0,it=Ze=$e=null,vu=!1,e)throw Error(b(300));return t}function Eg(){var t=Ma!==0;return Ma=0,t}function jn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?$e.memoizedState=it=t:it=it.next=t,it}function yn(){if(Ze===null){var t=$e.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var e=it===null?$e.memoizedState:it.next;if(e!==null)it=e,Ze=t;else{if(t===null)throw Error(b(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},it===null?$e.memoizedState=it=t:it=it.next=t}return it}function $a(t,e){return typeof e=="function"?e(t):e}function cf(t){var e=yn(),n=e.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=t;var r=Ze,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((Yi&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,$e.lanes|=d,Ji|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,kn(r,e.memoizedState)||(Bt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,$e.lanes|=s,Ji|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function uf(t){var e=yn(),n=e.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);kn(s,e.memoizedState)||(Bt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Ox(){}function jx(t,e){var n=$e,r=yn(),i=e(),s=!kn(r.memoizedState,i);if(s&&(r.memoizedState=i,Bt=!0),r=r.queue,Tg(Mx.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||it!==null&&it.memoizedState.tag&1){if(n.flags|=2048,Va(9,Dx.bind(null,n,r,i,e),void 0,null),st===null)throw Error(b(349));Yi&30||Lx(n,e,i)}return i}function Lx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Dx(t,e,n,r){e.value=n,e.getSnapshot=r,$x(e)&&Vx(t)}function Mx(t,e,n){return n(function(){$x(e)&&Vx(t)})}function $x(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!kn(t,n)}catch{return!0}}function Vx(t){var e=pr(t,1);e!==null&&Cn(e,t,1,-1)}function xv(t){var e=jn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$a,lastRenderedState:t},e.queue=t,t=t.dispatch=Qk.bind(null,$e,t),[e.memoizedState,t]}function Va(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Fx(){return yn().memoizedState}function Fc(t,e,n,r){var i=jn();$e.flags|=t,i.memoizedState=Va(1|e,n,void 0,r===void 0?null:r)}function Sd(t,e,n,r){var i=yn();r=r===void 0?null:r;var s=void 0;if(Ze!==null){var o=Ze.memoizedState;if(s=o.destroy,r!==null&&wg(r,o.deps)){i.memoizedState=Va(e,n,s,r);return}}$e.flags|=t,i.memoizedState=Va(1|e,n,s,r)}function Ev(t,e){return Fc(8390656,8,t,e)}function Tg(t,e){return Sd(2048,8,t,e)}function Ux(t,e){return Sd(4,2,t,e)}function Bx(t,e){return Sd(4,4,t,e)}function zx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Wx(t,e,n){return n=n!=null?n.concat([t]):null,Sd(4,4,zx.bind(null,e,t),n)}function Sg(){}function Hx(t,e){var n=yn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function qx(t,e){var n=yn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Kx(t,e,n){return Yi&21?(kn(n,e)||(n=Xw(),$e.lanes|=n,Ji|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Bt=!0),t.memoizedState=n)}function Kk(t,e){var n=we;we=n!==0&&4>n?n:4,t(!0);var r=lf.transition;lf.transition={};try{t(!1),e()}finally{we=n,lf.transition=r}}function Gx(){return yn().memoizedState}function Gk(t,e,n){var r=Yr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qx(t))Xx(e,n);else if(n=Rx(t,e,n,r),n!==null){var i=Lt();Cn(n,t,r,i),Yx(n,e,r)}}function Qk(t,e,n){var r=Yr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qx(t))Xx(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,kn(a,o)){var l=e.interleaved;l===null?(i.next=i,mg(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Rx(t,e,i,r),n!==null&&(i=Lt(),Cn(n,t,r,i),Yx(n,e,r))}}function Qx(t){var e=t.alternate;return t===$e||e!==null&&e===$e}function Xx(t,e){ca=vu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Yx(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,tg(t,n)}}var _u={readContext:gn,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useInsertionEffect:yt,useLayoutEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useMutableSource:yt,useSyncExternalStore:yt,useId:yt,unstable_isNewReconciler:!1},Xk={readContext:gn,useCallback:function(t,e){return jn().memoizedState=[t,e===void 0?null:e],t},useContext:gn,useEffect:Ev,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Fc(4194308,4,zx.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Fc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Fc(4,2,t,e)},useMemo:function(t,e){var n=jn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=jn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Gk.bind(null,$e,t),[r.memoizedState,t]},useRef:function(t){var e=jn();return t={current:t},e.memoizedState=t},useState:xv,useDebugValue:Sg,useDeferredValue:function(t){return jn().memoizedState=t},useTransition:function(){var t=xv(!1),e=t[0];return t=Kk.bind(null,t[1]),jn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=$e,i=jn();if(je){if(n===void 0)throw Error(b(407));n=n()}else{if(n=e(),st===null)throw Error(b(349));Yi&30||Lx(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Ev(Mx.bind(null,r,s,t),[t]),r.flags|=2048,Va(9,Dx.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=jn(),e=st.identifierPrefix;if(je){var n=ir,r=rr;n=(r&~(1<<32-Rn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ma++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=qk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Yk={readContext:gn,useCallback:Hx,useContext:gn,useEffect:Tg,useImperativeHandle:Wx,useInsertionEffect:Ux,useLayoutEffect:Bx,useMemo:qx,useReducer:cf,useRef:Fx,useState:function(){return cf($a)},useDebugValue:Sg,useDeferredValue:function(t){var e=yn();return Kx(e,Ze.memoizedState,t)},useTransition:function(){var t=cf($a)[0],e=yn().memoizedState;return[t,e]},useMutableSource:Ox,useSyncExternalStore:jx,useId:Gx,unstable_isNewReconciler:!1},Jk={readContext:gn,useCallback:Hx,useContext:gn,useEffect:Tg,useImperativeHandle:Wx,useInsertionEffect:Ux,useLayoutEffect:Bx,useMemo:qx,useReducer:uf,useRef:Fx,useState:function(){return uf($a)},useDebugValue:Sg,useDeferredValue:function(t){var e=yn();return Ze===null?e.memoizedState=t:Kx(e,Ze.memoizedState,t)},useTransition:function(){var t=uf($a)[0],e=yn().memoizedState;return[t,e]},useMutableSource:Ox,useSyncExternalStore:jx,useId:Gx,unstable_isNewReconciler:!1};function oo(t,e){try{var n="",r=e;do n+=RC(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function df(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Np(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Zk=typeof WeakMap=="function"?WeakMap:Map;function Jx(t,e,n){n=lr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){xu||(xu=!0,Up=r),Np(t,e)},n}function Zx(t,e,n){n=lr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Np(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Np(t,e),typeof r!="function"&&(Xr===null?Xr=new Set([this]):Xr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Tv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Zk;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=fP.bind(null,t,e,n),e.then(t,t))}function Sv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Iv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=lr(-1,1),e.tag=2,Qr(n,e,1))),n.lanes|=1),t)}var eP=Sr.ReactCurrentOwner,Bt=!1;function bt(t,e,n,r){e.child=t===null?Nx(e,null,n,r):io(e,t.child,n,r)}function Rv(t,e,n,r,i){n=n.render;var s=e.ref;return Hs(e,i),r=xg(t,e,n,r,s,i),n=Eg(),t!==null&&!Bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,mr(t,e,i)):(je&&n&&cg(e),e.flags|=1,bt(t,e,r,i),e.child)}function Cv(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!bg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,eE(t,e,s,r,i)):(t=Wc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Na,n(o,r)&&t.ref===e.ref)return mr(t,e,i)}return e.flags|=1,t=Jr(s,r),t.ref=e.ref,t.return=e,e.child=t}function eE(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Na(s,r)&&t.ref===e.ref)if(Bt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Bt=!0);else return e.lanes=t.lanes,mr(t,e,i)}return bp(t,e,n,r,i)}function tE(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Se(Ls,Gt),Gt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Se(Ls,Gt),Gt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Se(Ls,Gt),Gt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Se(Ls,Gt),Gt|=r;return bt(t,e,i,n),e.child}function nE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function bp(t,e,n,r,i){var s=Wt(n)?Qi:kt.current;return s=no(e,s),Hs(e,i),n=xg(t,e,n,r,s,i),r=Eg(),t!==null&&!Bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,mr(t,e,i)):(je&&r&&cg(e),e.flags|=1,bt(t,e,n,i),e.child)}function kv(t,e,n,r,i){if(Wt(n)){var s=!0;du(e)}else s=!1;if(Hs(e,i),e.stateNode===null)Uc(t,e),Px(e,n,r),Ap(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=gn(c):(c=Wt(n)?Qi:kt.current,c=no(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&_v(e,o,r,c),Nr=!1;var p=e.memoizedState;o.state=p,gu(e,r,o,i),l=e.memoizedState,a!==r||p!==l||zt.current||Nr?(typeof d=="function"&&(Pp(e,n,d,r),l=e.memoizedState),(a=Nr||vv(e,n,a,r,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Cx(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:xn(e.type,a),o.props=c,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=gn(l):(l=Wt(n)?Qi:kt.current,l=no(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&_v(e,o,r,l),Nr=!1,p=e.memoizedState,o.state=p,gu(e,r,o,i);var v=e.memoizedState;a!==h||p!==v||zt.current||Nr?(typeof m=="function"&&(Pp(e,n,m,r),v=e.memoizedState),(c=Nr||vv(e,n,c,r,p,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Op(t,e,n,r,s,i)}function Op(t,e,n,r,i,s){nE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&fv(e,n,!1),mr(t,e,s);r=e.stateNode,eP.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=io(e,t.child,null,s),e.child=io(e,null,a,s)):bt(t,e,a,s),e.memoizedState=r.state,i&&fv(e,n,!0),e.child}function rE(t){var e=t.stateNode;e.pendingContext?hv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&hv(t,e.context,!1),yg(t,e.containerInfo)}function Pv(t,e,n,r,i){return ro(),dg(i),e.flags|=256,bt(t,e,n,r),e.child}var jp={dehydrated:null,treeContext:null,retryLane:0};function Lp(t){return{baseLanes:t,cachePool:null,transitions:null}}function iE(t,e,n){var r=e.pendingProps,i=Me.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Se(Me,i&1),t===null)return Cp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Cd(o,r,0,null),t=zi(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Lp(n),e.memoizedState=jp,t):Ig(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return tP(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Jr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Jr(a,s):(s=zi(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Lp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=jp,r}return s=t.child,t=s.sibling,r=Jr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ig(t,e){return e=Cd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function mc(t,e,n,r){return r!==null&&dg(r),io(e,t.child,null,n),t=Ig(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function tP(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=df(Error(b(422))),mc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Cd({mode:"visible",children:r.children},i,0,null),s=zi(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&io(e,t.child,null,o),e.child.memoizedState=Lp(o),e.memoizedState=jp,s);if(!(e.mode&1))return mc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(b(419)),r=df(s,r,void 0),mc(t,e,o,r)}if(a=(o&t.childLanes)!==0,Bt||a){if(r=st,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,pr(t,i),Cn(r,t,i,-1))}return Ng(),r=df(Error(b(421))),mc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=pP.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Qt=Gr(i.nextSibling),Yt=e,je=!0,Tn=null,t!==null&&(un[dn++]=rr,un[dn++]=ir,un[dn++]=Xi,rr=t.id,ir=t.overflow,Xi=e),e=Ig(e,r.children),e.flags|=4096,e)}function Av(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),kp(t.return,e,n)}function hf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function sE(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(bt(t,e,r.children,n),r=Me.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Av(t,n,e);else if(t.tag===19)Av(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Se(Me,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&yu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),hf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&yu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}hf(e,!0,n,null,s);break;case"together":hf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Uc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function mr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ji|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(b(153));if(e.child!==null){for(t=e.child,n=Jr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Jr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function nP(t,e,n){switch(e.tag){case 3:rE(e),ro();break;case 5:bx(e);break;case 1:Wt(e.type)&&du(e);break;case 4:yg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Se(pu,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Se(Me,Me.current&1),e.flags|=128,null):n&e.child.childLanes?iE(t,e,n):(Se(Me,Me.current&1),t=mr(t,e,n),t!==null?t.sibling:null);Se(Me,Me.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return sE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Se(Me,Me.current),r)break;return null;case 22:case 23:return e.lanes=0,tE(t,e,n)}return mr(t,e,n)}var oE,Dp,aE,lE;oE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Dp=function(){};aE=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Di(zn.current);var s=null;switch(n){case"input":i=ip(t,i),r=ip(t,r),s=[];break;case"select":i=Ve({},i,{value:void 0}),r=Ve({},r,{value:void 0}),s=[];break;case"textarea":i=ap(t,i),r=ap(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=cu)}cp(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Sa.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Sa.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ie("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};lE=function(t,e,n,r){n!==r&&(e.flags|=4)};function zo(t,e){if(!je)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function vt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function rP(t,e,n){var r=e.pendingProps;switch(ug(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(e),null;case 1:return Wt(e.type)&&uu(),vt(e),null;case 3:return r=e.stateNode,so(),Pe(zt),Pe(kt),_g(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(fc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Tn!==null&&(Wp(Tn),Tn=null))),Dp(t,e),vt(e),null;case 5:vg(e);var i=Di(Da.current);if(n=e.type,t!==null&&e.stateNode!=null)aE(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(b(166));return vt(e),null}if(t=Di(zn.current),fc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Ln]=e,r[ja]=s,t=(e.mode&1)!==0,n){case"dialog":Ie("cancel",r),Ie("close",r);break;case"iframe":case"object":case"embed":Ie("load",r);break;case"video":case"audio":for(i=0;i<Yo.length;i++)Ie(Yo[i],r);break;case"source":Ie("error",r);break;case"img":case"image":case"link":Ie("error",r),Ie("load",r);break;case"details":Ie("toggle",r);break;case"input":V0(r,s),Ie("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ie("invalid",r);break;case"textarea":U0(r,s),Ie("invalid",r)}cp(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&hc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&hc(r.textContent,a,t),i=["children",""+a]):Sa.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ie("scroll",r)}switch(n){case"input":ic(r),F0(r,s,!0);break;case"textarea":ic(r),B0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=cu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Lw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ln]=e,t[ja]=r,oE(t,e,!1,!1),e.stateNode=t;e:{switch(o=up(n,r),n){case"dialog":Ie("cancel",t),Ie("close",t),i=r;break;case"iframe":case"object":case"embed":Ie("load",t),i=r;break;case"video":case"audio":for(i=0;i<Yo.length;i++)Ie(Yo[i],t);i=r;break;case"source":Ie("error",t),i=r;break;case"img":case"image":case"link":Ie("error",t),Ie("load",t),i=r;break;case"details":Ie("toggle",t),i=r;break;case"input":V0(t,r),i=ip(t,r),Ie("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ve({},r,{value:void 0}),Ie("invalid",t);break;case"textarea":U0(t,r),i=ap(t,r),Ie("invalid",t);break;default:i=r}cp(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?$w(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Dw(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ia(t,l):typeof l=="number"&&Ia(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Sa.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ie("scroll",t):l!=null&&Qm(t,s,l,o))}switch(n){case"input":ic(t),F0(t,r,!1);break;case"textarea":ic(t),B0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+si(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Us(t,!!r.multiple,s,!1):r.defaultValue!=null&&Us(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=cu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return vt(e),null;case 6:if(t&&e.stateNode!=null)lE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(b(166));if(n=Di(Da.current),Di(zn.current),fc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ln]=e,(s=r.nodeValue!==n)&&(t=Yt,t!==null))switch(t.tag){case 3:hc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&hc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ln]=e,e.stateNode=r}return vt(e),null;case 13:if(Pe(Me),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(je&&Qt!==null&&e.mode&1&&!(e.flags&128))Ix(),ro(),e.flags|=98560,s=!1;else if(s=fc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(b(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(b(317));s[Ln]=e}else ro(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;vt(e),s=!1}else Tn!==null&&(Wp(Tn),Tn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Me.current&1?tt===0&&(tt=3):Ng())),e.updateQueue!==null&&(e.flags|=4),vt(e),null);case 4:return so(),Dp(t,e),t===null&&ba(e.stateNode.containerInfo),vt(e),null;case 10:return pg(e.type._context),vt(e),null;case 17:return Wt(e.type)&&uu(),vt(e),null;case 19:if(Pe(Me),s=e.memoizedState,s===null)return vt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)zo(s,!1);else{if(tt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=yu(t),o!==null){for(e.flags|=128,zo(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Se(Me,Me.current&1|2),e.child}t=t.sibling}s.tail!==null&&He()>ao&&(e.flags|=128,r=!0,zo(s,!1),e.lanes=4194304)}else{if(!r)if(t=yu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),zo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!je)return vt(e),null}else 2*He()-s.renderingStartTime>ao&&n!==1073741824&&(e.flags|=128,r=!0,zo(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=He(),e.sibling=null,n=Me.current,Se(Me,r?n&1|2:n&1),e):(vt(e),null);case 22:case 23:return Ag(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Gt&1073741824&&(vt(e),e.subtreeFlags&6&&(e.flags|=8192)):vt(e),null;case 24:return null;case 25:return null}throw Error(b(156,e.tag))}function iP(t,e){switch(ug(e),e.tag){case 1:return Wt(e.type)&&uu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return so(),Pe(zt),Pe(kt),_g(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return vg(e),null;case 13:if(Pe(Me),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(b(340));ro()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Pe(Me),null;case 4:return so(),null;case 10:return pg(e.type._context),null;case 22:case 23:return Ag(),null;case 24:return null;default:return null}}var gc=!1,Et=!1,sP=typeof WeakSet=="function"?WeakSet:Set,U=null;function js(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ue(t,e,r)}else n.current=null}function Mp(t,e,n){try{n()}catch(r){Ue(t,e,r)}}var Nv=!1;function oP(t,e){if(wp=ou,t=hx(),lg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,p=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===t)break t;if(p===n&&++c===i&&(a=o),p===s&&++d===r&&(l=o),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(xp={focusedElem:t,selectionRange:n},ou=!1,U=e;U!==null;)if(e=U,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,U=t;else for(;U!==null;){e=U;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,x=v.memoizedState,y=e.stateNode,g=y.getSnapshotBeforeUpdate(e.elementType===e.type?w:xn(e.type,w),x);y.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(b(163))}}catch(E){Ue(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,U=t;break}U=e.return}return v=Nv,Nv=!1,v}function ua(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Mp(e,n,s)}i=i.next}while(i!==r)}}function Id(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function $p(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function cE(t){var e=t.alternate;e!==null&&(t.alternate=null,cE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ln],delete e[ja],delete e[Sp],delete e[Bk],delete e[zk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function uE(t){return t.tag===5||t.tag===3||t.tag===4}function bv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||uE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=cu));else if(r!==4&&(t=t.child,t!==null))for(Vp(t,e,n),t=t.sibling;t!==null;)Vp(t,e,n),t=t.sibling}function Fp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Fp(t,e,n),t=t.sibling;t!==null;)Fp(t,e,n),t=t.sibling}var dt=null,En=!1;function kr(t,e,n){for(n=n.child;n!==null;)dE(t,e,n),n=n.sibling}function dE(t,e,n){if(Bn&&typeof Bn.onCommitFiberUnmount=="function")try{Bn.onCommitFiberUnmount(yd,n)}catch{}switch(n.tag){case 5:Et||js(n,e);case 6:var r=dt,i=En;dt=null,kr(t,e,n),dt=r,En=i,dt!==null&&(En?(t=dt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):dt.removeChild(n.stateNode));break;case 18:dt!==null&&(En?(t=dt,n=n.stateNode,t.nodeType===8?sf(t.parentNode,n):t.nodeType===1&&sf(t,n),Pa(t)):sf(dt,n.stateNode));break;case 4:r=dt,i=En,dt=n.stateNode.containerInfo,En=!0,kr(t,e,n),dt=r,En=i;break;case 0:case 11:case 14:case 15:if(!Et&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Mp(n,e,o),i=i.next}while(i!==r)}kr(t,e,n);break;case 1:if(!Et&&(js(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ue(n,e,a)}kr(t,e,n);break;case 21:kr(t,e,n);break;case 22:n.mode&1?(Et=(r=Et)||n.memoizedState!==null,kr(t,e,n),Et=r):kr(t,e,n);break;default:kr(t,e,n)}}function Ov(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new sP),e.forEach(function(r){var i=mP.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function wn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:dt=a.stateNode,En=!1;break e;case 3:dt=a.stateNode.containerInfo,En=!0;break e;case 4:dt=a.stateNode.containerInfo,En=!0;break e}a=a.return}if(dt===null)throw Error(b(160));dE(s,o,i),dt=null,En=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Ue(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)hE(e,t),e=e.sibling}function hE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(wn(e,t),On(t),r&4){try{ua(3,t,t.return),Id(3,t)}catch(w){Ue(t,t.return,w)}try{ua(5,t,t.return)}catch(w){Ue(t,t.return,w)}}break;case 1:wn(e,t),On(t),r&512&&n!==null&&js(n,n.return);break;case 5:if(wn(e,t),On(t),r&512&&n!==null&&js(n,n.return),t.flags&32){var i=t.stateNode;try{Ia(i,"")}catch(w){Ue(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Ow(i,s),up(a,o);var c=up(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?$w(i,h):d==="dangerouslySetInnerHTML"?Dw(i,h):d==="children"?Ia(i,h):Qm(i,d,h,c)}switch(a){case"input":sp(i,s);break;case"textarea":jw(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Us(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?Us(i,!!s.multiple,s.defaultValue,!0):Us(i,!!s.multiple,s.multiple?[]:"",!1))}i[ja]=s}catch(w){Ue(t,t.return,w)}}break;case 6:if(wn(e,t),On(t),r&4){if(t.stateNode===null)throw Error(b(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){Ue(t,t.return,w)}}break;case 3:if(wn(e,t),On(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Pa(e.containerInfo)}catch(w){Ue(t,t.return,w)}break;case 4:wn(e,t),On(t);break;case 13:wn(e,t),On(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(kg=He())),r&4&&Ov(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Et=(c=Et)||d,wn(e,t),Et=c):wn(e,t),On(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(U=t,d=t.child;d!==null;){for(h=U=d;U!==null;){switch(p=U,m=p.child,p.tag){case 0:case 11:case 14:case 15:ua(4,p,p.return);break;case 1:js(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(w){Ue(r,n,w)}}break;case 5:js(p,p.return);break;case 22:if(p.memoizedState!==null){Lv(h);continue}}m!==null?(m.return=p,U=m):Lv(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Mw("display",o))}catch(w){Ue(t,t.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(w){Ue(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:wn(e,t),On(t),r&4&&Ov(t);break;case 21:break;default:wn(e,t),On(t)}}function On(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(uE(n)){var r=n;break e}n=n.return}throw Error(b(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ia(i,""),r.flags&=-33);var s=bv(t);Fp(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=bv(t);Vp(t,a,o);break;default:throw Error(b(161))}}catch(l){Ue(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function aP(t,e,n){U=t,fE(t)}function fE(t,e,n){for(var r=(t.mode&1)!==0;U!==null;){var i=U,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||gc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Et;a=gc;var c=Et;if(gc=o,(Et=l)&&!c)for(U=i;U!==null;)o=U,l=o.child,o.tag===22&&o.memoizedState!==null?Dv(i):l!==null?(l.return=o,U=l):Dv(i);for(;s!==null;)U=s,fE(s),s=s.sibling;U=i,gc=a,Et=c}jv(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,U=s):jv(t)}}function jv(t){for(;U!==null;){var e=U;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Et||Id(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Et)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:xn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&yv(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}yv(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Pa(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(b(163))}Et||e.flags&512&&$p(e)}catch(p){Ue(e,e.return,p)}}if(e===t){U=null;break}if(n=e.sibling,n!==null){n.return=e.return,U=n;break}U=e.return}}function Lv(t){for(;U!==null;){var e=U;if(e===t){U=null;break}var n=e.sibling;if(n!==null){n.return=e.return,U=n;break}U=e.return}}function Dv(t){for(;U!==null;){var e=U;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Id(4,e)}catch(l){Ue(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ue(e,i,l)}}var s=e.return;try{$p(e)}catch(l){Ue(e,s,l)}break;case 5:var o=e.return;try{$p(e)}catch(l){Ue(e,o,l)}}}catch(l){Ue(e,e.return,l)}if(e===t){U=null;break}var a=e.sibling;if(a!==null){a.return=e.return,U=a;break}U=e.return}}var lP=Math.ceil,wu=Sr.ReactCurrentDispatcher,Rg=Sr.ReactCurrentOwner,mn=Sr.ReactCurrentBatchConfig,ge=0,st=null,Qe=null,pt=0,Gt=0,Ls=_i(0),tt=0,Fa=null,Ji=0,Rd=0,Cg=0,da=null,Ft=null,kg=0,ao=1/0,tr=null,xu=!1,Up=null,Xr=null,yc=!1,Ur=null,Eu=0,ha=0,Bp=null,Bc=-1,zc=0;function Lt(){return ge&6?He():Bc!==-1?Bc:Bc=He()}function Yr(t){return t.mode&1?ge&2&&pt!==0?pt&-pt:Hk.transition!==null?(zc===0&&(zc=Xw()),zc):(t=we,t!==0||(t=window.event,t=t===void 0?16:rx(t.type)),t):1}function Cn(t,e,n,r){if(50<ha)throw ha=0,Bp=null,Error(b(185));yl(t,n,r),(!(ge&2)||t!==st)&&(t===st&&(!(ge&2)&&(Rd|=n),tt===4&&Or(t,pt)),Ht(t,r),n===1&&ge===0&&!(e.mode&1)&&(ao=He()+500,Ed&&wi()))}function Ht(t,e){var n=t.callbackNode;HC(t,e);var r=su(t,t===st?pt:0);if(r===0)n!==null&&H0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&H0(n),e===1)t.tag===0?Wk(Mv.bind(null,t)):Ex(Mv.bind(null,t)),Fk(function(){!(ge&6)&&wi()}),n=null;else{switch(Yw(r)){case 1:n=eg;break;case 4:n=Gw;break;case 16:n=iu;break;case 536870912:n=Qw;break;default:n=iu}n=xE(n,pE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function pE(t,e){if(Bc=-1,zc=0,ge&6)throw Error(b(327));var n=t.callbackNode;if(qs()&&t.callbackNode!==n)return null;var r=su(t,t===st?pt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Tu(t,r);else{e=r;var i=ge;ge|=2;var s=gE();(st!==t||pt!==e)&&(tr=null,ao=He()+500,Bi(t,e));do try{dP();break}catch(a){mE(t,a)}while(1);fg(),wu.current=s,ge=i,Qe!==null?e=0:(st=null,pt=0,e=tt)}if(e!==0){if(e===2&&(i=mp(t),i!==0&&(r=i,e=zp(t,i))),e===1)throw n=Fa,Bi(t,0),Or(t,r),Ht(t,He()),n;if(e===6)Or(t,r);else{if(i=t.current.alternate,!(r&30)&&!cP(i)&&(e=Tu(t,r),e===2&&(s=mp(t),s!==0&&(r=s,e=zp(t,s))),e===1))throw n=Fa,Bi(t,0),Or(t,r),Ht(t,He()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(b(345));case 2:Ni(t,Ft,tr);break;case 3:if(Or(t,r),(r&130023424)===r&&(e=kg+500-He(),10<e)){if(su(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Lt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Tp(Ni.bind(null,t,Ft,tr),e);break}Ni(t,Ft,tr);break;case 4:if(Or(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Rn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=He()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*lP(r/1960))-r,10<r){t.timeoutHandle=Tp(Ni.bind(null,t,Ft,tr),r);break}Ni(t,Ft,tr);break;case 5:Ni(t,Ft,tr);break;default:throw Error(b(329))}}}return Ht(t,He()),t.callbackNode===n?pE.bind(null,t):null}function zp(t,e){var n=da;return t.current.memoizedState.isDehydrated&&(Bi(t,e).flags|=256),t=Tu(t,e),t!==2&&(e=Ft,Ft=n,e!==null&&Wp(e)),t}function Wp(t){Ft===null?Ft=t:Ft.push.apply(Ft,t)}function cP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!kn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Or(t,e){for(e&=~Cg,e&=~Rd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Rn(e),r=1<<n;t[n]=-1,e&=~r}}function Mv(t){if(ge&6)throw Error(b(327));qs();var e=su(t,0);if(!(e&1))return Ht(t,He()),null;var n=Tu(t,e);if(t.tag!==0&&n===2){var r=mp(t);r!==0&&(e=r,n=zp(t,r))}if(n===1)throw n=Fa,Bi(t,0),Or(t,e),Ht(t,He()),n;if(n===6)throw Error(b(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ni(t,Ft,tr),Ht(t,He()),null}function Pg(t,e){var n=ge;ge|=1;try{return t(e)}finally{ge=n,ge===0&&(ao=He()+500,Ed&&wi())}}function Zi(t){Ur!==null&&Ur.tag===0&&!(ge&6)&&qs();var e=ge;ge|=1;var n=mn.transition,r=we;try{if(mn.transition=null,we=1,t)return t()}finally{we=r,mn.transition=n,ge=e,!(ge&6)&&wi()}}function Ag(){Gt=Ls.current,Pe(Ls)}function Bi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Vk(n)),Qe!==null)for(n=Qe.return;n!==null;){var r=n;switch(ug(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&uu();break;case 3:so(),Pe(zt),Pe(kt),_g();break;case 5:vg(r);break;case 4:so();break;case 13:Pe(Me);break;case 19:Pe(Me);break;case 10:pg(r.type._context);break;case 22:case 23:Ag()}n=n.return}if(st=t,Qe=t=Jr(t.current,null),pt=Gt=e,tt=0,Fa=null,Cg=Rd=Ji=0,Ft=da=null,Li!==null){for(e=0;e<Li.length;e++)if(n=Li[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Li=null}return t}function mE(t,e){do{var n=Qe;try{if(fg(),Vc.current=_u,vu){for(var r=$e.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}vu=!1}if(Yi=0,it=Ze=$e=null,ca=!1,Ma=0,Rg.current=null,n===null||n.return===null){tt=1,Fa=e,Qe=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=pt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Sv(o);if(m!==null){m.flags&=-257,Iv(m,o,a,s,e),m.mode&1&&Tv(s,c,e),e=m,l=c;var v=e.updateQueue;if(v===null){var w=new Set;w.add(l),e.updateQueue=w}else v.add(l);break e}else{if(!(e&1)){Tv(s,c,e),Ng();break e}l=Error(b(426))}}else if(je&&a.mode&1){var x=Sv(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Iv(x,o,a,s,e),dg(oo(l,a));break e}}s=l=oo(l,a),tt!==4&&(tt=2),da===null?da=[s]:da.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=Jx(s,l,e);gv(s,y);break e;case 1:a=l;var g=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Xr===null||!Xr.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=Zx(s,a,e);gv(s,E);break e}}s=s.return}while(s!==null)}vE(n)}catch(T){e=T,Qe===n&&n!==null&&(Qe=n=n.return);continue}break}while(1)}function gE(){var t=wu.current;return wu.current=_u,t===null?_u:t}function Ng(){(tt===0||tt===3||tt===2)&&(tt=4),st===null||!(Ji&268435455)&&!(Rd&268435455)||Or(st,pt)}function Tu(t,e){var n=ge;ge|=2;var r=gE();(st!==t||pt!==e)&&(tr=null,Bi(t,e));do try{uP();break}catch(i){mE(t,i)}while(1);if(fg(),ge=n,wu.current=r,Qe!==null)throw Error(b(261));return st=null,pt=0,tt}function uP(){for(;Qe!==null;)yE(Qe)}function dP(){for(;Qe!==null&&!DC();)yE(Qe)}function yE(t){var e=wE(t.alternate,t,Gt);t.memoizedProps=t.pendingProps,e===null?vE(t):Qe=e,Rg.current=null}function vE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=iP(n,e),n!==null){n.flags&=32767,Qe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{tt=6,Qe=null;return}}else if(n=rP(n,e,Gt),n!==null){Qe=n;return}if(e=e.sibling,e!==null){Qe=e;return}Qe=e=t}while(e!==null);tt===0&&(tt=5)}function Ni(t,e,n){var r=we,i=mn.transition;try{mn.transition=null,we=1,hP(t,e,n,r)}finally{mn.transition=i,we=r}return null}function hP(t,e,n,r){do qs();while(Ur!==null);if(ge&6)throw Error(b(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(b(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(qC(t,s),t===st&&(Qe=st=null,pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||yc||(yc=!0,xE(iu,function(){return qs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=mn.transition,mn.transition=null;var o=we;we=1;var a=ge;ge|=4,Rg.current=null,oP(t,n),hE(n,t),bk(xp),ou=!!wp,xp=wp=null,t.current=n,aP(n),MC(),ge=a,we=o,mn.transition=s}else t.current=n;if(yc&&(yc=!1,Ur=t,Eu=i),s=t.pendingLanes,s===0&&(Xr=null),FC(n.stateNode),Ht(t,He()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(xu)throw xu=!1,t=Up,Up=null,t;return Eu&1&&t.tag!==0&&qs(),s=t.pendingLanes,s&1?t===Bp?ha++:(ha=0,Bp=t):ha=0,wi(),null}function qs(){if(Ur!==null){var t=Yw(Eu),e=mn.transition,n=we;try{if(mn.transition=null,we=16>t?16:t,Ur===null)var r=!1;else{if(t=Ur,Ur=null,Eu=0,ge&6)throw Error(b(331));var i=ge;for(ge|=4,U=t.current;U!==null;){var s=U,o=s.child;if(U.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(U=c;U!==null;){var d=U;switch(d.tag){case 0:case 11:case 15:ua(8,d,s)}var h=d.child;if(h!==null)h.return=d,U=h;else for(;U!==null;){d=U;var p=d.sibling,m=d.return;if(cE(d),d===c){U=null;break}if(p!==null){p.return=m,U=p;break}U=m}}}var v=s.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}U=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,U=o;else e:for(;U!==null;){if(s=U,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ua(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,U=y;break e}U=s.return}}var g=t.current;for(U=g;U!==null;){o=U;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,U=_;else e:for(o=g;U!==null;){if(a=U,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Id(9,a)}}catch(T){Ue(a,a.return,T)}if(a===o){U=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,U=E;break e}U=a.return}}if(ge=i,wi(),Bn&&typeof Bn.onPostCommitFiberRoot=="function")try{Bn.onPostCommitFiberRoot(yd,t)}catch{}r=!0}return r}finally{we=n,mn.transition=e}}return!1}function $v(t,e,n){e=oo(n,e),e=Jx(t,e,1),t=Qr(t,e,1),e=Lt(),t!==null&&(yl(t,1,e),Ht(t,e))}function Ue(t,e,n){if(t.tag===3)$v(t,t,n);else for(;e!==null;){if(e.tag===3){$v(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xr===null||!Xr.has(r))){t=oo(n,t),t=Zx(e,t,1),e=Qr(e,t,1),t=Lt(),e!==null&&(yl(e,1,t),Ht(e,t));break}}e=e.return}}function fP(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Lt(),t.pingedLanes|=t.suspendedLanes&n,st===t&&(pt&n)===n&&(tt===4||tt===3&&(pt&130023424)===pt&&500>He()-kg?Bi(t,0):Cg|=n),Ht(t,e)}function _E(t,e){e===0&&(t.mode&1?(e=ac,ac<<=1,!(ac&130023424)&&(ac=4194304)):e=1);var n=Lt();t=pr(t,e),t!==null&&(yl(t,e,n),Ht(t,n))}function pP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),_E(t,n)}function mP(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(b(314))}r!==null&&r.delete(e),_E(t,n)}var wE;wE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||zt.current)Bt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Bt=!1,nP(t,e,n);Bt=!!(t.flags&131072)}else Bt=!1,je&&e.flags&1048576&&Tx(e,fu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Uc(t,e),t=e.pendingProps;var i=no(e,kt.current);Hs(e,n),i=xg(null,e,r,t,i,n);var s=Eg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Wt(r)?(s=!0,du(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,gg(e),i.updater=Td,e.stateNode=i,i._reactInternals=e,Ap(e,r,t,n),e=Op(null,e,r,!0,s,n)):(e.tag=0,je&&s&&cg(e),bt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Uc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=yP(r),t=xn(r,t),i){case 0:e=bp(null,e,r,t,n);break e;case 1:e=kv(null,e,r,t,n);break e;case 11:e=Rv(null,e,r,t,n);break e;case 14:e=Cv(null,e,r,xn(r.type,t),n);break e}throw Error(b(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xn(r,i),bp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xn(r,i),kv(t,e,r,i,n);case 3:e:{if(rE(e),t===null)throw Error(b(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Cx(t,e),gu(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=oo(Error(b(423)),e),e=Pv(t,e,r,n,i);break e}else if(r!==i){i=oo(Error(b(424)),e),e=Pv(t,e,r,n,i);break e}else for(Qt=Gr(e.stateNode.containerInfo.firstChild),Yt=e,je=!0,Tn=null,n=Nx(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ro(),r===i){e=mr(t,e,n);break e}bt(t,e,r,n)}e=e.child}return e;case 5:return bx(e),t===null&&Cp(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Ep(r,i)?o=null:s!==null&&Ep(r,s)&&(e.flags|=32),nE(t,e),bt(t,e,o,n),e.child;case 6:return t===null&&Cp(e),null;case 13:return iE(t,e,n);case 4:return yg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=io(e,null,r,n):bt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xn(r,i),Rv(t,e,r,i,n);case 7:return bt(t,e,e.pendingProps,n),e.child;case 8:return bt(t,e,e.pendingProps.children,n),e.child;case 12:return bt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Se(pu,r._currentValue),r._currentValue=o,s!==null)if(kn(s.value,o)){if(s.children===i.children&&!zt.current){e=mr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=lr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),kp(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(b(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),kp(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}bt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Hs(e,n),i=gn(i),r=r(i),e.flags|=1,bt(t,e,r,n),e.child;case 14:return r=e.type,i=xn(r,e.pendingProps),i=xn(r.type,i),Cv(t,e,r,i,n);case 15:return eE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xn(r,i),Uc(t,e),e.tag=1,Wt(r)?(t=!0,du(e)):t=!1,Hs(e,n),Px(e,r,i),Ap(e,r,i,n),Op(null,e,r,!0,t,n);case 19:return sE(t,e,n);case 22:return tE(t,e,n)}throw Error(b(156,e.tag))};function xE(t,e){return Kw(t,e)}function gP(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,e,n,r){return new gP(t,e,n,r)}function bg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yP(t){if(typeof t=="function")return bg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ym)return 11;if(t===Jm)return 14}return 2}function Jr(t,e){var n=t.alternate;return n===null?(n=pn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Wc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")bg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Is:return zi(n.children,i,s,e);case Xm:o=8,i|=8;break;case ep:return t=pn(12,n,e,i|2),t.elementType=ep,t.lanes=s,t;case tp:return t=pn(13,n,e,i),t.elementType=tp,t.lanes=s,t;case np:return t=pn(19,n,e,i),t.elementType=np,t.lanes=s,t;case Aw:return Cd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case kw:o=10;break e;case Pw:o=9;break e;case Ym:o=11;break e;case Jm:o=14;break e;case Ar:o=16,r=null;break e}throw Error(b(130,t==null?t:typeof t,""))}return e=pn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function zi(t,e,n,r){return t=pn(7,t,r,e),t.lanes=n,t}function Cd(t,e,n,r){return t=pn(22,t,r,e),t.elementType=Aw,t.lanes=n,t.stateNode={isHidden:!1},t}function ff(t,e,n){return t=pn(6,t,null,e),t.lanes=n,t}function pf(t,e,n){return e=pn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function vP(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kh(0),this.expirationTimes=Kh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Og(t,e,n,r,i,s,o,a,l){return t=new vP(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=pn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},gg(s),t}function _P(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ss,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function EE(t){if(!t)return oi;t=t._reactInternals;e:{if(hs(t)!==t||t.tag!==1)throw Error(b(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Wt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(b(171))}if(t.tag===1){var n=t.type;if(Wt(n))return xx(t,n,e)}return e}function TE(t,e,n,r,i,s,o,a,l){return t=Og(n,r,!0,t,i,s,o,a,l),t.context=EE(null),n=t.current,r=Lt(),i=Yr(n),s=lr(r,i),s.callback=e??null,Qr(n,s,i),t.current.lanes=i,yl(t,i,r),Ht(t,r),t}function kd(t,e,n,r){var i=e.current,s=Lt(),o=Yr(i);return n=EE(n),e.context===null?e.context=n:e.pendingContext=n,e=lr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Qr(i,e,o),t!==null&&(Cn(t,i,o,s),$c(t,i,o)),o}function Su(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Vv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function jg(t,e){Vv(t,e),(t=t.alternate)&&Vv(t,e)}function wP(){return null}var SE=typeof reportError=="function"?reportError:function(t){console.error(t)};function Lg(t){this._internalRoot=t}Pd.prototype.render=Lg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(b(409));kd(t,e,null,null)};Pd.prototype.unmount=Lg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Zi(function(){kd(null,t,null,null)}),e[fr]=null}};function Pd(t){this._internalRoot=t}Pd.prototype.unstable_scheduleHydration=function(t){if(t){var e=ex();t={blockedOn:null,target:t,priority:e};for(var n=0;n<br.length&&e!==0&&e<br[n].priority;n++);br.splice(n,0,t),n===0&&nx(t)}};function Dg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ad(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Fv(){}function xP(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Su(o);s.call(c)}}var o=TE(e,r,t,0,null,!1,!1,"",Fv);return t._reactRootContainer=o,t[fr]=o.current,ba(t.nodeType===8?t.parentNode:t),Zi(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Su(l);a.call(c)}}var l=Og(t,0,!1,null,null,!1,!1,"",Fv);return t._reactRootContainer=l,t[fr]=l.current,ba(t.nodeType===8?t.parentNode:t),Zi(function(){kd(e,l,n,r)}),l}function Nd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Su(o);a.call(l)}}kd(e,o,t,i)}else o=xP(n,e,t,i,r);return Su(o)}Jw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Xo(e.pendingLanes);n!==0&&(tg(e,n|1),Ht(e,He()),!(ge&6)&&(ao=He()+500,wi()))}break;case 13:Zi(function(){var r=pr(t,1);if(r!==null){var i=Lt();Cn(r,t,1,i)}}),jg(t,1)}};ng=function(t){if(t.tag===13){var e=pr(t,134217728);if(e!==null){var n=Lt();Cn(e,t,134217728,n)}jg(t,134217728)}};Zw=function(t){if(t.tag===13){var e=Yr(t),n=pr(t,e);if(n!==null){var r=Lt();Cn(n,t,e,r)}jg(t,e)}};ex=function(){return we};tx=function(t,e){var n=we;try{return we=t,e()}finally{we=n}};hp=function(t,e,n){switch(e){case"input":if(sp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=xd(r);if(!i)throw Error(b(90));bw(r),sp(r,i)}}}break;case"textarea":jw(t,n);break;case"select":e=n.value,e!=null&&Us(t,!!n.multiple,e,!1)}};Uw=Pg;Bw=Zi;var EP={usingClientEntryPoint:!1,Events:[_l,Ps,xd,Vw,Fw,Pg]},Wo={findFiberByHostInstance:ji,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},TP={bundleType:Wo.bundleType,version:Wo.version,rendererPackageName:Wo.rendererPackageName,rendererConfig:Wo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Sr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Hw(t),t===null?null:t.stateNode},findFiberByHostInstance:Wo.findFiberByHostInstance||wP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vc.isDisabled&&vc.supportsFiber)try{yd=vc.inject(TP),Bn=vc}catch{}}rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EP;rn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dg(e))throw Error(b(200));return _P(t,e,null,n)};rn.createRoot=function(t,e){if(!Dg(t))throw Error(b(299));var n=!1,r="",i=SE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Og(t,1,!1,null,null,n,!1,r,i),t[fr]=e.current,ba(t.nodeType===8?t.parentNode:t),new Lg(e)};rn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(b(188)):(t=Object.keys(t).join(","),Error(b(268,t)));return t=Hw(e),t=t===null?null:t.stateNode,t};rn.flushSync=function(t){return Zi(t)};rn.hydrate=function(t,e,n){if(!Ad(e))throw Error(b(200));return Nd(null,t,e,!0,n)};rn.hydrateRoot=function(t,e,n){if(!Dg(t))throw Error(b(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=SE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=TE(e,null,t,1,n??null,i,!1,s,o),t[fr]=e.current,ba(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Pd(e)};rn.render=function(t,e,n){if(!Ad(e))throw Error(b(200));return Nd(null,t,e,!1,n)};rn.unmountComponentAtNode=function(t){if(!Ad(t))throw Error(b(40));return t._reactRootContainer?(Zi(function(){Nd(null,null,t,!1,function(){t._reactRootContainer=null,t[fr]=null})}),!0):!1};rn.unstable_batchedUpdates=Pg;rn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ad(n))throw Error(b(200));if(t==null||t._reactInternals===void 0)throw Error(b(38));return Nd(t,e,n,!1,r)};rn.version="18.2.0-next-9e3b772b8-20220608";function IE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(IE)}catch(t){console.error(t)}}IE(),Tw.exports=rn;var xl=Tw.exports,Uv=xl;Jf.createRoot=Uv.createRoot,Jf.hydrateRoot=Uv.hydrateRoot;/**
 * @remix-run/router v1.7.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ua(){return Ua=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ua.apply(this,arguments)}var Br;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Br||(Br={}));const Bv="popstate";function SP(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Hp("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Iu(i)}return RP(e,n,null,t)}function Ye(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Mg(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function IP(){return Math.random().toString(36).substr(2,8)}function zv(t,e){return{usr:t.state,key:t.key,idx:e}}function Hp(t,e,n,r){return n===void 0&&(n=null),Ua({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?So(e):e,{state:n,key:e&&e.key||r||IP()})}function Iu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function So(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function RP(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Br.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(Ua({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Br.Pop;let x=d(),y=x==null?null:x-c;c=x,l&&l({action:a,location:w.location,delta:y})}function p(x,y){a=Br.Push;let g=Hp(w.location,x,y);n&&n(g,x),c=d()+1;let _=zv(g,c),E=w.createHref(g);try{o.pushState(_,"",E)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(E)}s&&l&&l({action:a,location:w.location,delta:1})}function m(x,y){a=Br.Replace;let g=Hp(w.location,x,y);n&&n(g,x),c=d();let _=zv(g,c),E=w.createHref(g);o.replaceState(_,"",E),s&&l&&l({action:a,location:w.location,delta:0})}function v(x){let y=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof x=="string"?x:Iu(x);return Ye(y,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,y)}let w={get action(){return a},get location(){return t(i,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Bv,h),l=x,()=>{i.removeEventListener(Bv,h),l=null}},createHref(x){return e(i,x)},createURL:v,encodeLocation(x){let y=v(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:p,replace:m,go(x){return o.go(x)}};return w}var Wv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Wv||(Wv={}));function CP(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?So(e):e,i=$g(r.pathname||"/",n);if(i==null)return null;let s=RE(t);kP(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=MP(s[a],FP(i));return o}function RE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ye(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Zr([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(Ye(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),RE(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:LP(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of CE(s.path))i(s,o,l)}),e}function CE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=CE(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function kP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:DP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const PP=/^:\w+$/,AP=3,NP=2,bP=1,OP=10,jP=-2,Hv=t=>t==="*";function LP(t,e){let n=t.split("/"),r=n.length;return n.some(Hv)&&(r+=jP),e&&(r+=NP),n.filter(i=>!Hv(i)).reduce((i,s)=>i+(PP.test(s)?AP:s===""?bP:OP),r)}function DP(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function MP(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",d=$P({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!d)return null;Object.assign(r,d.params);let h=a.route;s.push({params:r,pathname:Zr([i,d.pathname]),pathnameBase:WP(Zr([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=Zr([i,d.pathnameBase]))}return s}function $P(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=VP(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,h)=>{if(d==="*"){let p=a[h]||"";o=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}return c[d]=UP(a[h]||"",d),c},{}),pathname:s,pathnameBase:o,pattern:t}}function VP(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Mg(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function FP(t){try{return decodeURI(t)}catch(e){return Mg(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function UP(t,e){try{return decodeURIComponent(t)}catch(n){return Mg(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function $g(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function BP(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?So(t):t;return{pathname:n?n.startsWith("/")?n:zP(n,e):e,search:HP(r),hash:qP(i)}}function zP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function mf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kE(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function PE(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=So(t):(i=Ua({},t),Ye(!i.pathname||!i.pathname.includes("?"),mf("?","pathname","search",i)),Ye(!i.pathname||!i.pathname.includes("#"),mf("#","pathname","hash",i)),Ye(!i.search||!i.search.includes("#"),mf("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let h=e.length-1;if(o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;i.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=BP(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Zr=t=>t.join("/").replace(/\/\/+/g,"/"),WP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),HP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,qP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function KP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const AE=["post","put","patch","delete"];new Set(AE);const GP=["get",...AE];new Set(GP);/**
 * React Router v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ru(){return Ru=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ru.apply(this,arguments)}const Vg=f.createContext(null),QP=f.createContext(null),Io=f.createContext(null),bd=f.createContext(null),xi=f.createContext({outlet:null,matches:[],isDataRoute:!1}),NE=f.createContext(null);function XP(t,e){let{relative:n}=e===void 0?{}:e;El()||Ye(!1);let{basename:r,navigator:i}=f.useContext(Io),{hash:s,pathname:o,search:a}=jE(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Zr([r,o])),i.createHref({pathname:l,search:a,hash:s})}function El(){return f.useContext(bd)!=null}function Od(){return El()||Ye(!1),f.useContext(bd).location}function bE(t){f.useContext(Io).static||f.useLayoutEffect(t)}function Tl(){let{isDataRoute:t}=f.useContext(xi);return t?cA():YP()}function YP(){El()||Ye(!1);let t=f.useContext(Vg),{basename:e,navigator:n}=f.useContext(Io),{matches:r}=f.useContext(xi),{pathname:i}=Od(),s=JSON.stringify(kE(r).map(l=>l.pathnameBase)),o=f.useRef(!1);return bE(()=>{o.current=!0}),f.useCallback(function(l,c){if(c===void 0&&(c={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let d=PE(l,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Zr([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,s,i,t])}function OE(){let{matches:t}=f.useContext(xi),e=t[t.length-1];return e?e.params:{}}function jE(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=f.useContext(xi),{pathname:i}=Od(),s=JSON.stringify(kE(r).map(o=>o.pathnameBase));return f.useMemo(()=>PE(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function JP(t,e){return ZP(t,e)}function ZP(t,e,n){El()||Ye(!1);let{navigator:r}=f.useContext(Io),{matches:i}=f.useContext(xi),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=Od(),c;if(e){var d;let w=typeof e=="string"?So(e):e;a==="/"||(d=w.pathname)!=null&&d.startsWith(a)||Ye(!1),c=w}else c=l;let h=c.pathname||"/",p=a==="/"?h:h.slice(a.length)||"/",m=CP(t,{pathname:p}),v=iA(m&&m.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:Zr([a,r.encodeLocation?r.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?a:Zr([a,r.encodeLocation?r.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n);return e&&v?f.createElement(bd.Provider,{value:{location:Ru({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Br.Pop}},v):v}function eA(){let t=lA(),e=KP(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},e),n?f.createElement("pre",{style:i},n):null,s)}const tA=f.createElement(eA,null);class nA extends f.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?f.createElement(xi.Provider,{value:this.props.routeContext},f.createElement(NE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function rA(t){let{routeContext:e,match:n,children:r}=t,i=f.useContext(Vg);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),f.createElement(xi.Provider,{value:e},r)}function iA(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||Ye(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,c)=>{let d=l.route.id?o==null?void 0:o[l.route.id]:null,h=null;n&&(h=l.route.errorElement||tA);let p=e.concat(s.slice(0,c+1)),m=()=>{let v;return d?v=h:l.route.Component?v=f.createElement(l.route.Component,null):l.route.element?v=l.route.element:v=a,f.createElement(rA,{match:l,routeContext:{outlet:a,matches:p,isDataRoute:n!=null},children:v})};return n&&(l.route.ErrorBoundary||l.route.errorElement||c===0)?f.createElement(nA,{location:n.location,revalidation:n.revalidation,component:h,error:d,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}var qp;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(qp||(qp={}));var Ba;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(Ba||(Ba={}));function sA(t){let e=f.useContext(Vg);return e||Ye(!1),e}function oA(t){let e=f.useContext(QP);return e||Ye(!1),e}function aA(t){let e=f.useContext(xi);return e||Ye(!1),e}function LE(t){let e=aA(),n=e.matches[e.matches.length-1];return n.route.id||Ye(!1),n.route.id}function lA(){var t;let e=f.useContext(NE),n=oA(Ba.UseRouteError),r=LE(Ba.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function cA(){let{router:t}=sA(qp.UseNavigateStable),e=LE(Ba.UseNavigateStable),n=f.useRef(!1);return bE(()=>{n.current=!0}),f.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ru({fromRouteId:e},s)))},[t,e])}function Kp(t){Ye(!1)}function uA(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Br.Pop,navigator:s,static:o=!1}=t;El()&&Ye(!1);let a=e.replace(/^\/*/,"/"),l=f.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=So(r));let{pathname:c="/",search:d="",hash:h="",state:p=null,key:m="default"}=r,v=f.useMemo(()=>{let w=$g(c,a);return w==null?null:{location:{pathname:w,search:d,hash:h,state:p,key:m},navigationType:i}},[a,c,d,h,p,m,i]);return v==null?null:f.createElement(Io.Provider,{value:l},f.createElement(bd.Provider,{children:n,value:v}))}function dA(t){let{children:e,location:n}=t;return JP(Gp(e),n)}var qv;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(qv||(qv={}));new Promise(()=>{});function Gp(t,e){e===void 0&&(e=[]);let n=[];return f.Children.forEach(t,(r,i)=>{if(!f.isValidElement(r))return;let s=[...e,i];if(r.type===f.Fragment){n.push.apply(n,Gp(r.props.children,s));return}r.type!==Kp&&Ye(!1),!r.props.index||!r.props.children||Ye(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Gp(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qp(){return Qp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qp.apply(this,arguments)}function hA(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function fA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function pA(t,e){return t.button===0&&(!e||e==="_self")&&!fA(t)}const mA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],gA="startTransition",Kv=qm[gA];function yA(t){let{basename:e,children:n,future:r,window:i}=t,s=f.useRef();s.current==null&&(s.current=SP({window:i,v5Compat:!0}));let o=s.current,[a,l]=f.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=f.useCallback(h=>{c&&Kv?Kv(()=>l(h)):l(h)},[l,c]);return f.useLayoutEffect(()=>o.listen(d),[o,d]),f.createElement(uA,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o})}const vA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_A=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cu=f.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d}=e,h=hA(e,mA),{basename:p}=f.useContext(Io),m,v=!1;if(typeof c=="string"&&_A.test(c)&&(m=c,vA))try{let g=new URL(window.location.href),_=c.startsWith("//")?new URL(g.protocol+c):new URL(c),E=$g(_.pathname,p);_.origin===g.origin&&E!=null?c=E+_.search+_.hash:v=!0}catch{}let w=XP(c,{relative:i}),x=wA(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:i});function y(g){r&&r(g),g.defaultPrevented||x(g)}return f.createElement("a",Qp({},h,{href:m||w,onClick:v||s?r:y,ref:n,target:l}))});var Gv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(Gv||(Gv={}));var Qv;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Qv||(Qv={}));function wA(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=Tl(),l=Od(),c=jE(t,{relative:o});return f.useCallback(d=>{if(pA(d,n)){d.preventDefault();let h=r!==void 0?r:Iu(l)===Iu(c);a(t,{replace:h,state:i,preventScrollReset:s,relative:o})}},[l,a,c,r,i,n,t,s,o])}var DE={exports:{}},ME={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lo=f;function xA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var EA=typeof Object.is=="function"?Object.is:xA,TA=lo.useState,SA=lo.useEffect,IA=lo.useLayoutEffect,RA=lo.useDebugValue;function CA(t,e){var n=e(),r=TA({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return IA(function(){i.value=n,i.getSnapshot=e,gf(i)&&s({inst:i})},[t,n,e]),SA(function(){return gf(i)&&s({inst:i}),t(function(){gf(i)&&s({inst:i})})},[t]),RA(n),n}function gf(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!EA(t,n)}catch{return!0}}function kA(t,e){return e()}var PA=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?kA:CA;ME.useSyncExternalStore=lo.useSyncExternalStore!==void 0?lo.useSyncExternalStore:PA;DE.exports=ME;var AA=DE.exports,$E={exports:{}},VE={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jd=f,NA=AA;function bA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var OA=typeof Object.is=="function"?Object.is:bA,jA=NA.useSyncExternalStore,LA=jd.useRef,DA=jd.useEffect,MA=jd.useMemo,$A=jd.useDebugValue;VE.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=LA(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=MA(function(){function l(m){if(!c){if(c=!0,d=m,m=r(m),i!==void 0&&o.hasValue){var v=o.value;if(i(v,m))return h=v}return h=m}if(v=h,OA(d,m))return v;var w=r(m);return i!==void 0&&i(v,w)?v:(d=m,h=w)}var c=!1,d,h,p=n===void 0?null:n;return[function(){return l(e())},p===null?void 0:function(){return l(p())}]},[e,n,r,i]);var a=jA(t,s[0],s[1]);return DA(function(){o.hasValue=!0,o.value=a},[a]),$A(a),a};$E.exports=VE;var VA=$E.exports;function FA(t){t()}let FE=FA;const UA=t=>FE=t,BA=()=>FE,Xv=Symbol.for("react-redux-context"),Yv=typeof globalThis<"u"?globalThis:{};function zA(){var t;if(!f.createContext)return{};const e=(t=Yv[Xv])!=null?t:Yv[Xv]=new Map;let n=e.get(f.createContext);return n||(n=f.createContext(null),e.set(f.createContext,n)),n}const ai=zA();function Fg(t=ai){return function(){return f.useContext(t)}}const UE=Fg(),WA=()=>{throw new Error("uSES not initialized!")};let BE=WA;const HA=t=>{BE=t},qA=(t,e)=>t===e;function KA(t=ai){const e=t===ai?UE:Fg(t);return function(r,i={}){const{equalityFn:s=qA,stabilityCheck:o=void 0,noopCheck:a=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:l,subscription:c,getServerState:d,stabilityCheck:h,noopCheck:p}=e();f.useRef(!0);const m=f.useCallback({[r.name](w){return r(w)}}[r.name],[r,h,o]),v=BE(c.addNestedSub,l.getState,d||l.getState,m,s);return f.useDebugValue(v),v}}const Nn=KA();var zE={exports:{}},Ee={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lt=typeof Symbol=="function"&&Symbol.for,Ug=lt?Symbol.for("react.element"):60103,Bg=lt?Symbol.for("react.portal"):60106,Ld=lt?Symbol.for("react.fragment"):60107,Dd=lt?Symbol.for("react.strict_mode"):60108,Md=lt?Symbol.for("react.profiler"):60114,$d=lt?Symbol.for("react.provider"):60109,Vd=lt?Symbol.for("react.context"):60110,zg=lt?Symbol.for("react.async_mode"):60111,Fd=lt?Symbol.for("react.concurrent_mode"):60111,Ud=lt?Symbol.for("react.forward_ref"):60112,Bd=lt?Symbol.for("react.suspense"):60113,GA=lt?Symbol.for("react.suspense_list"):60120,zd=lt?Symbol.for("react.memo"):60115,Wd=lt?Symbol.for("react.lazy"):60116,QA=lt?Symbol.for("react.block"):60121,XA=lt?Symbol.for("react.fundamental"):60117,YA=lt?Symbol.for("react.responder"):60118,JA=lt?Symbol.for("react.scope"):60119;function on(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Ug:switch(t=t.type,t){case zg:case Fd:case Ld:case Md:case Dd:case Bd:return t;default:switch(t=t&&t.$$typeof,t){case Vd:case Ud:case Wd:case zd:case $d:return t;default:return e}}case Bg:return e}}}function WE(t){return on(t)===Fd}Ee.AsyncMode=zg;Ee.ConcurrentMode=Fd;Ee.ContextConsumer=Vd;Ee.ContextProvider=$d;Ee.Element=Ug;Ee.ForwardRef=Ud;Ee.Fragment=Ld;Ee.Lazy=Wd;Ee.Memo=zd;Ee.Portal=Bg;Ee.Profiler=Md;Ee.StrictMode=Dd;Ee.Suspense=Bd;Ee.isAsyncMode=function(t){return WE(t)||on(t)===zg};Ee.isConcurrentMode=WE;Ee.isContextConsumer=function(t){return on(t)===Vd};Ee.isContextProvider=function(t){return on(t)===$d};Ee.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ug};Ee.isForwardRef=function(t){return on(t)===Ud};Ee.isFragment=function(t){return on(t)===Ld};Ee.isLazy=function(t){return on(t)===Wd};Ee.isMemo=function(t){return on(t)===zd};Ee.isPortal=function(t){return on(t)===Bg};Ee.isProfiler=function(t){return on(t)===Md};Ee.isStrictMode=function(t){return on(t)===Dd};Ee.isSuspense=function(t){return on(t)===Bd};Ee.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Ld||t===Fd||t===Md||t===Dd||t===Bd||t===GA||typeof t=="object"&&t!==null&&(t.$$typeof===Wd||t.$$typeof===zd||t.$$typeof===$d||t.$$typeof===Vd||t.$$typeof===Ud||t.$$typeof===XA||t.$$typeof===YA||t.$$typeof===JA||t.$$typeof===QA)};Ee.typeOf=on;zE.exports=Ee;var ZA=zE.exports,HE=ZA,eN={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},tN={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},qE={};qE[HE.ForwardRef]=eN;qE[HE.Memo]=tN;var Te={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wg=Symbol.for("react.element"),Hg=Symbol.for("react.portal"),Hd=Symbol.for("react.fragment"),qd=Symbol.for("react.strict_mode"),Kd=Symbol.for("react.profiler"),Gd=Symbol.for("react.provider"),Qd=Symbol.for("react.context"),nN=Symbol.for("react.server_context"),Xd=Symbol.for("react.forward_ref"),Yd=Symbol.for("react.suspense"),Jd=Symbol.for("react.suspense_list"),Zd=Symbol.for("react.memo"),eh=Symbol.for("react.lazy"),rN=Symbol.for("react.offscreen"),KE;KE=Symbol.for("react.module.reference");function vn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Wg:switch(t=t.type,t){case Hd:case Kd:case qd:case Yd:case Jd:return t;default:switch(t=t&&t.$$typeof,t){case nN:case Qd:case Xd:case eh:case Zd:case Gd:return t;default:return e}}case Hg:return e}}}Te.ContextConsumer=Qd;Te.ContextProvider=Gd;Te.Element=Wg;Te.ForwardRef=Xd;Te.Fragment=Hd;Te.Lazy=eh;Te.Memo=Zd;Te.Portal=Hg;Te.Profiler=Kd;Te.StrictMode=qd;Te.Suspense=Yd;Te.SuspenseList=Jd;Te.isAsyncMode=function(){return!1};Te.isConcurrentMode=function(){return!1};Te.isContextConsumer=function(t){return vn(t)===Qd};Te.isContextProvider=function(t){return vn(t)===Gd};Te.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Wg};Te.isForwardRef=function(t){return vn(t)===Xd};Te.isFragment=function(t){return vn(t)===Hd};Te.isLazy=function(t){return vn(t)===eh};Te.isMemo=function(t){return vn(t)===Zd};Te.isPortal=function(t){return vn(t)===Hg};Te.isProfiler=function(t){return vn(t)===Kd};Te.isStrictMode=function(t){return vn(t)===qd};Te.isSuspense=function(t){return vn(t)===Yd};Te.isSuspenseList=function(t){return vn(t)===Jd};Te.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Hd||t===Kd||t===qd||t===Yd||t===Jd||t===rN||typeof t=="object"&&t!==null&&(t.$$typeof===eh||t.$$typeof===Zd||t.$$typeof===Gd||t.$$typeof===Qd||t.$$typeof===Xd||t.$$typeof===KE||t.getModuleId!==void 0)};Te.typeOf=vn;function iN(){const t=BA();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:e=s,function(){!i||e===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}const Jv={notify(){},get:()=>[]};function sN(t,e){let n,r=Jv;function i(h){return l(),r.subscribe(h)}function s(){r.notify()}function o(){d.onStateChange&&d.onStateChange()}function a(){return!!n}function l(){n||(n=e?e.addNestedSub(o):t.subscribe(o),r=iN())}function c(){n&&(n(),n=void 0,r.clear(),r=Jv)}const d={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:a,trySubscribe:l,tryUnsubscribe:c,getListeners:()=>r};return d}const oN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",aN=oN?f.useLayoutEffect:f.useEffect;function lN({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",noopCheck:s="once"}){const o=f.useMemo(()=>{const c=sN(t);return{store:t,subscription:c,getServerState:r?()=>r:void 0,stabilityCheck:i,noopCheck:s}},[t,r,i,s]),a=f.useMemo(()=>t.getState(),[t]);aN(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==t.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,a]);const l=e||ai;return f.createElement(l.Provider,{value:o},n)}function GE(t=ai){const e=t===ai?UE:Fg(t);return function(){const{store:r}=e();return r}}const cN=GE();function uN(t=ai){const e=t===ai?cN:GE(t);return function(){return e().dispatch}}const Ei=uN();HA(VA.useSyncExternalStoreWithSelector);UA(xl.unstable_batchedUpdates);function dN({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12.75"}))}const hN=f.forwardRef(dN),fN=hN;function pN({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 12c0-1.232-.046-2.453-.138-3.662a4.006 4.006 0 00-3.7-3.7 48.678 48.678 0 00-7.324 0 4.006 4.006 0 00-3.7 3.7c-.017.22-.032.441-.046.662M19.5 12l3-3m-3 3l-3-3m-12 3c0 1.232.046 2.453.138 3.662a4.006 4.006 0 003.7 3.7 48.656 48.656 0 007.324 0 4.006 4.006 0 003.7-3.7c.017-.22.032-.441.046-.662M4.5 12l3 3m-3-3l-3 3"}))}const mN=f.forwardRef(pN),gN=mN;function yN({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"}))}const vN=f.forwardRef(yN),QE=vN;function _N({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15m3 0l3-3m0 0l-3-3m3 3H9"}))}const wN=f.forwardRef(_N),xN=wN;function EN({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18L9 11.25l4.306 4.307a11.95 11.95 0 015.814-5.519l2.74-1.22m0 0l-5.94-2.28m5.94 2.28l-2.28 5.941"}))}const TN=f.forwardRef(EN),XE=TN;function SN({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"}))}const IN=f.forwardRef(SN),RN=IN;function CN({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 16.811c0 .864-.933 1.405-1.683.977l-7.108-4.062a1.125 1.125 0 010-1.953l7.108-4.062A1.125 1.125 0 0121 8.688v8.123zM11.25 16.811c0 .864-.933 1.405-1.683.977l-7.108-4.062a1.125 1.125 0 010-1.953L9.567 7.71a1.125 1.125 0 011.683.977v8.123z"}))}const kN=f.forwardRef(CN),PN=kN;function AN({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const NN=f.forwardRef(AN),qg=NN;function bN({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))}const ON=f.forwardRef(bN),jN=ON;function LN({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"}))}const DN=f.forwardRef(LN),YE=DN;function MN({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"}))}const $N=f.forwardRef(MN),JE=$N;function VN({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"}))}const FN=f.forwardRef(VN),UN=FN;function BN({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"}))}const zN=f.forwardRef(BN),Xp=zN;function WN({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 15.75l7.5-7.5 7.5 7.5"}))}const HN=f.forwardRef(WN),qN=HN;function KN({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5A3.375 3.375 0 006.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0015 2.25h-1.5a2.251 2.251 0 00-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 00-9-9z"}))}const GN=f.forwardRef(KN),QN=GN;function XN({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z"}),f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}))}const YN=f.forwardRef(XN),ZE=YN;function JN({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m5.231 13.481L15 17.25m-4.5-15H5.625c-.621 0-1.125.504-1.125 1.125v16.5c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9zm3.75 11.625a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z"}))}const ZN=f.forwardRef(JN),eb=ZN;function tb({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m3.75 9v6m3-3H9m1.5-12H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"}))}const nb=f.forwardRef(tb),rb=nb;function ib({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"}))}const sb=f.forwardRef(ib),ob=sb;function ab({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"}))}const lb=f.forwardRef(ab),cb=lb;function ub({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 8.688c0-.864.933-1.405 1.683-.977l7.108 4.062a1.125 1.125 0 010 1.953l-7.108 4.062A1.125 1.125 0 013 16.81V8.688zM12.75 8.688c0-.864.933-1.405 1.683-.977l7.108 4.062a1.125 1.125 0 010 1.953l-7.108 4.062a1.125 1.125 0 01-1.683-.977V8.688z"}))}const db=f.forwardRef(ub),eT=db;function hb({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"}))}const fb=f.forwardRef(hb),tT=fb;function pb({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const mb=f.forwardRef(pb),gb=mb;function yb({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"}))}const vb=f.forwardRef(yb),_b=vb;function wb({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"}))}const xb=f.forwardRef(wb),Eb=xb;function Tb({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 9l10.5-3m0 6.553v3.75a2.25 2.25 0 01-1.632 2.163l-1.32.377a1.803 1.803 0 11-.99-3.467l2.31-.66a2.25 2.25 0 001.632-2.163zm0 0V2.25L9 5.25v10.303m0 0v3.75a2.25 2.25 0 01-1.632 2.163l-1.32.377a1.803 1.803 0 01-.99-3.467l2.31-.66A2.25 2.25 0 009 15.553z"}))}const Sb=f.forwardRef(Tb),fa=Sb;function Ib({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.53 16.122a3 3 0 00-5.78 1.128 2.25 2.25 0 01-2.4 2.245 4.5 4.5 0 008.4-2.245c0-.399-.078-.78-.22-1.128zm0 0a15.998 15.998 0 003.388-1.62m-5.043-.025a15.994 15.994 0 011.622-3.395m3.42 3.42a15.995 15.995 0 004.764-4.648l3.876-5.814a1.151 1.151 0 00-1.597-1.597L14.146 6.32a15.996 15.996 0 00-4.649 4.763m3.42 3.42a6.776 6.776 0 00-3.42-3.42"}))}const Rb=f.forwardRef(Ib),Cb=Rb;function kb({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.25 9v6m-4.5 0V9M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))}const Pb=f.forwardRef(kb),Ro=Pb;function Ab({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"}))}const Nb=f.forwardRef(Ab),za=Nb;function bb({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.91 11.672a.375.375 0 010 .656l-5.603 3.113a.375.375 0 01-.557-.328V8.887c0-.286.307-.466.557-.327l5.603 3.112z"}))}const Ob=f.forwardRef(bb),nT=Ob;function jb({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.971l-11.54 6.347a1.125 1.125 0 01-1.667-.985V5.653z"}))}const Lb=f.forwardRef(jb),Db=Lb;function Mb({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"}))}const $b=f.forwardRef(Mb),Wa=$b;function Vb({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.59 14.37a6 6 0 01-5.84 7.38v-4.8m5.84-2.58a14.98 14.98 0 006.16-12.12A14.98 14.98 0 009.631 8.41m5.96 5.96a14.926 14.926 0 01-5.841 2.58m-.119-8.54a6 6 0 00-7.381 5.84h4.8m2.581-5.84a14.927 14.927 0 00-2.58 5.84m2.699 2.7c-.103.021-.207.041-.311.06a15.09 15.09 0 01-2.448-2.448 14.9 14.9 0 01.06-.312m-2.24 2.39a4.493 4.493 0 00-1.757 4.306 4.493 4.493 0 004.306-1.758M16.5 9a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"}))}const Fb=f.forwardRef(Vb),Ub=Fb;function Bb({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.114 5.636a9 9 0 010 12.728M16.463 8.288a5.25 5.25 0 010 7.424M6.75 8.25l4.72-4.72a.75.75 0 011.28.53v15.88a.75.75 0 01-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.01 9.01 0 012.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75z"}))}const zb=f.forwardRef(Bb),Wb=zb;function Hb({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 9.75L19.5 12m0 0l2.25 2.25M19.5 12l2.25-2.25M19.5 12l-2.25 2.25m-10.5-6l4.72-4.72a.75.75 0 011.28.531V19.94a.75.75 0 01-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.506-1.938-1.354A9.01 9.01 0 012.25 12c0-.83.112-1.633.322-2.395C2.806 8.757 3.63 8.25 4.51 8.25H6.75z"}))}const qb=f.forwardRef(Hb),Kb=qb;function Gb({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 7.5A2.25 2.25 0 017.5 5.25h9a2.25 2.25 0 012.25 2.25v9a2.25 2.25 0 01-2.25 2.25h-9a2.25 2.25 0 01-2.25-2.25v-9z"}))}const Qb=f.forwardRef(Gb),ku=Qb;function Xb({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"}))}const Yb=f.forwardRef(Xb),Kg=Yb;function Jb({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 01-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 00-3.213-9.193 2.056 2.056 0 00-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 00-10.026 0 1.106 1.106 0 00-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"}))}const Zb=f.forwardRef(Jb),rT=Zb;function e5({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))}const t5=f.forwardRef(e5),n5=t5;function r5({title:t,titleId:e,...n},r){return f.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?f.createElement("title",{id:e},t):null,f.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"}))}const i5=f.forwardRef(r5),li=i5;function Sn(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function ci(t){return!!t&&!!t[be]}function gr(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===f5}(t)||Array.isArray(t)||!!t[s_]||!!(!((e=t.constructor)===null||e===void 0)&&e[s_])||Gg(t)||Qg(t))}function es(t,e,n){n===void 0&&(n=!1),Co(t)===0?(n?Object.keys:Gs)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,i){return e(i,r,t)})}function Co(t){var e=t[be];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:Gg(t)?2:Qg(t)?3:0}function Ks(t,e){return Co(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function s5(t,e){return Co(t)===2?t.get(e):t[e]}function iT(t,e,n){var r=Co(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function sT(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function Gg(t){return d5&&t instanceof Map}function Qg(t){return h5&&t instanceof Set}function bi(t){return t.o||t.t}function Xg(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=aT(t);delete e[be];for(var n=Gs(e),r=0;r<n.length;r++){var i=n[r],s=e[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(e[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function Yg(t,e){return e===void 0&&(e=!1),Jg(t)||ci(t)||!gr(t)||(Co(t)>1&&(t.set=t.add=t.clear=t.delete=o5),Object.freeze(t),e&&es(t,function(n,r){return Yg(r,!0)},!0)),t}function o5(){Sn(2)}function Jg(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function Wn(t){var e=em[t];return e||Sn(18,t),e}function a5(t,e){em[t]||(em[t]=e)}function Yp(){return Ha}function yf(t,e){e&&(Wn("Patches"),t.u=[],t.s=[],t.v=e)}function Pu(t){Jp(t),t.p.forEach(l5),t.p=null}function Jp(t){t===Ha&&(Ha=t.l)}function Zv(t){return Ha={p:[],l:Ha,h:t,m:!0,_:0}}function l5(t){var e=t[be];e.i===0||e.i===1?e.j():e.g=!0}function vf(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.O||Wn("ES5").S(e,t,r),r?(n[be].P&&(Pu(e),Sn(4)),gr(t)&&(t=Au(e,t),e.l||Nu(e,t)),e.u&&Wn("Patches").M(n[be].t,t,e.u,e.s)):t=Au(e,n,[]),Pu(e),e.u&&e.v(e.u,e.s),t!==oT?t:void 0}function Au(t,e,n){if(Jg(e))return e;var r=e[be];if(!r)return es(e,function(a,l){return e_(t,r,e,a,l,n)},!0),e;if(r.A!==t)return e;if(!r.P)return Nu(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=Xg(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),es(s,function(a,l){return e_(t,r,i,a,l,n,o)}),Nu(t,i,!1),n&&t.u&&Wn("Patches").N(r,n,t.u,t.s)}return r.o}function e_(t,e,n,r,i,s,o){if(ci(i)){var a=Au(t,i,s&&e&&e.i!==3&&!Ks(e.R,r)?s.concat(r):void 0);if(iT(n,r,a),!ci(a))return;t.m=!1}else o&&n.add(i);if(gr(i)&&!Jg(i)){if(!t.h.D&&t._<1)return;Au(t,i),e&&e.A.l||Nu(t,i)}}function Nu(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&Yg(e,n)}function _f(t,e){var n=t[be];return(n?bi(n):t)[e]}function t_(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function jr(t){t.P||(t.P=!0,t.l&&jr(t.l))}function wf(t){t.o||(t.o=Xg(t.t))}function Zp(t,e,n){var r=Gg(e)?Wn("MapSet").F(e,n):Qg(e)?Wn("MapSet").T(e,n):t.O?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:Yp(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},l=a,c=qa;o&&(l=[a],c=Jo);var d=Proxy.revocable(l,c),h=d.revoke,p=d.proxy;return a.k=p,a.j=h,p}(e,n):Wn("ES5").J(e,n);return(n?n.A:Yp()).p.push(r),r}function c5(t){return ci(t)||Sn(22,t),function e(n){if(!gr(n))return n;var r,i=n[be],s=Co(n);if(i){if(!i.P&&(i.i<4||!Wn("ES5").K(i)))return i.t;i.I=!0,r=n_(n,s),i.I=!1}else r=n_(n,s);return es(r,function(o,a){i&&s5(i.t,o)===a||iT(r,o,e(a))}),s===3?new Set(r):r}(t)}function n_(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return Xg(t)}function u5(){function t(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var l=this[be];return qa.get(l,s)},set:function(l){var c=this[be];qa.set(c,s,l)}},a}function e(s){for(var o=s.length-1;o>=0;o--){var a=s[o][be];if(!a.P)switch(a.i){case 5:r(a)&&jr(a);break;case 4:n(a)&&jr(a)}}}function n(s){for(var o=s.t,a=s.k,l=Gs(a),c=l.length-1;c>=0;c--){var d=l[c];if(d!==be){var h=o[d];if(h===void 0&&!Ks(o,d))return!0;var p=a[d],m=p&&p[be];if(m?m.t!==h:!sT(p,h))return!0}}var v=!!o[be];return l.length!==Gs(o).length+(v?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var l=0;l<o.length;l++)if(!o.hasOwnProperty(l))return!0;return!1}var i={};a5("ES5",{J:function(s,o){var a=Array.isArray(s),l=function(d,h){if(d){for(var p=Array(h.length),m=0;m<h.length;m++)Object.defineProperty(p,""+m,t(m,!0));return p}var v=aT(h);delete v[be];for(var w=Gs(v),x=0;x<w.length;x++){var y=w[x];v[y]=t(y,d||!!v[y].enumerable)}return Object.create(Object.getPrototypeOf(h),v)}(a,s),c={i:a?5:4,A:o?o.A:Yp(),P:!1,I:!1,R:{},l:o,t:s,k:l,o:null,g:!1,C:!1};return Object.defineProperty(l,be,{value:c,writable:!0}),l},S:function(s,o,a){a?ci(o)&&o[be].A===s&&e(s.p):(s.u&&function l(c){if(c&&typeof c=="object"){var d=c[be];if(d){var h=d.t,p=d.k,m=d.R,v=d.i;if(v===4)es(p,function(_){_!==be&&(h[_]!==void 0||Ks(h,_)?m[_]||l(p[_]):(m[_]=!0,jr(d)))}),es(h,function(_){p[_]!==void 0||Ks(p,_)||(m[_]=!1,jr(d))});else if(v===5){if(r(d)&&(jr(d),m.length=!0),p.length<h.length)for(var w=p.length;w<h.length;w++)m[w]=!1;else for(var x=h.length;x<p.length;x++)m[x]=!0;for(var y=Math.min(p.length,h.length),g=0;g<y;g++)p.hasOwnProperty(g)||(m[g]=!0),m[g]===void 0&&l(p[g])}}}}(s.p[0]),e(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var r_,Ha,Zg=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",d5=typeof Map<"u",h5=typeof Set<"u",i_=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",oT=Zg?Symbol.for("immer-nothing"):((r_={})["immer-nothing"]=!0,r_),s_=Zg?Symbol.for("immer-draftable"):"__$immer_draftable",be=Zg?Symbol.for("immer-state"):"__$immer_state",f5=""+Object.prototype.constructor,Gs=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,aT=Object.getOwnPropertyDescriptors||function(t){var e={};return Gs(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},em={},qa={get:function(t,e){if(e===be)return t;var n=bi(t);if(!Ks(n,e))return function(i,s,o){var a,l=t_(s,o);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0}(t,n,e);var r=n[e];return t.I||!gr(r)?r:r===_f(t.t,e)?(wf(t),t.o[e]=Zp(t.A.h,r,t)):r},has:function(t,e){return e in bi(t)},ownKeys:function(t){return Reflect.ownKeys(bi(t))},set:function(t,e,n){var r=t_(bi(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=_f(bi(t),e),s=i==null?void 0:i[be];if(s&&s.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(sT(n,i)&&(n!==void 0||Ks(t.t,e)))return!0;wf(t),jr(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return _f(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,wf(t),jr(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=bi(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){Sn(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){Sn(12)}},Jo={};es(qa,function(t,e){Jo[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Jo.deleteProperty=function(t,e){return Jo.set.call(this,t,e,void 0)},Jo.set=function(t,e,n){return qa.set.call(this,t[0],e,n,t[0])};var p5=function(){function t(n){var r=this;this.O=i_,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var l=r;return function(w){var x=this;w===void 0&&(w=a);for(var y=arguments.length,g=Array(y>1?y-1:0),_=1;_<y;_++)g[_-1]=arguments[_];return l.produce(w,function(E){var T;return(T=s).call.apply(T,[x,E].concat(g))})}}var c;if(typeof s!="function"&&Sn(6),o!==void 0&&typeof o!="function"&&Sn(7),gr(i)){var d=Zv(r),h=Zp(r,i,void 0),p=!0;try{c=s(h),p=!1}finally{p?Pu(d):Jp(d)}return typeof Promise<"u"&&c instanceof Promise?c.then(function(w){return yf(d,o),vf(w,d)},function(w){throw Pu(d),w}):(yf(d,o),vf(c,d))}if(!i||typeof i!="object"){if((c=s(i))===void 0&&(c=i),c===oT&&(c=void 0),r.D&&Yg(c,!0),o){var m=[],v=[];Wn("Patches").M(i,c,m,v),o(m,v)}return c}Sn(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(c){for(var d=arguments.length,h=Array(d>1?d-1:0),p=1;p<d;p++)h[p-1]=arguments[p];return r.produceWithPatches(c,function(m){return i.apply(void 0,[m].concat(h))})};var o,a,l=r.produce(i,s,function(c,d){o=c,a=d});return typeof Promise<"u"&&l instanceof Promise?l.then(function(c){return[c,o,a]}):[l,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){gr(n)||Sn(8),ci(n)&&(n=c5(n));var r=Zv(this),i=Zp(this,n,void 0);return i[be].C=!0,Jp(r),i},e.finishDraft=function(n,r){var i=n&&n[be],s=i.A;return yf(s,r),vf(void 0,s)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!i_&&Sn(20),this.O=n},e.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=Wn("Patches").$;return ci(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},t}(),en=new p5,lT=en.produce;en.produceWithPatches.bind(en);en.setAutoFreeze.bind(en);en.setUseProxies.bind(en);en.applyPatches.bind(en);en.createDraft.bind(en);en.finishDraft.bind(en);function Ka(t){"@babel/helpers - typeof";return Ka=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ka(t)}function m5(t,e){if(Ka(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ka(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function g5(t){var e=m5(t,"string");return Ka(e)==="symbol"?e:String(e)}function y5(t,e,n){return e=g5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function a_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o_(Object(n),!0).forEach(function(r){y5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wt(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var l_=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),xf=function(){return Math.random().toString(36).substring(7).split("").join(".")},bu={INIT:"@@redux/INIT"+xf(),REPLACE:"@@redux/REPLACE"+xf(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+xf()}};function v5(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function cT(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(wt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(wt(1));return n(cT)(t,e)}if(typeof t!="function")throw new Error(wt(2));var i=t,s=e,o=[],a=o,l=!1;function c(){a===o&&(a=o.slice())}function d(){if(l)throw new Error(wt(3));return s}function h(w){if(typeof w!="function")throw new Error(wt(4));if(l)throw new Error(wt(5));var x=!0;return c(),a.push(w),function(){if(x){if(l)throw new Error(wt(6));x=!1,c();var g=a.indexOf(w);a.splice(g,1),o=null}}}function p(w){if(!v5(w))throw new Error(wt(7));if(typeof w.type>"u")throw new Error(wt(8));if(l)throw new Error(wt(9));try{l=!0,s=i(s,w)}finally{l=!1}for(var x=o=a,y=0;y<x.length;y++){var g=x[y];g()}return w}function m(w){if(typeof w!="function")throw new Error(wt(10));i=w,p({type:bu.REPLACE})}function v(){var w,x=h;return w={subscribe:function(g){if(typeof g!="object"||g===null)throw new Error(wt(11));function _(){g.next&&g.next(d())}_();var E=x(_);return{unsubscribe:E}}},w[l_]=function(){return this},w}return p({type:bu.INIT}),r={dispatch:p,subscribe:h,getState:d,replaceReducer:m},r[l_]=v,r}function _5(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:bu.INIT});if(typeof r>"u")throw new Error(wt(12));if(typeof n(void 0,{type:bu.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(wt(13))})}function w5(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var s=Object.keys(n),o;try{_5(n)}catch(a){o=a}return function(l,c){if(l===void 0&&(l={}),o)throw o;for(var d=!1,h={},p=0;p<s.length;p++){var m=s[p],v=n[m],w=l[m],x=v(w,c);if(typeof x>"u")throw c&&c.type,new Error(wt(14));h[m]=x,d=d||x!==w}return d=d||s.length!==Object.keys(l).length,d?h:l}}function Ou(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function x5(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(wt(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=e.map(function(l){return l(o)});return s=Ou.apply(void 0,a)(i.dispatch),a_(a_({},i),{},{dispatch:s})}}}function uT(t){var e=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,t):o(a)}}};return e}var dT=uT();dT.withExtraArgument=uT;const c_=dT;var hT=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),E5=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(d){return l([c,d])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(d){c=[6,d],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},co=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},T5=Object.defineProperty,S5=Object.defineProperties,I5=Object.getOwnPropertyDescriptors,u_=Object.getOwnPropertySymbols,R5=Object.prototype.hasOwnProperty,C5=Object.prototype.propertyIsEnumerable,d_=function(t,e,n){return e in t?T5(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},ei=function(t,e){for(var n in e||(e={}))R5.call(e,n)&&d_(t,n,e[n]);if(u_)for(var r=0,i=u_(e);r<i.length;r++){var n=i[r];C5.call(e,n)&&d_(t,n,e[n])}return t},Ef=function(t,e){return S5(t,I5(e))},k5=function(t,e,n){return new Promise(function(r,i){var s=function(l){try{a(n.next(l))}catch(c){i(c)}},o=function(l){try{a(n.throw(l))}catch(c){i(c)}},a=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(s,o)};a((n=n.apply(t,e)).next())})},P5=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ou:Ou.apply(null,arguments)};function A5(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}var N5=function(t){hT(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,co([void 0],n[0].concat(this)))):new(e.bind.apply(e,co([void 0],n.concat(this))))},e}(Array),b5=function(t){hT(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,co([void 0],n[0].concat(this)))):new(e.bind.apply(e,co([void 0],n.concat(this))))},e}(Array);function tm(t){return gr(t)?lT(t,function(){}):t}function O5(t){return typeof t=="boolean"}function j5(){return function(e){return L5(e)}}function L5(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck;var r=new N5;return n&&(O5(n)?r.push(c_):r.push(c_.withExtraArgument(n.extraArgument))),r}var D5=!0;function M5(t){var e=j5(),n=t||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?e():s,a=n.devTools,l=a===void 0?!0:a,c=n.preloadedState,d=c===void 0?void 0:c,h=n.enhancers,p=h===void 0?void 0:h,m;if(typeof i=="function")m=i;else if(A5(i))m=w5(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var v=o;typeof v=="function"&&(v=v(e));var w=x5.apply(void 0,v),x=Ou;l&&(x=P5(ei({trace:!D5},typeof l=="object"&&l)));var y=new b5(w),g=y;Array.isArray(p)?g=co([w],p):typeof p=="function"&&(g=p(y));var _=x.apply(void 0,g);return cT(m,d,_)}function ti(t,e){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(e){var s=e.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return ei(ei({type:t,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}function fT(t){var e={},n=[],r,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(a in e)throw new Error("addCase cannot be called with two reducers for the same action type");return e[a]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return t(i),[e,n,r]}function $5(t){return typeof t=="function"}function V5(t,e,n,r){n===void 0&&(n=[]);var i=typeof e=="function"?fT(e):[e,n,r],s=i[0],o=i[1],a=i[2],l;if($5(t))l=function(){return tm(t())};else{var c=tm(t);l=function(){return c}}function d(h,p){h===void 0&&(h=l());var m=co([s[p.type]],o.filter(function(v){var w=v.matcher;return w(p)}).map(function(v){var w=v.reducer;return w}));return m.filter(function(v){return!!v}).length===0&&(m=[a]),m.reduce(function(v,w){if(w)if(ci(v)){var x=v,y=w(x,p);return y===void 0?v:y}else{if(gr(v))return lT(v,function(g){return w(g,p)});var y=w(v,p);if(y===void 0){if(v===null)return v;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}return v},h)}return d.getInitialState=l,d}function F5(t,e){return t+"/"+e}function U5(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof t.initialState=="function"?t.initialState:tm(t.initialState),r=t.reducers||{},i=Object.keys(r),s={},o={},a={};i.forEach(function(d){var h=r[d],p=F5(e,d),m,v;"reducer"in h?(m=h.reducer,v=h.prepare):m=h,s[d]=m,o[p]=m,a[d]=v?ti(p,v):ti(p)});function l(){var d=typeof t.extraReducers=="function"?fT(t.extraReducers):[t.extraReducers],h=d[0],p=h===void 0?{}:h,m=d[1],v=m===void 0?[]:m,w=d[2],x=w===void 0?void 0:w,y=ei(ei({},p),o);return V5(n,function(g){for(var _ in y)g.addCase(_,y[_]);for(var E=0,T=v;E<T.length;E++){var R=T[E];g.addMatcher(R.matcher,R.reducer)}x&&g.addDefaultCase(x)})}var c;return{name:e,reducer:function(d,h){return c||(c=l()),c(d,h)},actions:a,caseReducers:s,getInitialState:function(){return c||(c=l()),c.getInitialState()}}}var B5="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",z5=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=B5[Math.random()*64|0];return e},W5=["name","message","stack","code"],Tf=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),h_=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),H5=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,r=W5;n<r.length;n++){var i=r[n];typeof t[i]=="string"&&(e[i]=t[i])}return e}return{message:String(t)}};(function(){function t(e,n,r){var i=ti(e+"/fulfilled",function(c,d,h,p){return{payload:c,meta:Ef(ei({},p||{}),{arg:h,requestId:d,requestStatus:"fulfilled"})}}),s=ti(e+"/pending",function(c,d,h){return{payload:void 0,meta:Ef(ei({},h||{}),{arg:d,requestId:c,requestStatus:"pending"})}}),o=ti(e+"/rejected",function(c,d,h,p,m){return{payload:p,error:(r&&r.serializeError||H5)(c||"Rejected"),meta:Ef(ei({},m||{}),{arg:h,requestId:d,rejectedWithValue:!!p,requestStatus:"rejected",aborted:(c==null?void 0:c.name)==="AbortError",condition:(c==null?void 0:c.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function c(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return c.prototype.abort=function(){},c}();function l(c){return function(d,h,p){var m=r!=null&&r.idGenerator?r.idGenerator(c):z5(),v=new a,w;function x(g){w=g,v.abort()}var y=function(){return k5(this,null,function(){var g,_,E,T,R,I,S;return E5(this,function(A){switch(A.label){case 0:return A.trys.push([0,4,,5]),T=(g=r==null?void 0:r.condition)==null?void 0:g.call(r,c,{getState:h,extra:p}),K5(T)?[4,T]:[3,2];case 1:T=A.sent(),A.label=2;case 2:if(T===!1||v.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return R=new Promise(function(k,N){return v.signal.addEventListener("abort",function(){return N({name:"AbortError",message:w||"Aborted"})})}),d(s(m,c,(_=r==null?void 0:r.getPendingMeta)==null?void 0:_.call(r,{requestId:m,arg:c},{getState:h,extra:p}))),[4,Promise.race([R,Promise.resolve(n(c,{dispatch:d,getState:h,extra:p,requestId:m,signal:v.signal,abort:x,rejectWithValue:function(k,N){return new Tf(k,N)},fulfillWithValue:function(k,N){return new h_(k,N)}})).then(function(k){if(k instanceof Tf)throw k;return k instanceof h_?i(k.payload,m,c,k.meta):i(k,m,c)})])];case 3:return E=A.sent(),[3,5];case 4:return I=A.sent(),E=I instanceof Tf?o(null,m,c,I.payload,I.meta):o(I,m,c),[3,5];case 5:return S=r&&!r.dispatchConditionRejection&&o.match(E)&&E.meta.condition,S||d(E),[2,E]}})})}();return Object.assign(y,{abort:x,requestId:m,arg:c,unwrap:function(){return y.then(q5)}})}}return Object.assign(l,{pending:s,rejected:o,fulfilled:i,typePrefix:e})}return t.withTypes=function(){return t},t})();function q5(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function K5(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var ey="listenerMiddleware";ti(ey+"/add");ti(ey+"/removeAll");ti(ey+"/remove");var f_;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);u5();const G5={song:{id:"",name:"",singer:"",by:"",image_file_path:"",image_url:"",song_file_path:"",song_url:"",duration:0,lyric_id:"",currentIndex:0,song_in:"admin"},playlist:{id:"",image_path:"",name:"",song_ids:[],time:0,count:0,by:""}},pT=U5({name:"song",initialState:G5,reducers:{setSong(t,e){t.song={...e.payload}},setPlaylist(t,e){t.playlist={...e.payload}}}}),bn=t=>t.song,{setSong:cr,setPlaylist:ju}=pT.actions,Q5=pT.reducer,Lu={red:{id:"red",type:"dark",bottom_player_bg:"bg-[#3b1113]",side_bar_bg:"bg-[#391b1c]",content_text:"text-[#ca4954]",content_hover_text:"hover:text-[#ca4954]",content_bg:"bg-[#ca4954]",content_hover_bg:"hover:bg-[#ca4954]",container:"bg-[#2e0f10]"},deep_blue:{id:"deep_blue",type:"dark",bottom_player_bg:"bg-[#111f3b]",side_bar_bg:"bg-[#1b2639]",content_text:"text-[#0c9e85]",content_hover_text:"hover:text-[#0c9e85]",content_bg:"bg-[#0c9e85]",content_hover_bg:"hover:bg-[#0c9e85]",container:"bg-[#0f1a2e]"},green_light:{id:"green_light",type:"light",bottom_player_bg:"bg-[#c0d8d8]",side_bar_bg:"bg-[#dde5e5]",content_text:"text-[#198585]",content_hover_text:"hover:text-[#198585]",content_bg:"bg-[#198585]",content_hover_bg:"hover:bg-[#198585]",container:"bg-[#ced9d9]"}},X5=JSON.parse(localStorage.getItem("theme")),p_=Lu[X5]||Lu.red,mT={theme:{...p_,alpha:p_.type==="light"?"[#000]/[.1]":"[#fff]/[.1]"}},Y5=(t,e)=>({theme:{...Lu[e.payload.id],alpha:Lu[e.payload.id].type==="dark"?"[#fff]/[.1]":"[#000]/[.1]"}}),J5=t=>{const[e,n]=f.useReducer(Y5,t),r=f.useCallback(i=>{console.log("set theme"),n({type:0,payload:{id:i}})},[]);return{state:e,setTheme:r}},Z5={state:mT,setTheme:()=>{}},gT=f.createContext(Z5),eO=({children:t,theme:e})=>u.jsx(gT.Provider,{value:J5(e),children:t}),ct=()=>{const{state:{theme:t},setTheme:e}=f.useContext(gT);return{theme:t,setTheme:e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},tO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},vT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let p=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(p=64)),r.push(n[d],n[h],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):tO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new nO;const p=s<<2|a>>4;if(r.push(p),c!==64){const m=a<<4&240|c>>2;if(r.push(m),h!==64){const v=c<<6&192|h;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class nO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rO=function(t){const e=yT(t);return vT.encodeByteArray(e,!0)},Du=function(t){return rO(t).replace(/\./g,"")},_T=function(t){try{return vT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO=()=>iO().__FIREBASE_DEFAULTS__,oO=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},aO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&_T(t[1]);return e&&JSON.parse(e)},th=()=>{try{return sO()||oO()||aO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},wT=t=>{var e,n;return(n=(e=th())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},xT=t=>{const e=wT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ET=()=>{var t;return(t=th())===null||t===void 0?void 0:t.config},TT=t=>{var e;return(e=th())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Du(JSON.stringify(n)),Du(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pt())}function uO(){var t;const e=(t=th())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function hO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fO(){const t=Pt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function pO(){try{return typeof indexedDB=="object"}catch{return!1}}function mO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO="FirebaseError";class Zn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=gO,Object.setPrototypeOf(this,Zn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sl.prototype.create)}}class Sl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?yO(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Zn(i,a,r)}}function yO(t,e){return t.replace(vO,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const vO=/\{\$([^}]+)}/g;function _O(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Mu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(m_(s)&&m_(o)){if(!Mu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function m_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function wO(t,e){const n=new xO(t,e);return n.subscribe.bind(n)}class xO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");EO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Sf),i.error===void 0&&(i.error=Sf),i.complete===void 0&&(i.complete=Sf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function EO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Sf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nt(t){return t&&t._delegate?t._delegate:t}class ui{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new lO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(IO(e))try{this.getOrInitializeService({instanceIdentifier:Oi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Oi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Oi){return this.instances.has(e)}getOptions(e=Oi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:SO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Oi){return this.component?this.component.multipleInstances?e:Oi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function SO(t){return t===Oi?void 0:t}function IO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new TO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ye||(ye={}));const CO={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},kO=ye.INFO,PO={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},AO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=PO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ty{constructor(e){this.name=e,this._logLevel=kO,this._logHandler=AO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}}const NO=(t,e)=>e.some(n=>t instanceof n);let g_,y_;function bO(){return g_||(g_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OO(){return y_||(y_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const IT=new WeakMap,nm=new WeakMap,RT=new WeakMap,If=new WeakMap,ny=new WeakMap;function jO(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ni(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&IT.set(n,t)}).catch(()=>{}),ny.set(e,t),e}function LO(t){if(nm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});nm.set(t,e)}let rm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return nm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||RT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ni(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function DO(t){rm=t(rm)}function MO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Rf(this),e,...n);return RT.set(r,e.sort?e.sort():[e]),ni(r)}:OO().includes(t)?function(...e){return t.apply(Rf(this),e),ni(IT.get(this))}:function(...e){return ni(t.apply(Rf(this),e))}}function $O(t){return typeof t=="function"?MO(t):(t instanceof IDBTransaction&&LO(t),NO(t,bO())?new Proxy(t,rm):t)}function ni(t){if(t instanceof IDBRequest)return jO(t);if(If.has(t))return If.get(t);const e=$O(t);return e!==t&&(If.set(t,e),ny.set(e,t)),e}const Rf=t=>ny.get(t);function VO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ni(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ni(o.result),l.oldVersion,l.newVersion,ni(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const FO=["get","getKey","getAll","getAllKeys","count"],UO=["put","add","delete","clear"],Cf=new Map;function v_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Cf.get(e))return Cf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=UO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||FO.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Cf.set(e,s),s}DO(t=>({...t,get:(e,n,r)=>v_(e,n)||t.get(e,n,r),has:(e,n)=>!!v_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(zO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function zO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const im="@firebase/app",__="0.9.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts=new ty("@firebase/app"),WO="@firebase/app-compat",HO="@firebase/analytics-compat",qO="@firebase/analytics",KO="@firebase/app-check-compat",GO="@firebase/app-check",QO="@firebase/auth",XO="@firebase/auth-compat",YO="@firebase/database",JO="@firebase/database-compat",ZO="@firebase/functions",ej="@firebase/functions-compat",tj="@firebase/installations",nj="@firebase/installations-compat",rj="@firebase/messaging",ij="@firebase/messaging-compat",sj="@firebase/performance",oj="@firebase/performance-compat",aj="@firebase/remote-config",lj="@firebase/remote-config-compat",cj="@firebase/storage",uj="@firebase/storage-compat",dj="@firebase/firestore",hj="@firebase/firestore-compat",fj="firebase",pj="10.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm="[DEFAULT]",mj={[im]:"fire-core",[WO]:"fire-core-compat",[qO]:"fire-analytics",[HO]:"fire-analytics-compat",[GO]:"fire-app-check",[KO]:"fire-app-check-compat",[QO]:"fire-auth",[XO]:"fire-auth-compat",[YO]:"fire-rtdb",[JO]:"fire-rtdb-compat",[ZO]:"fire-fn",[ej]:"fire-fn-compat",[tj]:"fire-iid",[nj]:"fire-iid-compat",[rj]:"fire-fcm",[ij]:"fire-fcm-compat",[sj]:"fire-perf",[oj]:"fire-perf-compat",[aj]:"fire-rc",[lj]:"fire-rc-compat",[cj]:"fire-gcs",[uj]:"fire-gcs-compat",[dj]:"fire-fst",[hj]:"fire-fst-compat","fire-js":"fire-js",[fj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u=new Map,om=new Map;function gj(t,e){try{t.container.addComponent(e)}catch(n){ts.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ns(t){const e=t.name;if(om.has(e))return ts.debug(`There were multiple attempts to register component ${e}.`),!1;om.set(e,t);for(const n of $u.values())gj(n,t);return!0}function nh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ri=new Sl("app","Firebase",yj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ui("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ri.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=pj;function CT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:sm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ri.create("bad-app-name",{appName:String(i)});if(n||(n=ET()),!n)throw ri.create("no-options");const s=$u.get(i);if(s){if(Mu(n,s.options)&&Mu(r,s.config))return s;throw ri.create("duplicate-app",{appName:i})}const o=new RO(i);for(const l of om.values())o.addComponent(l);const a=new vj(n,r,o);return $u.set(i,a),a}function ry(t=sm){const e=$u.get(t);if(!e&&t===sm&&ET())return CT();if(!e)throw ri.create("no-app",{appName:t});return e}function Hn(t,e,n){var r;let i=(r=mj[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ts.warn(a.join(" "));return}ns(new ui(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j="firebase-heartbeat-database",wj=1,Ga="firebase-heartbeat-store";let kf=null;function kT(){return kf||(kf=VO(_j,wj,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ga)}}}).catch(t=>{throw ri.create("idb-open",{originalErrorMessage:t.message})})),kf}async function xj(t){try{return await(await kT()).transaction(Ga).objectStore(Ga).get(PT(t))}catch(e){if(e instanceof Zn)ts.warn(e.message);else{const n=ri.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ts.warn(n.message)}}}async function w_(t,e){try{const r=(await kT()).transaction(Ga,"readwrite");await r.objectStore(Ga).put(e,PT(t)),await r.done}catch(n){if(n instanceof Zn)ts.warn(n.message);else{const r=ri.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ts.warn(r.message)}}}function PT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej=1024,Tj=30*24*60*60*1e3;class Sj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Rj(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=x_();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=Tj}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=x_(),{heartbeatsToSend:n,unsentEntries:r}=Ij(this._heartbeatsCache.heartbeats),i=Du(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function x_(){return new Date().toISOString().substring(0,10)}function Ij(t,e=Ej){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),E_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),E_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Rj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pO()?mO().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await xj(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return w_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return w_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function E_(t){return Du(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cj(t){ns(new ui("platform-logger",e=>new BO(e),"PRIVATE")),ns(new ui("heartbeat",e=>new Sj(e),"PRIVATE")),Hn(im,__,t),Hn(im,__,"esm2017"),Hn("fire-js","")}Cj("");var kj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$,iy=iy||{},re=kj||self;function rh(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Rl(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Pj(t){return Object.prototype.hasOwnProperty.call(t,Pf)&&t[Pf]||(t[Pf]=++Aj)}var Pf="closure_uid_"+(1e9*Math.random()>>>0),Aj=0;function Nj(t,e,n){return t.call.apply(t.bind,arguments)}function bj(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function It(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?It=Nj:It=bj,It.apply(null,arguments)}function _c(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function ut(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Ti(){this.s=this.s,this.o=this.o}var Oj=0;Ti.prototype.s=!1;Ti.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Oj!=0)&&Pj(this)};Ti.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const AT=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function sy(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function T_(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(rh(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Rt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Rt.prototype.h=function(){this.defaultPrevented=!0};var jj=function(){if(!re.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{re.addEventListener("test",()=>{},e),re.removeEventListener("test",()=>{},e)}catch{}return t}();function Qa(t){return/^[\s\xa0]*$/.test(t)}function ih(){var t=re.navigator;return t&&(t=t.userAgent)?t:""}function Dn(t){return ih().indexOf(t)!=-1}function oy(t){return oy[" "](t),t}oy[" "]=function(){};function Lj(t,e){var n=C4;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var Dj=Dn("Opera"),uo=Dn("Trident")||Dn("MSIE"),NT=Dn("Edge"),am=NT||uo,bT=Dn("Gecko")&&!(ih().toLowerCase().indexOf("webkit")!=-1&&!Dn("Edge"))&&!(Dn("Trident")||Dn("MSIE"))&&!Dn("Edge"),Mj=ih().toLowerCase().indexOf("webkit")!=-1&&!Dn("Edge");function OT(){var t=re.document;return t?t.documentMode:void 0}var lm;e:{var Af="",Nf=function(){var t=ih();if(bT)return/rv:([^\);]+)(\)|;)/.exec(t);if(NT)return/Edge\/([\d\.]+)/.exec(t);if(uo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Mj)return/WebKit\/(\S+)/.exec(t);if(Dj)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Nf&&(Af=Nf?Nf[1]:""),uo){var bf=OT();if(bf!=null&&bf>parseFloat(Af)){lm=String(bf);break e}}lm=Af}var cm;if(re.document&&uo){var S_=OT();cm=S_||parseInt(lm,10)||void 0}else cm=void 0;var $j=cm;function Xa(t,e){if(Rt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(bT){e:{try{oy(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Vj[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Xa.$.h.call(this)}}ut(Xa,Rt);var Vj={2:"touch",3:"pen",4:"mouse"};Xa.prototype.h=function(){Xa.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Cl="closure_listenable_"+(1e6*Math.random()|0),Fj=0;function Uj(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Fj,this.fa=this.ia=!1}function sh(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function ay(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function Bj(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function jT(t){const e={};for(const n in t)e[n]=t[n];return e}const I_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function LT(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<I_.length;s++)n=I_[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function oh(t){this.src=t,this.g={},this.h=0}oh.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=dm(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new Uj(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function um(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=AT(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(sh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function dm(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var ly="closure_lm_"+(1e6*Math.random()|0),Of={};function DT(t,e,n,r,i){if(r&&r.once)return $T(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)DT(t,e[s],n,r,i);return null}return n=dy(n),t&&t[Cl]?t.O(e,n,Rl(r)?!!r.capture:!!r,i):MT(t,e,n,!1,r,i)}function MT(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Rl(i)?!!i.capture:!!i,a=uy(t);if(a||(t[ly]=a=new oh(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=zj(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)jj||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(FT(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function zj(){function t(n){return e.call(t.src,t.listener,n)}const e=Wj;return t}function $T(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)$T(t,e[s],n,r,i);return null}return n=dy(n),t&&t[Cl]?t.P(e,n,Rl(r)?!!r.capture:!!r,i):MT(t,e,n,!0,r,i)}function VT(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)VT(t,e[s],n,r,i);else r=Rl(r)?!!r.capture:!!r,n=dy(n),t&&t[Cl]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=dm(s,n,r,i),-1<n&&(sh(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=uy(t))&&(e=t.g[e.toString()],t=-1,e&&(t=dm(e,n,r,i)),(n=-1<t?e[t]:null)&&cy(n))}function cy(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Cl])um(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(FT(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=uy(e))?(um(n,t),n.h==0&&(n.src=null,e[ly]=null)):sh(t)}}}function FT(t){return t in Of?Of[t]:Of[t]="on"+t}function Wj(t,e){if(t.fa)t=!0;else{e=new Xa(e,this);var n=t.listener,r=t.la||t.src;t.ia&&cy(t),t=n.call(r,e)}return t}function uy(t){return t=t[ly],t instanceof oh?t:null}var jf="__closure_events_fn_"+(1e9*Math.random()>>>0);function dy(t){return typeof t=="function"?t:(t[jf]||(t[jf]=function(e){return t.handleEvent(e)}),t[jf])}function ot(){Ti.call(this),this.i=new oh(this),this.S=this,this.J=null}ut(ot,Ti);ot.prototype[Cl]=!0;ot.prototype.removeEventListener=function(t,e,n,r){VT(this,t,e,n,r)};function mt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Rt(e,t);else if(e instanceof Rt)e.target=e.target||t;else{var i=e;e=new Rt(r,t),LT(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=wc(o,r,!0,e)&&i}if(o=e.g=t,i=wc(o,r,!0,e)&&i,i=wc(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=wc(o,r,!1,e)&&i}ot.prototype.N=function(){if(ot.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)sh(n[r]);delete t.g[e],t.h--}}this.J=null};ot.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};ot.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function wc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&um(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var hy=re.JSON.stringify;class Hj{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function qj(){var t=fy;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class Kj{constructor(){this.h=this.g=null}add(e,n){const r=UT.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var UT=new Hj(()=>new Gj,t=>t.reset());class Gj{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Qj(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Xj(t){re.setTimeout(()=>{throw t},0)}let Ya,Ja=!1,fy=new Kj,BT=()=>{const t=re.Promise.resolve(void 0);Ya=()=>{t.then(Yj)}};var Yj=()=>{for(var t;t=qj();){try{t.h.call(t.g)}catch(n){Xj(n)}var e=UT;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ja=!1};function ah(t,e){ot.call(this),this.h=t||1,this.g=e||re,this.j=It(this.qb,this),this.l=Date.now()}ut(ah,ot);$=ah.prototype;$.ga=!1;$.T=null;$.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),mt(this,"tick"),this.ga&&(py(this),this.start()))}};$.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function py(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}$.N=function(){ah.$.N.call(this),py(this),delete this.g};function my(t,e,n){if(typeof t=="function")n&&(t=It(t,n));else if(t&&typeof t.handleEvent=="function")t=It(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:re.setTimeout(t,e||0)}function zT(t){t.g=my(()=>{t.g=null,t.i&&(t.i=!1,zT(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class Jj extends Ti{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:zT(this)}N(){super.N(),this.g&&(re.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Za(t){Ti.call(this),this.h=t,this.g={}}ut(Za,Ti);var R_=[];function WT(t,e,n,r){Array.isArray(n)||(n&&(R_[0]=n.toString()),n=R_);for(var i=0;i<n.length;i++){var s=DT(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function HT(t){ay(t.g,function(e,n){this.g.hasOwnProperty(n)&&cy(e)},t),t.g={}}Za.prototype.N=function(){Za.$.N.call(this),HT(this)};Za.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function lh(){this.g=!0}lh.prototype.Ea=function(){this.g=!1};function Zj(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var d=c[0];c=c[1];var h=d.split("_");o=2<=h.length&&h[1]=="type"?o+(d+"="+c+"&"):o+(d+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function e4(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Ds(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+n4(t,n)+(r?" "+r:"")})}function t4(t,e){t.info(function(){return"TIMEOUT: "+e})}lh.prototype.info=function(){};function n4(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return hy(n)}catch{return e}}var ps={},C_=null;function ch(){return C_=C_||new ot}ps.Ta="serverreachability";function qT(t){Rt.call(this,ps.Ta,t)}ut(qT,Rt);function el(t){const e=ch();mt(e,new qT(e))}ps.STAT_EVENT="statevent";function KT(t,e){Rt.call(this,ps.STAT_EVENT,t),this.stat=e}ut(KT,Rt);function jt(t){const e=ch();mt(e,new KT(e,t))}ps.Ua="timingevent";function GT(t,e){Rt.call(this,ps.Ua,t),this.size=e}ut(GT,Rt);function kl(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return re.setTimeout(function(){t()},e)}var uh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},QT={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function gy(){}gy.prototype.h=null;function k_(t){return t.h||(t.h=t.i())}function XT(){}var Pl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function yy(){Rt.call(this,"d")}ut(yy,Rt);function vy(){Rt.call(this,"c")}ut(vy,Rt);var hm;function dh(){}ut(dh,gy);dh.prototype.g=function(){return new XMLHttpRequest};dh.prototype.i=function(){return{}};hm=new dh;function Al(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Za(this),this.P=r4,t=am?125:void 0,this.V=new ah(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new YT}function YT(){this.i=null,this.g="",this.h=!1}var r4=45e3,fm={},Vu={};$=Al.prototype;$.setTimeout=function(t){this.P=t};function pm(t,e,n){t.L=1,t.v=fh(yr(e)),t.s=n,t.S=!0,JT(t,null)}function JT(t,e){t.G=Date.now(),Nl(t),t.A=yr(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),oS(n.i,"t",r),t.C=0,n=t.l.J,t.h=new YT,t.g=CS(t.l,n?e:null,!t.s),0<t.O&&(t.M=new Jj(It(t.Pa,t,t.g),t.O)),WT(t.U,t.g,"readystatechange",t.nb),e=t.I?jT(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),el(),Zj(t.j,t.u,t.A,t.m,t.W,t.s)}$.nb=function(t){t=t.target;const e=this.M;e&&Vn(t)==3?e.l():this.Pa(t)};$.Pa=function(t){try{if(t==this.g)e:{const d=Vn(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>d)&&(d!=3||am||this.g&&(this.h.h||this.g.ja()||b_(this.g)))){this.J||d!=4||e==7||(e==8||0>=h?el(3):el(2)),hh(this);var n=this.g.da();this.ca=n;t:if(ZT(this)){var r=b_(this.g);t="";var i=r.length,s=Vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mi(this),pa(this);var o="";break t}this.h.i=new re.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,e4(this.j,this.u,this.A,this.m,this.W,d,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Qa(a)){var c=a;break t}}c=null}if(n=c)Ds(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mm(this,n);else{this.i=!1,this.o=3,jt(12),Mi(this),pa(this);break e}}this.S?(eS(this,d,o),am&&this.i&&d==3&&(WT(this.U,this.V,"tick",this.mb),this.V.start())):(Ds(this.j,this.m,o,null),mm(this,o)),d==4&&Mi(this),this.i&&!this.J&&(d==4?TS(this.l,this):(this.i=!1,Nl(this)))}else S4(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,jt(12)):(this.o=0,jt(13)),Mi(this),pa(this)}}}catch{}finally{}};function ZT(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function eS(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=i4(t,n),i==Vu){e==4&&(t.o=4,jt(14),r=!1),Ds(t.j,t.m,null,"[Incomplete Response]");break}else if(i==fm){t.o=4,jt(15),Ds(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ds(t.j,t.m,i,null),mm(t,i);ZT(t)&&i!=Vu&&i!=fm&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,jt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Sy(e),e.M=!0,jt(11))):(Ds(t.j,t.m,n,"[Invalid Chunked Response]"),Mi(t),pa(t))}$.mb=function(){if(this.g){var t=Vn(this.g),e=this.g.ja();this.C<e.length&&(hh(this),eS(this,t,e),this.i&&t!=4&&Nl(this))}};function i4(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Vu:(n=Number(e.substring(n,r)),isNaN(n)?fm:(r+=1,r+n>e.length?Vu:(e=e.slice(r,r+n),t.C=r+n,e)))}$.cancel=function(){this.J=!0,Mi(this)};function Nl(t){t.Y=Date.now()+t.P,tS(t,t.P)}function tS(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=kl(It(t.lb,t),e)}function hh(t){t.B&&(re.clearTimeout(t.B),t.B=null)}$.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(t4(this.j,this.A),this.L!=2&&(el(),jt(17)),Mi(this),this.o=2,pa(this)):tS(this,this.Y-t)};function pa(t){t.l.H==0||t.J||TS(t.l,t)}function Mi(t){hh(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,py(t.V),HT(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function mm(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||gm(n.i,t))){if(!t.K&&gm(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Bu(n),yh(n);else break e;Ty(n),jt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=kl(It(n.ib,n),6e3));if(1>=cS(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else $i(n,11)}else if((t.K||n.g==t)&&Bu(n),!Qa(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const d=c[3];d!=null&&(n.ra=d,n.l.info("VER="+n.ra));const h=c[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const p=c[5];p!=null&&typeof p=="number"&&0<p&&(r=1.5*p,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const m=t.g;if(m){const v=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var s=r.i;s.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(_y(s,s.h),s.h=null))}if(r.F){const w=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(r.Da=w,Ce(r.I,r.F,w))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=RS(r,r.J?r.pa:null,r.Y),o.K){uS(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(hh(a),Nl(a)),r.g=o}else xS(r);0<n.j.length&&vh(n)}else c[0]!="stop"&&c[0]!="close"||$i(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?$i(n,7):Ey(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}el(4)}catch{}}function s4(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(rh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function o4(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(rh(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function nS(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(rh(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=o4(t),r=s4(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var rS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function a4(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Wi(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Wi){this.h=t.h,Fu(this,t.j),this.s=t.s,this.g=t.g,Uu(this,t.m),this.l=t.l;var e=t.i,n=new tl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),P_(this,n),this.o=t.o}else t&&(e=String(t).match(rS))?(this.h=!1,Fu(this,e[1]||"",!0),this.s=Zo(e[2]||""),this.g=Zo(e[3]||"",!0),Uu(this,e[4]),this.l=Zo(e[5]||"",!0),P_(this,e[6]||"",!0),this.o=Zo(e[7]||"")):(this.h=!1,this.i=new tl(null,this.h))}Wi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ea(e,A_,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(ea(e,A_,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(ea(n,n.charAt(0)=="/"?u4:c4,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ea(n,h4)),t.join("")};function yr(t){return new Wi(t)}function Fu(t,e,n){t.j=n?Zo(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Uu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function P_(t,e,n){e instanceof tl?(t.i=e,f4(t.i,t.h)):(n||(e=ea(e,d4)),t.i=new tl(e,t.h))}function Ce(t,e,n){t.i.set(e,n)}function fh(t){return Ce(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Zo(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ea(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,l4),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function l4(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var A_=/[#\/\?@]/g,c4=/[#\?:]/g,u4=/[#\?]/g,d4=/[#\?@]/g,h4=/#/g;function tl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Si(t){t.g||(t.g=new Map,t.h=0,t.i&&a4(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}$=tl.prototype;$.add=function(t,e){Si(this),this.i=null,t=ko(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function iS(t,e){Si(t),e=ko(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function sS(t,e){return Si(t),e=ko(t,e),t.g.has(e)}$.forEach=function(t,e){Si(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};$.ta=function(){Si(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};$.Z=function(t){Si(this);let e=[];if(typeof t=="string")sS(this,t)&&(e=e.concat(this.g.get(ko(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};$.set=function(t,e){return Si(this),this.i=null,t=ko(this,t),sS(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};$.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function oS(t,e,n){iS(t,e),0<n.length&&(t.i=null,t.g.set(ko(t,e),sy(n)),t.h+=n.length)}$.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function ko(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function f4(t,e){e&&!t.j&&(Si(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(iS(this,r),oS(this,i,n))},t)),t.j=e}var p4=class{constructor(t,e){this.g=t,this.map=e}};function aS(t){this.l=t||m4,re.PerformanceNavigationTiming?(t=re.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(re.g&&re.g.Ka&&re.g.Ka()&&re.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var m4=10;function lS(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function cS(t){return t.h?1:t.g?t.g.size:0}function gm(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function _y(t,e){t.g?t.g.add(e):t.h=e}function uS(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}aS.prototype.cancel=function(){if(this.i=dS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function dS(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return sy(t.i)}var g4=class{stringify(t){return re.JSON.stringify(t,void 0)}parse(t){return re.JSON.parse(t,void 0)}};function y4(){this.g=new g4}function v4(t,e,n){const r=n||"";try{nS(t,function(i,s){let o=i;Rl(i)&&(o=hy(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function _4(t,e){const n=new lh;if(re.Image){const r=new Image;r.onload=_c(xc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=_c(xc,n,r,"TestLoadImage: error",!1,e),r.onabort=_c(xc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=_c(xc,n,r,"TestLoadImage: timeout",!1,e),re.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function xc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ph(t){this.l=t.fc||null,this.j=t.ob||!1}ut(ph,gy);ph.prototype.g=function(){return new mh(this.l,this.j)};ph.prototype.i=function(t){return function(){return t}}({});function mh(t,e){ot.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=wy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ut(mh,ot);var wy=0;$=mh.prototype;$.open=function(t,e){if(this.readyState!=wy)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,nl(this)};$.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||re).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};$.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bl(this)),this.readyState=wy};$.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,nl(this)),this.g&&(this.readyState=3,nl(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof re.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;hS(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function hS(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}$.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?bl(this):nl(this),this.readyState==3&&hS(this)}};$.Za=function(t){this.g&&(this.response=this.responseText=t,bl(this))};$.Ya=function(t){this.g&&(this.response=t,bl(this))};$.ka=function(){this.g&&bl(this)};function bl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,nl(t)}$.setRequestHeader=function(t,e){this.v.append(t,e)};$.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};$.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function nl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(mh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var w4=re.JSON.parse;function Be(t){ot.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=fS,this.L=this.M=!1}ut(Be,ot);var fS="",x4=/^https?$/i,E4=["POST","PUT"];$=Be.prototype;$.Oa=function(t){this.M=t};$.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():hm.g(),this.C=this.u?k_(this.u):k_(hm),this.g.onreadystatechange=It(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){N_(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=re.FormData&&t instanceof re.FormData,!(0<=AT(E4,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{gS(this),0<this.B&&((this.L=T4(this.g))?(this.g.timeout=this.B,this.g.ontimeout=It(this.ua,this)):this.A=my(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){N_(this,s)}};function T4(t){return uo&&typeof t.timeout=="number"&&t.ontimeout!==void 0}$.ua=function(){typeof iy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,mt(this,"timeout"),this.abort(8))};function N_(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,pS(t),gh(t)}function pS(t){t.F||(t.F=!0,mt(t,"complete"),mt(t,"error"))}$.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,mt(this,"complete"),mt(this,"abort"),gh(this))};$.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),gh(this,!0)),Be.$.N.call(this)};$.La=function(){this.s||(this.G||this.v||this.l?mS(this):this.kb())};$.kb=function(){mS(this)};function mS(t){if(t.h&&typeof iy<"u"&&(!t.C[1]||Vn(t)!=4||t.da()!=2)){if(t.v&&Vn(t)==4)my(t.La,0,t);else if(mt(t,"readystatechange"),Vn(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(rS)[1]||null;!i&&re.self&&re.self.location&&(i=re.self.location.protocol.slice(0,-1)),r=!x4.test(i?i.toLowerCase():"")}n=r}if(n)mt(t,"complete"),mt(t,"success");else{t.m=6;try{var s=2<Vn(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",pS(t)}}finally{gh(t)}}}}function gh(t,e){if(t.g){gS(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||mt(t,"ready");try{n.onreadystatechange=r}catch{}}}function gS(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(re.clearTimeout(t.A),t.A=null)}$.isActive=function(){return!!this.g};function Vn(t){return t.g?t.g.readyState:0}$.da=function(){try{return 2<Vn(this)?this.g.status:-1}catch{return-1}};$.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};$.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),w4(e)}};function b_(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case fS:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function S4(t){const e={};t=(t.g&&2<=Vn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Qa(t[r]))continue;var n=Qj(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}Bj(e,function(r){return r.join(", ")})}$.Ia=function(){return this.m};$.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function yS(t){let e="";return ay(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function xy(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=yS(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ce(t,e,n))}function Ho(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function vS(t){this.Ga=0,this.j=[],this.l=new lh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ho("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ho("baseRetryDelayMs",5e3,t),this.hb=Ho("retryDelaySeedMs",1e4,t),this.eb=Ho("forwardChannelMaxRetries",2,t),this.xa=Ho("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new aS(t&&t.concurrentRequestLimit),this.Ja=new y4,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}$=vS.prototype;$.ra=8;$.H=1;function Ey(t){if(_S(t),t.H==3){var e=t.W++,n=yr(t.I);if(Ce(n,"SID",t.K),Ce(n,"RID",e),Ce(n,"TYPE","terminate"),Ol(t,n),e=new Al(t,t.l,e),e.L=2,e.v=fh(yr(n)),n=!1,re.navigator&&re.navigator.sendBeacon)try{n=re.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&re.Image&&(new Image().src=e.v,n=!0),n||(e.g=CS(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Nl(e)}IS(t)}function yh(t){t.g&&(Sy(t),t.g.cancel(),t.g=null)}function _S(t){yh(t),t.u&&(re.clearTimeout(t.u),t.u=null),Bu(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&re.clearTimeout(t.m),t.m=null)}function vh(t){if(!lS(t.i)&&!t.m){t.m=!0;var e=t.Na;Ya||BT(),Ja||(Ya(),Ja=!0),fy.add(e,t),t.C=0}}function I4(t,e){return cS(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=kl(It(t.Na,t,e),SS(t,t.C)),t.C++,!0)}$.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Al(this,this.l,t);let s=this.s;if(this.U&&(s?(s=jT(s),LT(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=wS(this,i,e),n=yr(this.I),Ce(n,"RID",t),Ce(n,"CVER",22),this.F&&Ce(n,"X-HTTP-Session-Id",this.F),Ol(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(yS(s)))+"&"+e:this.o&&xy(n,this.o,s)),_y(this.i,i),this.bb&&Ce(n,"TYPE","init"),this.P?(Ce(n,"$req",e),Ce(n,"SID","null"),i.aa=!0,pm(i,n,null)):pm(i,n,e),this.H=2}}else this.H==3&&(t?O_(this,t):this.j.length==0||lS(this.i)||O_(this))};function O_(t,e){var n;e?n=e.m:n=t.W++;const r=yr(t.I);Ce(r,"SID",t.K),Ce(r,"RID",n),Ce(r,"AID",t.V),Ol(t,r),t.o&&t.s&&xy(r,t.o,t.s),n=new Al(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=wS(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),_y(t.i,n),pm(n,r,e)}function Ol(t,e){t.na&&ay(t.na,function(n,r){Ce(e,r,n)}),t.h&&nS({},function(n,r){Ce(e,r,n)})}function wS(t,e,n){n=Math.min(t.j.length,n);var r=t.h?It(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let c=i[l].g;const d=i[l].map;if(c-=s,0>c)s=Math.max(0,i[l].g-100),a=!1;else try{v4(d,o,"req"+c+"_")}catch{r&&r(d)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function xS(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Ya||BT(),Ja||(Ya(),Ja=!0),fy.add(e,t),t.A=0}}function Ty(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=kl(It(t.Ma,t),SS(t,t.A)),t.A++,!0)}$.Ma=function(){if(this.u=null,ES(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=kl(It(this.jb,this),t)}};$.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,jt(10),yh(this),ES(this))};function Sy(t){t.B!=null&&(re.clearTimeout(t.B),t.B=null)}function ES(t){t.g=new Al(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=yr(t.wa);Ce(e,"RID","rpc"),Ce(e,"SID",t.K),Ce(e,"AID",t.V),Ce(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ce(e,"TO",t.qa),Ce(e,"TYPE","xmlhttp"),Ol(t,e),t.o&&t.s&&xy(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=fh(yr(e)),n.s=null,n.S=!0,JT(n,t)}$.ib=function(){this.v!=null&&(this.v=null,yh(this),Ty(this),jt(19))};function Bu(t){t.v!=null&&(re.clearTimeout(t.v),t.v=null)}function TS(t,e){var n=null;if(t.g==e){Bu(t),Sy(t),t.g=null;var r=2}else if(gm(t.i,e))n=e.F,uS(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=ch(),mt(r,new GT(r,n)),vh(t)}else xS(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&I4(t,e)||r==2&&Ty(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:$i(t,5);break;case 4:$i(t,10);break;case 3:$i(t,6);break;default:$i(t,2)}}}function SS(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function $i(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=It(t.pb,t);n||(n=new Wi("//www.google.com/images/cleardot.gif"),re.location&&re.location.protocol=="http"||Fu(n,"https"),fh(n)),_4(n.toString(),r)}else jt(2);t.H=0,t.h&&t.h.za(e),IS(t),_S(t)}$.pb=function(t){t?(this.l.info("Successfully pinged google.com"),jt(2)):(this.l.info("Failed to ping google.com"),jt(1))};function IS(t){if(t.H=0,t.ma=[],t.h){const e=dS(t.i);(e.length!=0||t.j.length!=0)&&(T_(t.ma,e),T_(t.ma,t.j),t.i.i.length=0,sy(t.j),t.j.length=0),t.h.ya()}}function RS(t,e,n){var r=n instanceof Wi?yr(n):new Wi(n);if(r.g!="")e&&(r.g=e+"."+r.g),Uu(r,r.m);else{var i=re.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Wi(null);r&&Fu(s,r),e&&(s.g=e),i&&Uu(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Ce(r,n,e),Ce(r,"VER",t.ra),Ol(t,r),r}function CS(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Be(new ph({ob:!0})):new Be(t.va),e.Oa(t.J),e}$.isActive=function(){return!!this.h&&this.h.isActive(this)};function kS(){}$=kS.prototype;$.Ba=function(){};$.Aa=function(){};$.za=function(){};$.ya=function(){};$.isActive=function(){return!0};$.Va=function(){};function zu(){if(uo&&!(10<=Number($j)))throw Error("Environmental error: no available transport.")}zu.prototype.g=function(t,e){return new tn(t,e)};function tn(t,e){ot.call(this),this.g=new vS(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Qa(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Qa(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Po(this)}ut(tn,ot);tn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;jt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=RS(t,null,t.Y),vh(t)};tn.prototype.close=function(){Ey(this.g)};tn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=hy(t),t=n);e.j.push(new p4(e.fb++,t)),e.H==3&&vh(e)};tn.prototype.N=function(){this.g.h=null,delete this.j,Ey(this.g),delete this.g,tn.$.N.call(this)};function PS(t){yy.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}ut(PS,yy);function AS(){vy.call(this),this.status=1}ut(AS,vy);function Po(t){this.g=t}ut(Po,kS);Po.prototype.Ba=function(){mt(this.g,"a")};Po.prototype.Aa=function(t){mt(this.g,new PS(t))};Po.prototype.za=function(t){mt(this.g,new AS)};Po.prototype.ya=function(){mt(this.g,"b")};function R4(){this.blockSize=-1}function Pn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}ut(Pn,R4);Pn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Lf(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Pn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Lf(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Lf(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Lf(this,r),i=0;break}}this.h=i,this.i+=e};Pn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function xe(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var C4={};function Iy(t){return-128<=t&&128>t?Lj(t,function(e){return new xe([e|0],0>e?-1:0)}):new xe([t|0],0>t?-1:0)}function Fn(t){if(isNaN(t)||!isFinite(t))return Qs;if(0>t)return ft(Fn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=ym;return new xe(e,0)}function NS(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return ft(NS(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Fn(Math.pow(e,8)),r=Qs,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Fn(Math.pow(e,s)),r=r.R(s).add(Fn(o))):(r=r.R(n),r=r.add(Fn(o)))}return r}var ym=4294967296,Qs=Iy(0),vm=Iy(1),j_=Iy(16777216);$=xe.prototype;$.ea=function(){if(hn(this))return-ft(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:ym+r)*e,e*=ym}return t};$.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(sr(this))return"0";if(hn(this))return"-"+ft(this).toString(t);for(var e=Fn(Math.pow(t,6)),n=this,r="";;){var i=Hu(n,e).g;n=Wu(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,sr(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};$.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function sr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function hn(t){return t.h==-1}$.X=function(t){return t=Wu(this,t),hn(t)?-1:sr(t)?0:1};function ft(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new xe(n,~t.h).add(vm)}$.abs=function(){return hn(this)?ft(this):this};$.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new xe(n,n[n.length-1]&-2147483648?-1:0)};function Wu(t,e){return t.add(ft(e))}$.R=function(t){if(sr(this)||sr(t))return Qs;if(hn(this))return hn(t)?ft(this).R(ft(t)):ft(ft(this).R(t));if(hn(t))return ft(this.R(ft(t)));if(0>this.X(j_)&&0>t.X(j_))return Fn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,Ec(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Ec(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Ec(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Ec(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new xe(n,0)};function Ec(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function qo(t,e){this.g=t,this.h=e}function Hu(t,e){if(sr(e))throw Error("division by zero");if(sr(t))return new qo(Qs,Qs);if(hn(t))return e=Hu(ft(t),e),new qo(ft(e.g),ft(e.h));if(hn(e))return e=Hu(t,ft(e)),new qo(ft(e.g),e.h);if(30<t.g.length){if(hn(t)||hn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=vm,r=e;0>=r.X(t);)n=L_(n),r=L_(r);var i=_s(n,1),s=_s(r,1);for(r=_s(r,2),n=_s(n,2);!sr(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=_s(r,1),n=_s(n,1)}return e=Wu(t,i.R(e)),new qo(i,e)}for(i=Qs;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Fn(n),o=s.R(e);hn(o)||0<o.X(t);)n-=r,s=Fn(n),o=s.R(e);sr(s)&&(s=vm),i=i.add(s),t=Wu(t,o)}return new qo(i,t)}$.gb=function(t){return Hu(this,t).h};$.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new xe(n,this.h&t.h)};$.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new xe(n,this.h|t.h)};$.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new xe(n,this.h^t.h)};function L_(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new xe(n,t.h)}function _s(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new xe(i,t.h)}zu.prototype.createWebChannel=zu.prototype.g;tn.prototype.send=tn.prototype.u;tn.prototype.open=tn.prototype.m;tn.prototype.close=tn.prototype.close;uh.NO_ERROR=0;uh.TIMEOUT=8;uh.HTTP_ERROR=6;QT.COMPLETE="complete";XT.EventType=Pl;Pl.OPEN="a";Pl.CLOSE="b";Pl.ERROR="c";Pl.MESSAGE="d";ot.prototype.listen=ot.prototype.O;Be.prototype.listenOnce=Be.prototype.P;Be.prototype.getLastError=Be.prototype.Sa;Be.prototype.getLastErrorCode=Be.prototype.Ia;Be.prototype.getStatus=Be.prototype.da;Be.prototype.getResponseJson=Be.prototype.Wa;Be.prototype.getResponseText=Be.prototype.ja;Be.prototype.send=Be.prototype.ha;Be.prototype.setWithCredentials=Be.prototype.Oa;Pn.prototype.digest=Pn.prototype.l;Pn.prototype.reset=Pn.prototype.reset;Pn.prototype.update=Pn.prototype.j;xe.prototype.add=xe.prototype.add;xe.prototype.multiply=xe.prototype.R;xe.prototype.modulo=xe.prototype.gb;xe.prototype.compare=xe.prototype.X;xe.prototype.toNumber=xe.prototype.ea;xe.prototype.toString=xe.prototype.toString;xe.prototype.getBits=xe.prototype.D;xe.fromNumber=Fn;xe.fromString=NS;var k4=function(){return new zu},P4=function(){return ch()},Df=uh,A4=QT,N4=ps,D_={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Tc=XT,b4=Be,O4=Pn,Xs=xe;const M_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xt.UNAUTHENTICATED=new xt(null),xt.GOOGLE_CREDENTIALS=new xt("google-credentials-uid"),xt.FIRST_PARTY=new xt("first-party-uid"),xt.MOCK_USER=new xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ao="10.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs=new ty("@firebase/firestore");function $_(){return rs.logLevel}function X(t,...e){if(rs.logLevel<=ye.DEBUG){const n=e.map(Ry);rs.debug(`Firestore (${Ao}): ${t}`,...n)}}function vr(t,...e){if(rs.logLevel<=ye.ERROR){const n=e.map(Ry);rs.error(`Firestore (${Ao}): ${t}`,...n)}}function ho(t,...e){if(rs.logLevel<=ye.WARN){const n=e.map(Ry);rs.warn(`Firestore (${Ao}): ${t}`,...n)}}function Ry(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ne(t="Unexpected state"){const e=`FIRESTORE (${Ao}) INTERNAL ASSERTION FAILED: `+t;throw vr(e),new Error(e)}function Ae(t,e){t||ne()}function le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class B extends Zn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class j4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(xt.UNAUTHENTICATED))}shutdown(){}}class L4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class D4{constructor(e){this.t=e,this.currentUser=xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new ur;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ur,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ur)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string"),new bS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string"),new xt(e)}}class M4{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=xt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class $4{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new M4(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class V4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class F4{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,X("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ae(typeof n.token=="string"),this.R=n.token,new V4(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=U4(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ve(t,e){return t<e?-1:t>e?1:0}function fo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new B(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new B(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new B(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new B(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Je.fromMillis(Date.now())}static fromDate(e){return Je.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Je(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ve(this.nanoseconds,e.nanoseconds):ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.timestamp=e}static fromTimestamp(e){return new se(e)}static min(){return new se(new Je(0,0))}static max(){return new se(new Je(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,n,r){n===void 0?n=0:n>e.length&&ne(),r===void 0?r=e.length-n:r>e.length-n&&ne(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return rl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof rl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ke extends rl{construct(e,n,r){return new ke(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new B(P.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ke(n)}static emptyPath(){return new ke([])}}const B4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class St extends rl{construct(e,n,r){return new St(e,n,r)}static isValidIdentifier(e){return B4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),St.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new St(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new B(P.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new B(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new B(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new B(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new St(n)}static emptyPath(){return new St([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.path=e}static fromPath(e){return new Y(ke.fromString(e))}static fromName(e){return new Y(ke.fromString(e).popFirst(5))}static empty(){return new Y(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Y(new ke(e.slice()))}}function z4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=se.fromTimestamp(r===1e9?new Je(n+1,0):new Je(n,r));return new di(i,Y.empty(),e)}function W4(t){return new di(t.readTime,t.key,-1)}class di{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new di(se.min(),Y.empty(),-1)}static max(){return new di(se.max(),Y.empty(),-1)}}function H4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Y.comparator(t.documentKey,e.documentKey),n!==0?n:ve(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class K4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jl(t){if(t.code!==P.FAILED_PRECONDITION||t.message!==q4)throw t;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new j((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):j.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):j.reject(n)}static resolve(e){return new j((n,r)=>{n(e)})}static reject(e){return new j((n,r)=>{r(e)})}static waitFor(e){return new j((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=j.resolve(!1);for(const r of e)n=n.next(i=>i?j.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new j((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new j((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Ll(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Cy.ae=-1;function _h(t){return t==null}function qu(t){return t===0&&1/t==-1/0}function G4(t){return typeof t=="number"&&Number.isInteger(t)&&!qu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function No(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function jS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e,n){this.comparator=e,this.root=n||ht.EMPTY}insert(e,n){return new Fe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ht.BLACK,null,null))}remove(e){return new Fe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sc(this.root,e,this.comparator,!0)}}class Sc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ht{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ht.RED,this.left=i??ht.EMPTY,this.right=s??ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ht(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ht.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ne();const e=this.left.check();if(e!==this.right.check())throw ne();return e+(this.isRed()?0:1)}}ht.EMPTY=null,ht.RED=!0,ht.BLACK=!1;ht.EMPTY=new class{constructor(){this.size=0}get key(){throw ne()}get value(){throw ne()}get color(){throw ne()}get left(){throw ne()}get right(){throw ne()}copy(e,n,r,i,s){return this}insert(e,n,r){return new ht(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.comparator=e,this.data=new Fe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new F_(this.data.getIterator())}getIteratorFrom(e){return new F_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ct(this.comparator);return n.data=e,n}}class F_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.fields=e,e.sort(St.comparator)}static empty(){return new In([])}unionWith(e){let n=new Ct(St.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new In(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new LS("Invalid base64 string: "+s):s}}(e);return new At(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new At(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}At.EMPTY_BYTE_STRING=new At("");const Q4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hi(t){if(Ae(!!t),typeof t=="string"){let e=0;const n=Q4.exec(t);if(Ae(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ge(t.seconds),nanos:Ge(t.nanos)}}function Ge(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function is(t){return typeof t=="string"?At.fromBase64String(t):At.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Py(t){const e=t.mapValue.fields.__previous_value__;return ky(e)?Py(e):e}function il(t){const e=hi(t.mapValue.fields.__local_write_time__.timestampValue);return new Je(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class sl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new sl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof sl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ss(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ky(t)?4:Y4(t)?9007199254740991:10:ne()}function Yn(t,e){if(t===e)return!0;const n=ss(t);if(n!==ss(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return il(t).isEqual(il(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=hi(i.timestampValue),a=hi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return is(i.bytesValue).isEqual(is(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ge(i.geoPointValue.latitude)===Ge(s.geoPointValue.latitude)&&Ge(i.geoPointValue.longitude)===Ge(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ge(i.integerValue)===Ge(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ge(i.doubleValue),a=Ge(s.doubleValue);return o===a?qu(o)===qu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return fo(t.arrayValue.values||[],e.arrayValue.values||[],Yn);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(V_(o)!==V_(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Yn(o[l],a[l])))return!1;return!0}(t,e);default:return ne()}}function ol(t,e){return(t.values||[]).find(n=>Yn(n,e))!==void 0}function po(t,e){if(t===e)return 0;const n=ss(t),r=ss(e);if(n!==r)return ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ve(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Ge(s.integerValue||s.doubleValue),l=Ge(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return U_(t.timestampValue,e.timestampValue);case 4:return U_(il(t),il(e));case 5:return ve(t.stringValue,e.stringValue);case 6:return function(s,o){const a=is(s),l=is(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=ve(a[c],l[c]);if(d!==0)return d}return ve(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ve(Ge(s.latitude),Ge(o.latitude));return a!==0?a:ve(Ge(s.longitude),Ge(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const d=po(a[c],l[c]);if(d)return d}return ve(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Ic.mapValue&&o===Ic.mapValue)return 0;if(s===Ic.mapValue)return 1;if(o===Ic.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const p=ve(l[h],d[h]);if(p!==0)return p;const m=po(a[l[h]],c[d[h]]);if(m!==0)return m}return ve(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ne()}}function U_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ve(t,e);const n=hi(t),r=hi(e),i=ve(n.seconds,r.seconds);return i!==0?i:ve(n.nanos,r.nanos)}function mo(t){return _m(t)}function _m(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=hi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return is(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Y.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=_m(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${_m(n.fields[o])}`;return i+"}"}(t.mapValue):ne()}function B_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function wm(t){return!!t&&"integerValue"in t}function Ay(t){return!!t&&"arrayValue"in t}function z_(t){return!!t&&"nullValue"in t}function W_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Hc(t){return!!t&&"mapValue"in t}function ma(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return No(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ma(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ma(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Y4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.value=e}static empty(){return new fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Hc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ma(n)}setAll(e){let n=St.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ma(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Hc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Yn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Hc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){No(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new fn(ma(this.value))}}function DS(t){const e=[];return No(t.fields,(n,r)=>{const i=new St([n]);if(Hc(r)){const s=DS(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new In(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Tt(e,0,se.min(),se.min(),se.min(),fn.empty(),0)}static newFoundDocument(e,n,r,i){return new Tt(e,1,n,se.min(),r,i,0)}static newNoDocument(e,n){return new Tt(e,2,n,se.min(),se.min(),fn.empty(),0)}static newUnknownDocument(e,n){return new Tt(e,3,n,se.min(),se.min(),fn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,n){this.position=e,this.inclusive=n}}function H_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Y.comparator(Y.fromName(o.referenceValue),n.key):r=po(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function q_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Yn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,n="asc"){this.field=e,this.dir=n}}function J4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{}class Xe extends MS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new eL(e,n,r):n==="array-contains"?new rL(e,r):n==="in"?new iL(e,r):n==="not-in"?new sL(e,r):n==="array-contains-any"?new oL(e,r):new Xe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new tL(e,r):new nL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(po(n,this.value)):n!==null&&ss(this.value)===ss(n)&&this.matchesComparison(po(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class An extends MS{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new An(e,n)}matches(e){return $S(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(n=>n.isInequality());return e!==null?e.field:null}le(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function $S(t){return t.op==="and"}function VS(t){return Z4(t)&&$S(t)}function Z4(t){for(const e of t.filters)if(e instanceof An)return!1;return!0}function xm(t){if(t instanceof Xe)return t.field.canonicalString()+t.op.toString()+mo(t.value);if(VS(t))return t.filters.map(e=>xm(e)).join(",");{const e=t.filters.map(n=>xm(n)).join(",");return`${t.op}(${e})`}}function FS(t,e){return t instanceof Xe?function(r,i){return i instanceof Xe&&r.op===i.op&&r.field.isEqual(i.field)&&Yn(r.value,i.value)}(t,e):t instanceof An?function(r,i){return i instanceof An&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&FS(o,i.filters[a]),!0):!1}(t,e):void ne()}function US(t){return t instanceof Xe?function(n){return`${n.field.canonicalString()} ${n.op} ${mo(n.value)}`}(t):t instanceof An?function(n){return n.op.toString()+" {"+n.getFilters().map(US).join(" ,")+"}"}(t):"Filter"}class eL extends Xe{constructor(e,n,r){super(e,n,r),this.key=Y.fromName(r.referenceValue)}matches(e){const n=Y.comparator(e.key,this.key);return this.matchesComparison(n)}}class tL extends Xe{constructor(e,n){super(e,"in",n),this.keys=BS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class nL extends Xe{constructor(e,n){super(e,"not-in",n),this.keys=BS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function BS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Y.fromName(r.referenceValue))}class rL extends Xe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ay(n)&&ol(n.arrayValue,this.value)}}class iL extends Xe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ol(this.value.arrayValue,n)}}class sL extends Xe{constructor(e,n){super(e,"not-in",n)}matches(e){if(ol(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ol(this.value.arrayValue,n)}}class oL extends Xe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ay(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ol(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.he=null}}function K_(t,e=null,n=[],r=[],i=null,s=null,o=null){return new aL(t,e,n,r,i,s,o)}function Ny(t){const e=le(t);if(e.he===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>xm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),_h(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>mo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>mo(r)).join(",")),e.he=n}return e.he}function by(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!J4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!FS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!q_(t.startAt,e.startAt)&&q_(t.endAt,e.endAt)}function Em(t){return Y.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Pe=null,this.Ie=null,this.Te=null,this.startAt,this.endAt}}function lL(t,e,n,r,i,s,o,a){return new Dl(t,e,n,r,i,s,o,a)}function Oy(t){return new Dl(t)}function G_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function zS(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function jy(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function WS(t){return t.collectionGroup!==null}function ya(t){const e=le(t);if(e.Pe===null){e.Pe=[];const n=jy(e),r=zS(e);if(n!==null&&r===null)n.isKeyField()||e.Pe.push(new ga(n)),e.Pe.push(new ga(St.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.Pe.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new ga(St.keyField(),s))}}}return e.Pe}function _r(t){const e=le(t);return e.Ie||(e.Ie=cL(e,ya(t))),e.Ie}function cL(t,e){if(t.limitType==="F")return K_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new ga(i.field,s)});const n=t.endAt?new Ku(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ku(t.startAt.position,t.startAt.inclusive):null;return K_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Tm(t,e){e.getFirstInequalityField(),jy(t);const n=t.filters.concat([e]);return new Dl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Sm(t,e,n){return new Dl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function wh(t,e){return by(_r(t),_r(e))&&t.limitType===e.limitType}function HS(t){return`${Ny(_r(t))}|lt:${t.limitType}`}function Im(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>US(i)).join(", ")}]`),_h(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>mo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>mo(i)).join(",")),`Target(${r})`}(_r(t))}; limitType=${t.limitType})`}function xh(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Y.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of ya(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=H_(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,ya(r),i)||r.endAt&&!function(o,a,l){const c=H_(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,ya(r),i))}(t,e)}function uL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function qS(t){return(e,n)=>{let r=!1;for(const i of ya(t)){const s=dL(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function dL(t,e,n){const r=t.field.isKeyField()?Y.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?po(l,c):ne()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ne()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){No(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return jS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL=new Fe(Y.comparator);function wr(){return hL}const KS=new Fe(Y.comparator);function ta(...t){let e=KS;for(const n of t)e=e.insert(n.key,n);return e}function GS(t){let e=KS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Vi(){return va()}function QS(){return va()}function va(){return new bo(t=>t.toString(),(t,e)=>t.isEqual(e))}const fL=new Fe(Y.comparator),pL=new Ct(Y.comparator);function de(...t){let e=pL;for(const n of t)e=e.add(n);return e}const mL=new Ct(ve);function gL(){return mL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qu(e)?"-0":e}}function YS(t){return{integerValue:""+t}}function yL(t,e){return G4(e)?YS(e):XS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(){this._=void 0}}function vL(t,e,n){return t instanceof Gu?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&ky(s)&&(s=Py(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof al?ZS(t,e):t instanceof ll?eI(t,e):function(i,s){const o=JS(i,s),a=Q_(o)+Q_(i.Ee);return wm(o)&&wm(i.Ee)?YS(a):XS(i.serializer,a)}(t,e)}function _L(t,e,n){return t instanceof al?ZS(t,e):t instanceof ll?eI(t,e):n}function JS(t,e){return t instanceof Qu?function(r){return wm(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Gu extends Eh{}class al extends Eh{constructor(e){super(),this.elements=e}}function ZS(t,e){const n=tI(e);for(const r of t.elements)n.some(i=>Yn(i,r))||n.push(r);return{arrayValue:{values:n}}}class ll extends Eh{constructor(e){super(),this.elements=e}}function eI(t,e){let n=tI(e);for(const r of t.elements)n=n.filter(i=>!Yn(i,r));return{arrayValue:{values:n}}}class Qu extends Eh{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function Q_(t){return Ge(t.integerValue||t.doubleValue)}function tI(t){return Ay(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function wL(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof al&&i instanceof al||r instanceof ll&&i instanceof ll?fo(r.elements,i.elements,Yn):r instanceof Qu&&i instanceof Qu?Yn(r.Ee,i.Ee):r instanceof Gu&&i instanceof Gu}(t.transform,e.transform)}class xL{constructor(e,n){this.version=e,this.transformResults=n}}class qn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qn}static exists(e){return new qn(void 0,e)}static updateTime(e){return new qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Th{}function nI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ly(t.key,qn.none()):new Ml(t.key,t.data,qn.none());{const n=t.data,r=fn.empty();let i=new Ct(St.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ms(t.key,r,new In(i.toArray()),qn.none())}}function EL(t,e,n){t instanceof Ml?function(i,s,o){const a=i.value.clone(),l=Y_(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ms?function(i,s,o){if(!qc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Y_(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(rI(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function _a(t,e,n,r){return t instanceof Ml?function(s,o,a,l){if(!qc(s.precondition,o))return a;const c=s.value.clone(),d=J_(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ms?function(s,o,a,l){if(!qc(s.precondition,o))return a;const c=J_(s.fieldTransforms,l,o),d=o.data;return d.setAll(rI(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return qc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function TL(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=JS(r.transform,i||null);s!=null&&(n===null&&(n=fn.empty()),n.set(r.field,s))}return n||null}function X_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&fo(r,i,(s,o)=>wL(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ml extends Th{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ms extends Th{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function rI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Y_(t,e,n){const r=new Map;Ae(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,_L(o,a,n[i]))}return r}function J_(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,vL(s,o,e))}return r}class Ly extends Th{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SL extends Th{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&EL(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=_a(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=_a(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=QS();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=nI(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),de())}isEqual(e){return this.batchId===e.batchId&&fo(this.mutations,e.mutations,(n,r)=>X_(n,r))&&fo(this.baseMutations,e.baseMutations,(n,r)=>X_(n,r))}}class Dy{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ae(e.mutations.length===r.length);let i=function(){return fL}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Dy(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke,pe;function kL(t){switch(t){default:return ne();case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0}}function iI(t){if(t===void 0)return vr("GRPC error has no .code"),P.UNKNOWN;switch(t){case Ke.OK:return P.OK;case Ke.CANCELLED:return P.CANCELLED;case Ke.UNKNOWN:return P.UNKNOWN;case Ke.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case Ke.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case Ke.INTERNAL:return P.INTERNAL;case Ke.UNAVAILABLE:return P.UNAVAILABLE;case Ke.UNAUTHENTICATED:return P.UNAUTHENTICATED;case Ke.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case Ke.NOT_FOUND:return P.NOT_FOUND;case Ke.ALREADY_EXISTS:return P.ALREADY_EXISTS;case Ke.PERMISSION_DENIED:return P.PERMISSION_DENIED;case Ke.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case Ke.ABORTED:return P.ABORTED;case Ke.OUT_OF_RANGE:return P.OUT_OF_RANGE;case Ke.UNIMPLEMENTED:return P.UNIMPLEMENTED;case Ke.DATA_LOSS:return P.DATA_LOSS;default:return ne()}}(pe=Ke||(Ke={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL=new Xs([4294967295,4294967295],0);function Z_(t){const e=PL().encode(t),n=new O4;return n.update(e),new Uint8Array(n.digest())}function e1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Xs([n,r],0),new Xs([i,s],0)]}class My{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new na(`Invalid padding: ${n}`);if(r<0)throw new na(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new na(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new na(`Invalid padding when bitmap length is 0: ${n}`);this.Ae=8*e.length-n,this.Re=Xs.fromNumber(this.Ae)}Ve(e,n,r){let i=e.add(n.multiply(Xs.fromNumber(r)));return i.compare(AL)===1&&(i=new Xs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Re).toNumber()}me(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ae===0)return!1;const n=Z_(e),[r,i]=e1(n);for(let s=0;s<this.hashCount;s++){const o=this.Ve(r,i,s);if(!this.me(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new My(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ae===0)return;const n=Z_(e),[r,i]=e1(n);for(let s=0;s<this.hashCount;s++){const o=this.Ve(r,i,s);this.fe(o)}}fe(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class na extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,$l.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Sh(se.min(),i,new Fe(ve),wr(),de())}}class $l{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new $l(r,n,de(),de(),de())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,n,r,i){this.ge=e,this.removedTargetIds=n,this.key=r,this.pe=i}}class sI{constructor(e,n){this.targetId=e,this.ye=n}}class oI{constructor(e,n,r=At.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class t1{constructor(){this.we=0,this.Se=r1(),this.be=At.EMPTY_BYTE_STRING,this.De=!1,this.ve=!0}get current(){return this.De}get resumeToken(){return this.be}get Ce(){return this.we!==0}get Fe(){return this.ve}Me(e){e.approximateByteSize()>0&&(this.ve=!0,this.be=e)}xe(){let e=de(),n=de(),r=de();return this.Se.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ne()}}),new $l(this.be,this.De,e,n,r)}Oe(){this.ve=!1,this.Se=r1()}Ne(e,n){this.ve=!0,this.Se=this.Se.insert(e,n)}Be(e){this.ve=!0,this.Se=this.Se.remove(e)}Le(){this.we+=1}ke(){this.we-=1}qe(){this.ve=!0,this.De=!0}}class NL{constructor(e){this.Qe=e,this.Ke=new Map,this.$e=wr(),this.Ue=n1(),this.We=new Fe(ve)}Ge(e){for(const n of e.ge)e.pe&&e.pe.isFoundDocument()?this.ze(n,e.pe):this.je(n,e.key,e.pe);for(const n of e.removedTargetIds)this.je(n,e.key,e.pe)}He(e){this.forEachTarget(e,n=>{const r=this.Je(n);switch(e.state){case 0:this.Ye(n)&&r.Me(e.resumeToken);break;case 1:r.ke(),r.Ce||r.Oe(),r.Me(e.resumeToken);break;case 2:r.ke(),r.Ce||this.removeTarget(n);break;case 3:this.Ye(n)&&(r.qe(),r.Me(e.resumeToken));break;case 4:this.Ye(n)&&(this.Ze(n),r.Me(e.resumeToken));break;default:ne()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ke.forEach((r,i)=>{this.Ye(i)&&n(i)})}Xe(e){const n=e.targetId,r=e.ye.count,i=this.et(n);if(i){const s=i.target;if(Em(s))if(r===0){const o=new Y(s.path);this.je(n,o,Tt.newNoDocument(o,se.min()))}else Ae(r===1);else{const o=this.tt(n);if(o!==r){const a=this.nt(e),l=a?this.rt(a,e,o):1;if(l!==0){this.Ze(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.We=this.We.insert(n,c)}}}}}nt(e){const n=e.ye.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=is(r).toUint8Array()}catch(l){if(l instanceof LS)return ho("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new My(o,i,s)}catch(l){return ho(l instanceof na?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ae===0?null:a}rt(e,n,r){return n.ye.count===r-this.ot(e,n.targetId)?0:2}ot(e,n){const r=this.Qe.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Qe.st(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.je(n,s,null),i++)}),i}_t(e){const n=new Map;this.Ke.forEach((s,o)=>{const a=this.et(o);if(a){if(s.current&&Em(a.target)){const l=new Y(a.target.path);this.$e.get(l)!==null||this.ut(o,l)||this.je(o,l,Tt.newNoDocument(l,e))}s.Fe&&(n.set(o,s.xe()),s.Oe())}});let r=de();this.Ue.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.et(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.$e.forEach((s,o)=>o.setReadTime(e));const i=new Sh(e,n,this.We,this.$e,r);return this.$e=wr(),this.Ue=n1(),this.We=new Fe(ve),i}ze(e,n){if(!this.Ye(e))return;const r=this.ut(e,n.key)?2:0;this.Je(e).Ne(n.key,r),this.$e=this.$e.insert(n.key,n),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}je(e,n,r){if(!this.Ye(e))return;const i=this.Je(e);this.ut(e,n)?i.Ne(n,1):i.Be(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),r&&(this.$e=this.$e.insert(n,r))}removeTarget(e){this.Ke.delete(e)}tt(e){const n=this.Je(e).xe();return this.Qe.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Le(e){this.Je(e).Le()}Je(e){let n=this.Ke.get(e);return n||(n=new t1,this.Ke.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Ct(ve),this.Ue=this.Ue.insert(e,n)),n}Ye(e){const n=this.et(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n}et(e){const n=this.Ke.get(e);return n&&n.Ce?null:this.Qe.lt(e)}Ze(e){this.Ke.set(e,new t1),this.Qe.getRemoteKeysForTarget(e).forEach(n=>{this.je(e,n,null)})}ut(e,n){return this.Qe.getRemoteKeysForTarget(e).has(n)}}function n1(){return new Fe(Y.comparator)}function r1(){return new Fe(Y.comparator)}const bL=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),OL=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),jL=(()=>({and:"AND",or:"OR"}))();class LL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Rm(t,e){return t.useProto3Json||_h(e)?e:{value:e}}function Xu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function DL(t,e){return Xu(t,e.toTimestamp())}function Kn(t){return Ae(!!t),se.fromTimestamp(function(n){const r=hi(n);return new Je(r.seconds,r.nanos)}(t))}function $y(t,e){return function(r){return new ke(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function lI(t){const e=ke.fromString(t);return Ae(hI(e)),e}function Cm(t,e){return $y(t.databaseId,e.path)}function Mf(t,e){const n=lI(e);if(n.get(1)!==t.databaseId.projectId)throw new B(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new B(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Y(cI(n))}function km(t,e){return $y(t.databaseId,e)}function ML(t){const e=lI(t);return e.length===4?ke.emptyPath():cI(e)}function Pm(t){return new ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function cI(t){return Ae(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function i1(t,e,n){return{name:Cm(t,e),fields:n.value.mapValue.fields}}function $L(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ne()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(Ae(d===void 0||typeof d=="string"),At.fromBase64String(d||"")):(Ae(d===void 0||d instanceof Uint8Array),At.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?P.UNKNOWN:iI(c.code);return new B(d,c.message||"")}(o);n=new oI(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Mf(t,r.document.name),s=Kn(r.document.updateTime),o=r.document.createTime?Kn(r.document.createTime):se.min(),a=new fn({mapValue:{fields:r.document.fields}}),l=Tt.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Kc(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Mf(t,r.document),s=r.readTime?Kn(r.readTime):se.min(),o=Tt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Kc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Mf(t,r.document),s=r.removedTargetIds||[];n=new Kc([],s,i,null)}else{if(!("filter"in e))return ne();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new CL(i,s),a=r.targetId;n=new sI(a,o)}}return n}function VL(t,e){let n;if(e instanceof Ml)n={update:i1(t,e.key,e.value)};else if(e instanceof Ly)n={delete:Cm(t,e.key)};else if(e instanceof ms)n={update:i1(t,e.key,e.data),updateMask:GL(e.fieldMask)};else{if(!(e instanceof SL))return ne();n={verify:Cm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Gu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof al)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ll)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Qu)return{fieldPath:o.field.canonicalString(),increment:a.Ee};throw ne()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:DL(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ne()}(t,e.precondition)),n}function FL(t,e){return t&&t.length>0?(Ae(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Kn(i.updateTime):Kn(s);return o.isEqual(se.min())&&(o=Kn(s)),new xL(o,i.transformResults||[])}(n,e))):[]}function UL(t,e){return{documents:[km(t,e.path)]}}function BL(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=km(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=km(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return dI(An.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(c=>function(h){return{field:xs(h.field),direction:HL(h.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Rm(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function zL(t){let e=ML(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ae(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const p=uI(h);return p instanceof An&&VS(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(p=>function(v){return new ga(Es(v.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,_h(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(h){const p=!!h.before,m=h.values||[];return new Ku(m,p)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const p=!h.before,m=h.values||[];return new Ku(m,p)}(n.endAt)),lL(e,i,o,s,a,"F",l,c)}function WL(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function uI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Es(n.unaryFilter.field);return Xe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Es(n.unaryFilter.field);return Xe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Es(n.unaryFilter.field);return Xe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Es(n.unaryFilter.field);return Xe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ne()}}(t):t.fieldFilter!==void 0?function(n){return Xe.create(Es(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ne()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return An.create(n.compositeFilter.filters.map(r=>uI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ne()}}(n.compositeFilter.op))}(t):ne()}function HL(t){return bL[t]}function qL(t){return OL[t]}function KL(t){return jL[t]}function xs(t){return{fieldPath:t.canonicalString()}}function Es(t){return St.fromServerFormat(t.fieldPath)}function dI(t){return t instanceof Xe?function(n){if(n.op==="=="){if(W_(n.value))return{unaryFilter:{field:xs(n.field),op:"IS_NAN"}};if(z_(n.value))return{unaryFilter:{field:xs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(W_(n.value))return{unaryFilter:{field:xs(n.field),op:"IS_NOT_NAN"}};if(z_(n.value))return{unaryFilter:{field:xs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xs(n.field),op:qL(n.op),value:n.value}}}(t):t instanceof An?function(n){const r=n.getFilters().map(i=>dI(i));return r.length===1?r[0]:{compositeFilter:{op:KL(n.op),filters:r}}}(t):ne()}function GL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function hI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e,n,r,i,s=se.min(),o=se.min(),a=At.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new zr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e){this.ht=e}}function XL(t){const e=zL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Sm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(){this._n=new JL}addToCollectionParentIndex(e,n){return this._n.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(di.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(di.min())}updateCollectionGroup(e,n,r){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}}class JL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ct(ke.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ct(ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new go(0)}static Bn(){return new go(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(){this.changes=new bo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Tt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?j.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&_a(r.mutation,i,In.empty(),Je.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,de()).next(()=>r))}getLocalViewOfDocuments(e,n,r=de()){const i=Vi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ta();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Vi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,de()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=wr();const o=va(),a=function(){return va()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof ms)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),_a(d.mutation,c,d.mutation.getFieldMask(),Je.now())):o.set(c.key,In.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var h;return a.set(c,new eD(d,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=va();let i=new Fe((o,a)=>o-a),s=de();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||In.empty();d=a.applyToLocalView(c,d),r.set(l,d);const h=(i.get(a.batchId)||de()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,h=QS();d.forEach(p=>{if(!s.has(p)){const m=nI(n.get(p),r.get(p));m!==null&&h.set(p,m),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return j.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(s){return Y.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):WS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):j.resolve(Vi());let a=-1,l=s;return o.next(c=>j.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?j.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,de())).next(d=>({batchId:a,changes:GS(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Y(n)).next(r=>{let i=ta();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=ta();return this.indexManager.getCollectionParents(e,i).next(o=>j.forEach(o,a=>{const l=function(d,h){return new Dl(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(c=>{c.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,l)=>{const c=l.getKey();s.get(c)===null&&(s=s.insert(c,Tt.newInvalidDocument(c)))});let o=ta();return s.forEach((a,l)=>{const c=i.get(a);c!==void 0&&_a(c.mutation,l,In.empty(),Je.now()),xh(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return j.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Kn(i.createTime)}}(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:XL(i.bundledQuery),readTime:Kn(i.readTime)}}(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(){this.overlays=new Fe(Y.comparator),this.hr=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Vi();return j.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.It(e,n,s)}),j.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),j.resolve()}getOverlaysForCollection(e,n,r){const i=Vi(),s=n.length+1,o=new Y(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return j.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Fe((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=Vi(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Vi(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return j.resolve(a)}It(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new RL(n,r));let s=this.hr.get(n);s===void 0&&(s=de(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(){this.Pr=new Ct(rt.Ir),this.Tr=new Ct(rt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new rt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new rt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new Y(new ke([])),r=new rt(n,e),i=new rt(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new Y(new ke([])),r=new rt(n,e),i=new rt(n,e+1);let s=de();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new rt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class rt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return Y.comparator(e.key,n.key)||ve(e.pr,n.pr)}static Er(e,n){return ve(e.pr,n.pr)||Y.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Ct(rt.Ir)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new IL(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new rt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return j.resolve(o)}lookupMutationBatch(e,n){return j.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return j.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new rt(n,0),i=new rt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),j.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ct(ve);return n.forEach(i=>{const s=new rt(i,0),o=new rt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),j.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Y.isDocumentKey(s)||(s=s.child(""));const o=new rt(new Y(s),0);let a=new Ct(ve);return this.wr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.pr)),!0)},o),j.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ae(this.vr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return j.forEach(n.mutations,i=>{const s=new rt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new rt(n,0),i=this.wr.firstAfterOrEqual(r);return j.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}vr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e){this.Cr=e,this.docs=function(){return new Fe(Y.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return j.resolve(r?r.document.mutableCopy():Tt.newInvalidDocument(n))}getEntries(e,n){let r=wr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Tt.newInvalidDocument(i))}),j.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=wr();const o=n.path,a=new Y(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||H4(W4(d),r)<=0||(i.has(d.key)||xh(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return j.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ne()}Fr(e,n){return j.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new oD(this)}getSize(e){return j.resolve(this.size)}}class oD extends ZL{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),j.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e){this.persistence=e,this.Mr=new bo(n=>Ny(n),by),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Vy,this.targetCount=0,this.Br=go.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),j.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new go(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.qn(n),j.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),j.waitFor(s).next(()=>i)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return j.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),j.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),j.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),j.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return j.resolve(r)}containsKey(e,n){return j.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,n){this.Lr={},this.overlays={},this.kr=new Cy(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new aD(this),this.indexManager=new YL,this.remoteDocumentCache=function(i){return new sD(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new QL(n),this.$r=new nD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new rD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new iD(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){X("MemoryPersistence","Starting transaction:",e);const i=new cD(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return j.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class cD extends K4{constructor(e){super(),this.currentSequenceNumber=e}}class Fy{constructor(e){this.persistence=e,this.zr=new Vy,this.jr=null}static Hr(e){return new Fy(e)}get Jr(){if(this.jr)return this.jr;throw ne()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),j.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),j.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.Jr,r=>{const i=Y.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,se.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return j.or([()=>j.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=de(),i=de();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Uy(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(){this.$i=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Wi(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.zi(e,n))}Wi(e,n){if(G_(n))return j.resolve(null);let r=_r(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Sm(n,null,"F"),r=_r(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=de(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ji(n,a);return this.Hi(n,c,o,l.readTime)?this.Wi(e,Sm(n,null,"F")):this.Ji(e,c,n,l)}))})))}Gi(e,n,r,i){return G_(n)||i.isEqual(se.min())?this.zi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.Hi(n,o,r,i)?this.zi(e,n):($_()<=ye.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Im(n)),this.Ji(e,o,n,z4(i,-1)))})}ji(e,n){let r=new Ct(qS(e));return n.forEach((i,s)=>{xh(e,s)&&(r=r.add(s))}),r}Hi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}zi(e,n){return $_()<=ye.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",Im(n)),this.Ui.getDocumentsMatchingQuery(e,n,di.min())}Ji(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e,n,r,i){this.persistence=e,this.Yi=n,this.serializer=i,this.Zi=new Fe(ve),this.Xi=new bo(s=>Ny(s),by),this.es=new Map,this.ts=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this.ns(r)}ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tD(this.ts,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ts.setIndexManager(this.indexManager),this.Yi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Zi))}}function hD(t,e,n,r){return new dD(t,e,n,r)}async function fI(t,e){const n=le(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ns(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=de();for(const c of i){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({rs:c,removedBatchIds:o,addedBatchIds:a}))})})}function fD(t,e){const n=le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ts.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const h=c.batch,p=h.keys();let m=j.resolve();return p.forEach(v=>{m=m.next(()=>d.getEntry(l,v)).next(w=>{const x=c.docVersions.get(v);Ae(x!==null),w.version.compareTo(x)<0&&(h.applyToRemoteDocument(w,c),w.isValidDocument()&&(w.setReadTime(c.commitVersion),d.addEntry(w)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=de();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function pI(t){const e=le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function pD(t,e){const n=le(t),r=e.snapshotVersion;let i=n.Zi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ts.newChangeBuffer({trackRemovals:!0});i=n.Zi;const a=[];e.targetChanges.forEach((d,h)=>{const p=i.get(h);if(!p)return;a.push(n.Qr.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(s,d.addedDocuments,h)));let m=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(At.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(h,m),function(w,x,y){return w.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(p,m,d)&&a.push(n.Qr.updateTargetData(s,m))});let l=wr(),c=de();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(mD(s,o,e.documentUpdates).next(d=>{l=d.ss,c=d.os})),!r.isEqual(se.min())){const d=n.Qr.getLastRemoteSnapshotVersion(s).next(h=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return j.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Zi=i,s))}function mD(t,e,n){let r=de(),i=de();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=wr();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(se.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):X("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{ss:o,os:i}})}function gD(t,e){const n=le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function yD(t,e){const n=le(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,j.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new zr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Zi.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Zi=n.Zi.insert(r.targetId,r),n.Xi.set(e,r.targetId)),r})}async function Am(t,e,n){const r=le(t),i=r.Zi.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ll(o))throw o;X("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Zi=r.Zi.remove(e),r.Xi.delete(i.target)}function s1(t,e,n){const r=le(t);let i=se.min(),s=de();return r.persistence.runTransaction("Execute query","readonly",o=>function(l,c,d){const h=le(l),p=h.Xi.get(d);return p!==void 0?j.resolve(h.Zi.get(p)):h.Qr.getTargetData(c,d)}(r,o,_r(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Yi.getDocumentsMatchingQuery(o,e,n?i:se.min(),n?s:de())).next(a=>(vD(r,uL(e),a),{documents:a,_s:s})))}function vD(t,e,n){let r=t.es.get(e)||se.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.es.set(e,r)}class o1{constructor(){this.activeTargetIds=gL()}Is(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ts(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ps(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _D{constructor(){this.Ys=new o1,this.Zs={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Ys.Is(e),this.Zs[e]||"not-current"}updateQueryState(e,n,r){this.Zs[e]=n}removeLocalQueryTarget(e){this.Ys.Ts(e)}isLocalQueryTarget(e){return this.Ys.activeTargetIds.has(e)}clearQueryState(e){delete this.Zs[e]}getAllActiveQueryTargets(){return this.Ys.activeTargetIds}isActiveQueryTarget(e){return this.Ys.activeTargetIds.has(e)}start(){return this.Ys=new o1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{Xs(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(){this.eo=()=>this.no(),this.ro=()=>this.io(),this.so=[],this.oo()}Xs(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.eo),window.removeEventListener("offline",this.ro)}oo(){window.addEventListener("online",this.eo),window.addEventListener("offline",this.ro)}no(){X("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}io(){X("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rc=null;function $f(){return Rc===null?Rc=function(){return 268435456+Math.round(2147483648*Math.random())}():Rc++,"0x"+Rc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e){this._o=e._o,this.ao=e.ao}uo(e){this.co=e}lo(e){this.ho=e}onMessage(e){this.Po=e}close(){this.ao()}send(e){this._o(e)}Io(){this.co()}To(e){this.ho(e)}Eo(e){this.Po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _t="WebChannelConnection";class TD extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ao=r+"://"+n.host,this.Ro=`projects/${i}/databases/${s}`,this.Vo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get mo(){return!1}fo(n,r,i,s,o){const a=$f(),l=this.po(n,r);X("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.Ro,"x-goog-request-params":this.Vo};return this.yo(c,s,o),this.wo(n,l,c,i).then(d=>(X("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw ho("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}So(n,r,i,s,o,a){return this.fo(n,r,i,s,o)}yo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ao}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}po(n,r){const i=xD[n];return`${this.Ao}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}wo(e,n,r,i){const s=$f();return new Promise((o,a)=>{const l=new b4;l.setWithCredentials(!0),l.listenOnce(A4.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Df.NO_ERROR:const d=l.getResponseJson();X(_t,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Df.TIMEOUT:X(_t,`RPC '${e}' ${s} timed out`),a(new B(P.DEADLINE_EXCEEDED,"Request time out"));break;case Df.HTTP_ERROR:const h=l.getStatus();if(X(_t,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const v=function(x){const y=x.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(y)>=0?y:P.UNKNOWN}(m.status);a(new B(v,m.message))}else a(new B(P.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new B(P.UNAVAILABLE,"Connection failed."));break;default:ne()}}finally{X(_t,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);X(_t,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}bo(e,n,r){const i=$f(),s=[this.Ao,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=k4(),a=P4(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.yo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");X(_t,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=o.createWebChannel(d,l);let p=!1,m=!1;const v=new ED({_o:x=>{m?X(_t,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(p||(X(_t,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),X(_t,`RPC '${e}' stream ${i} sending:`,x),h.send(x))},ao:()=>h.close()}),w=(x,y,g)=>{x.listen(y,_=>{try{g(_)}catch(E){setTimeout(()=>{throw E},0)}})};return w(h,Tc.EventType.OPEN,()=>{m||X(_t,`RPC '${e}' stream ${i} transport opened.`)}),w(h,Tc.EventType.CLOSE,()=>{m||(m=!0,X(_t,`RPC '${e}' stream ${i} transport closed`),v.To())}),w(h,Tc.EventType.ERROR,x=>{m||(m=!0,ho(_t,`RPC '${e}' stream ${i} transport errored:`,x),v.To(new B(P.UNAVAILABLE,"The operation could not be completed")))}),w(h,Tc.EventType.MESSAGE,x=>{var y;if(!m){const g=x.data[0];Ae(!!g);const _=g,E=_.error||((y=_[0])===null||y===void 0?void 0:y.error);if(E){X(_t,`RPC '${e}' stream ${i} received error:`,E);const T=E.status;let R=function(A){const k=Ke[A];if(k!==void 0)return iI(k)}(T),I=E.message;R===void 0&&(R=P.INTERNAL,I="Unknown error status: "+T+" with message "+E.message),m=!0,v.To(new B(R,I)),h.close()}else X(_t,`RPC '${e}' stream ${i} received:`,g),v.Eo(g)}}),w(a,N4.STAT_EVENT,x=>{x.stat===D_.PROXY?X(_t,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===D_.NOPROXY&&X(_t,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.Io()},0),v}}function Vf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ih(t){return new LL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Do=r,this.vo=i,this.Co=s,this.Fo=0,this.Mo=null,this.xo=Date.now(),this.reset()}reset(){this.Fo=0}Oo(){this.Fo=this.Co}No(e){this.cancel();const n=Math.floor(this.Fo+this.Bo()),r=Math.max(0,Date.now()-this.xo),i=Math.max(0,n-r);i>0&&X("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Fo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Mo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.xo=Date.now(),e())),this.Fo*=this.vo,this.Fo<this.Do&&(this.Fo=this.Do),this.Fo>this.Co&&(this.Fo=this.Co)}Lo(){this.Mo!==null&&(this.Mo.skipDelay(),this.Mo=null)}cancel(){this.Mo!==null&&(this.Mo.cancel(),this.Mo=null)}Bo(){return(Math.random()-.5)*this.Fo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e,n,r,i,s,o,a,l){this.oi=e,this.ko=r,this.qo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Qo=0,this.Ko=null,this.$o=null,this.stream=null,this.Uo=new mI(e,n)}Wo(){return this.state===1||this.state===5||this.Go()}Go(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.zo()}async stop(){this.Wo()&&await this.close(0)}jo(){this.state=0,this.Uo.reset()}Ho(){this.Go()&&this.Ko===null&&(this.Ko=this.oi.enqueueAfterDelay(this.ko,6e4,()=>this.Jo()))}Yo(e){this.Zo(),this.stream.send(e)}async Jo(){if(this.Go())return this.close(0)}Zo(){this.Ko&&(this.Ko.cancel(),this.Ko=null)}Xo(){this.$o&&(this.$o.cancel(),this.$o=null)}async close(e,n){this.Zo(),this.Xo(),this.Uo.cancel(),this.Qo++,e!==4?this.Uo.reset():n&&n.code===P.RESOURCE_EXHAUSTED?(vr(n.toString()),vr("Using maximum backoff delay to prevent overloading the backend."),this.Uo.Oo()):n&&n.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.e_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.lo(n)}e_(){}auth(){this.state=1;const e=this.t_(this.Qo),n=this.Qo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Qo===n&&this.n_(r,i)},r=>{e(()=>{const i=new B(P.UNKNOWN,"Fetching auth token failed: "+r.message);return this.r_(i)})})}n_(e,n){const r=this.t_(this.Qo);this.stream=this.i_(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.$o=this.oi.enqueueAfterDelay(this.qo,1e4,()=>(this.Go()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.lo(i=>{r(()=>this.r_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}zo(){this.state=5,this.Uo.No(async()=>{this.state=0,this.start()})}r_(e){return X("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}t_(e){return n=>{this.oi.enqueueAndForget(()=>this.Qo===e?n():(X("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class SD extends gI{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}i_(e,n){return this.connection.bo("Listen",e,n)}onMessage(e){this.Uo.reset();const n=$L(this.serializer,e),r=function(s){if(!("targetChange"in s))return se.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?se.min():o.readTime?Kn(o.readTime):se.min()}(e);return this.listener.s_(n,r)}o_(e){const n={};n.database=Pm(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Em(l)?{documents:UL(s,l)}:{query:BL(s,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=aI(s,o.resumeToken);const c=Rm(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(se.min())>0){a.readTime=Xu(s,o.snapshotVersion.toTimestamp());const c=Rm(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=WL(this.serializer,e);r&&(n.labels=r),this.Yo(n)}__(e){const n={};n.database=Pm(this.serializer),n.removeTarget=e,this.Yo(n)}}class ID extends gI{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.a_=!1}get u_(){return this.a_}start(){this.a_=!1,this.lastStreamToken=void 0,super.start()}e_(){this.a_&&this.c_([])}i_(e,n){return this.connection.bo("Write",e,n)}onMessage(e){if(Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_){this.Uo.reset();const n=FL(e.writeResults,e.commitTime),r=Kn(e.commitTime);return this.listener.l_(r,n)}return Ae(!e.writeResults||e.writeResults.length===0),this.a_=!0,this.listener.h_()}P_(){const e={};e.database=Pm(this.serializer),this.Yo(e)}c_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>VL(this.serializer,r))};this.Yo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.I_=!1}T_(){if(this.I_)throw new B(P.FAILED_PRECONDITION,"The client has already been terminated.")}fo(e,n,r){return this.T_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.fo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new B(P.UNKNOWN,i.toString())})}So(e,n,r,i){return this.T_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new B(P.UNKNOWN,s.toString())})}terminate(){this.I_=!0}}class CD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.d_=0,this.A_=null,this.R_=!0}V_(){this.d_===0&&(this.m_("Unknown"),this.A_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.A_=null,this.f_("Backend didn't respond within 10 seconds."),this.m_("Offline"),Promise.resolve())))}g_(e){this.state==="Online"?this.m_("Unknown"):(this.d_++,this.d_>=1&&(this.p_(),this.f_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.m_("Offline")))}set(e){this.p_(),this.d_=0,e==="Online"&&(this.R_=!1),this.m_(e)}m_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}f_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.R_?(vr(n),this.R_=!1):X("OnlineStateTracker",n)}p_(){this.A_!==null&&(this.A_.cancel(),this.A_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.y_=[],this.w_=new Map,this.S_=new Set,this.b_=[],this.D_=s,this.D_.Xs(o=>{r.enqueueAndForget(async()=>{gs(this)&&(X("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=le(l);c.S_.add(4),await Vl(c),c.v_.set("Unknown"),c.S_.delete(4),await Rh(c)}(this))})}),this.v_=new CD(r,i)}}async function Rh(t){if(gs(t))for(const e of t.b_)await e(!0)}async function Vl(t){for(const e of t.b_)await e(!1)}function yI(t,e){const n=le(t);n.w_.has(e.targetId)||(n.w_.set(e.targetId,e),Wy(n)?zy(n):Oo(n).Go()&&By(n,e))}function vI(t,e){const n=le(t),r=Oo(n);n.w_.delete(e),r.Go()&&_I(n,e),n.w_.size===0&&(r.Go()?r.Ho():gs(n)&&n.v_.set("Unknown"))}function By(t,e){if(t.C_.Le(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Oo(t).o_(e)}function _I(t,e){t.C_.Le(e),Oo(t).__(e)}function zy(t){t.C_=new NL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.w_.get(e)||null,st:()=>t.datastore.serializer.databaseId}),Oo(t).start(),t.v_.V_()}function Wy(t){return gs(t)&&!Oo(t).Wo()&&t.w_.size>0}function gs(t){return le(t).S_.size===0}function wI(t){t.C_=void 0}async function PD(t){t.w_.forEach((e,n)=>{By(t,e)})}async function AD(t,e){wI(t),Wy(t)?(t.v_.g_(e),zy(t)):t.v_.set("Unknown")}async function ND(t,e,n){if(t.v_.set("Online"),e instanceof oI&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.w_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.w_.delete(a),i.C_.removeTarget(a))}(t,e)}catch(r){X("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Yu(t,r)}else if(e instanceof Kc?t.C_.Ge(e):e instanceof sI?t.C_.Xe(e):t.C_.He(e),!n.isEqual(se.min()))try{const r=await pI(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.C_._t(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.w_.get(c);d&&s.w_.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=s.w_.get(l);if(!d)return;s.w_.set(l,d.withResumeToken(At.EMPTY_BYTE_STRING,d.snapshotVersion)),_I(s,l);const h=new zr(d.target,l,c,d.sequenceNumber);By(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){X("RemoteStore","Failed to raise snapshot:",r),await Yu(t,r)}}async function Yu(t,e,n){if(!Ll(e))throw e;t.S_.add(1),await Vl(t),t.v_.set("Offline"),n||(n=()=>pI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{X("RemoteStore","Retrying IndexedDB access"),await n(),t.S_.delete(1),await Rh(t)})}function xI(t,e){return e().catch(n=>Yu(t,n,e))}async function Ch(t){const e=le(t),n=fi(e);let r=e.y_.length>0?e.y_[e.y_.length-1].batchId:-1;for(;bD(e);)try{const i=await gD(e.localStore,r);if(i===null){e.y_.length===0&&n.Ho();break}r=i.batchId,OD(e,i)}catch(i){await Yu(e,i)}EI(e)&&TI(e)}function bD(t){return gs(t)&&t.y_.length<10}function OD(t,e){t.y_.push(e);const n=fi(t);n.Go()&&n.u_&&n.c_(e.mutations)}function EI(t){return gs(t)&&!fi(t).Wo()&&t.y_.length>0}function TI(t){fi(t).start()}async function jD(t){fi(t).P_()}async function LD(t){const e=fi(t);for(const n of t.y_)e.c_(n.mutations)}async function DD(t,e,n){const r=t.y_.shift(),i=Dy.from(r,e,n);await xI(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ch(t)}async function MD(t,e){e&&fi(t).u_&&await async function(r,i){if(function(o){return kL(o)&&o!==P.ABORTED}(i.code)){const s=r.y_.shift();fi(r).jo(),await xI(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Ch(r)}}(t,e),EI(t)&&TI(t)}async function l1(t,e){const n=le(t);n.asyncQueue.verifyOperationInProgress(),X("RemoteStore","RemoteStore received new credentials");const r=gs(n);n.S_.add(3),await Vl(n),r&&n.v_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.S_.delete(3),await Rh(n)}async function $D(t,e){const n=le(t);e?(n.S_.delete(2),await Rh(n)):e||(n.S_.add(2),await Vl(n),n.v_.set("Unknown"))}function Oo(t){return t.F_||(t.F_=function(n,r,i){const s=le(n);return s.T_(),new SD(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{uo:PD.bind(null,t),lo:AD.bind(null,t),s_:ND.bind(null,t)}),t.b_.push(async e=>{e?(t.F_.jo(),Wy(t)?zy(t):t.v_.set("Unknown")):(await t.F_.stop(),wI(t))})),t.F_}function fi(t){return t.M_||(t.M_=function(n,r,i){const s=le(n);return s.T_(),new ID(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{uo:jD.bind(null,t),lo:MD.bind(null,t),h_:LD.bind(null,t),l_:DD.bind(null,t)}),t.b_.push(async e=>{e?(t.M_.jo(),await Ch(t)):(await t.M_.stop(),t.y_.length>0&&(X("RemoteStore",`Stopping write stream with ${t.y_.length} pending writes`),t.y_=[]))})),t.M_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Hy(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new B(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qy(t,e){if(vr("AsyncQueue",`${e}: ${t}`),Ll(t))return new B(P.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Y.comparator(n.key,r.key):(n,r)=>Y.comparator(n.key,r.key),this.keyedMap=ta(),this.sortedSet=new Fe(this.comparator)}static emptySet(e){return new Ys(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ys)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ys;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(){this.x_=new Fe(Y.comparator)}track(e){const n=e.doc.key,r=this.x_.get(n);r?e.type!==0&&r.type===3?this.x_=this.x_.insert(n,e):e.type===3&&r.type!==1?this.x_=this.x_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.x_=this.x_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.x_=this.x_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.x_=this.x_.remove(n):e.type===1&&r.type===2?this.x_=this.x_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.x_=this.x_.insert(n,{type:2,doc:e.doc}):ne():this.x_=this.x_.insert(n,e)}O_(){const e=[];return this.x_.inorderTraversal((n,r)=>{e.push(r)}),e}}class yo{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new yo(e,n,Ys.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(){this.N_=void 0,this.listeners=[]}}class FD{constructor(){this.queries=new bo(e=>HS(e),wh),this.onlineState="Unknown",this.B_=new Set}}async function SI(t,e){const n=le(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new VD),i)try{s.N_=await n.onListen(r)}catch(o){const a=qy(o,`Initialization of query '${Im(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.L_(n.onlineState),s.N_&&e.k_(s.N_)&&Ky(n)}async function II(t,e){const n=le(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function UD(t,e){const n=le(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.k_(i)&&(r=!0);o.N_=i}}r&&Ky(n)}function BD(t,e,n){const r=le(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function Ky(t){t.B_.forEach(e=>{e.next()})}class RI{constructor(e,n,r){this.query=e,this.q_=n,this.Q_=!1,this.K_=null,this.onlineState="Unknown",this.options=r||{}}k_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new yo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Q_?this.U_(e)&&(this.q_.next(e),n=!0):this.W_(e,this.onlineState)&&(this.G_(e),n=!0),this.K_=e,n}onError(e){this.q_.error(e)}L_(e){this.onlineState=e;let n=!1;return this.K_&&!this.Q_&&this.W_(this.K_,e)&&(this.G_(this.K_),n=!0),n}W_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}U_(e){if(e.docChanges.length>0)return!0;const n=this.K_&&this.K_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}G_(e){e=yo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Q_=!0,this.q_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e){this.key=e}}class kI{constructor(e){this.key=e}}class zD{constructor(e,n){this.query=e,this.ta=n,this.na=null,this.hasCachedResults=!1,this.current=!1,this.ra=de(),this.mutatedKeys=de(),this.ia=qS(e),this.sa=new Ys(this.ia)}get oa(){return this.ta}_a(e,n){const r=n?n.aa:new c1,i=n?n.sa:this.sa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const p=i.get(d),m=xh(this.query,h)?h:null,v=!!p&&this.mutatedKeys.has(p.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let x=!1;p&&m?p.data.isEqual(m.data)?v!==w&&(r.track({type:3,doc:m}),x=!0):this.ua(p,m)||(r.track({type:2,doc:m}),x=!0,(l&&this.ia(m,l)>0||c&&this.ia(m,c)<0)&&(a=!0)):!p&&m?(r.track({type:0,doc:m}),x=!0):p&&!m&&(r.track({type:1,doc:p}),x=!0,(l||c)&&(a=!0)),x&&(m?(o=o.add(m),s=w?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{sa:o,aa:r,Hi:a,mutatedKeys:s}}ua(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.sa;this.sa=e.sa,this.mutatedKeys=e.mutatedKeys;const s=e.aa.O_();s.sort((c,d)=>function(p,m){const v=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne()}};return v(p)-v(m)}(c.type,d.type)||this.ia(c.doc,d.doc)),this.ca(r);const o=n?this.la():[],a=this.ra.size===0&&this.current?1:0,l=a!==this.na;return this.na=a,s.length!==0||l?{snapshot:new yo(this.query,e.sa,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),ha:o}:{ha:o}}L_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({sa:this.sa,aa:new c1,mutatedKeys:this.mutatedKeys,Hi:!1},!1)):{ha:[]}}Pa(e){return!this.ta.has(e)&&!!this.sa.has(e)&&!this.sa.get(e).hasLocalMutations}ca(e){e&&(e.addedDocuments.forEach(n=>this.ta=this.ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ta=this.ta.delete(n)),this.current=e.current)}la(){if(!this.current)return[];const e=this.ra;this.ra=de(),this.sa.forEach(r=>{this.Pa(r.key)&&(this.ra=this.ra.add(r.key))});const n=[];return e.forEach(r=>{this.ra.has(r)||n.push(new kI(r))}),this.ra.forEach(r=>{e.has(r)||n.push(new CI(r))}),n}Ia(e){this.ta=e._s,this.ra=de();const n=this._a(e.documents);return this.applyChanges(n,!0)}Ta(){return yo.fromInitialDocuments(this.query,this.sa,this.mutatedKeys,this.na===0,this.hasCachedResults)}}class WD{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class HD{constructor(e){this.key=e,this.Ea=!1}}class qD{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.da={},this.Aa=new bo(a=>HS(a),wh),this.Ra=new Map,this.Va=new Set,this.ma=new Fe(Y.comparator),this.fa=new Map,this.ga=new Vy,this.pa={},this.ya=new Map,this.wa=go.Bn(),this.onlineState="Unknown",this.Sa=void 0}get isPrimaryClient(){return this.Sa===!0}}async function KD(t,e){const n=rM(t);let r,i;const s=n.Aa.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Ta();else{const o=await yD(n.localStore,_r(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await GD(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&yI(n.remoteStore,o)}return i}async function GD(t,e,n,r,i){t.ba=(h,p,m)=>async function(w,x,y,g){let _=x.view._a(y);_.Hi&&(_=await s1(w.localStore,x.query,!1).then(({documents:R})=>x.view._a(R,_)));const E=g&&g.targetChanges.get(x.targetId),T=x.view.applyChanges(_,w.isPrimaryClient,E);return d1(w,x.targetId,T.ha),T.snapshot}(t,h,p,m);const s=await s1(t.localStore,e,!0),o=new zD(e,s._s),a=o._a(s.documents),l=$l.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);d1(t,n,c.ha);const d=new WD(e,n,o);return t.Aa.set(e,d),t.Ra.has(n)?t.Ra.get(n).push(e):t.Ra.set(n,[e]),c.snapshot}async function QD(t,e){const n=le(t),r=n.Aa.get(e),i=n.Ra.get(r.targetId);if(i.length>1)return n.Ra.set(r.targetId,i.filter(s=>!wh(s,e))),void n.Aa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Am(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),vI(n.remoteStore,r.targetId),Nm(n,r.targetId)}).catch(jl)):(Nm(n,r.targetId),await Am(n.localStore,r.targetId,!0))}async function XD(t,e,n){const r=iM(t);try{const i=await function(o,a){const l=le(o),c=Je.now(),d=a.reduce((m,v)=>m.add(v.key),de());let h,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let v=wr(),w=de();return l.ts.getEntries(m,d).next(x=>{v=x,v.forEach((y,g)=>{g.isValidDocument()||(w=w.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,v)).next(x=>{h=x;const y=[];for(const g of a){const _=TL(g,h.get(g.key).overlayedDocument);_!=null&&y.push(new ms(g.key,_,DS(_.value.mapValue),qn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,y,a)}).next(x=>{p=x;const y=x.applyToLocalDocumentSet(h,w);return l.documentOverlayCache.saveOverlays(m,x.batchId,y)})}).then(()=>({batchId:p.batchId,changes:GS(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.pa[o.currentUser.toKey()];c||(c=new Fe(ve)),c=c.insert(a,l),o.pa[o.currentUser.toKey()]=c}(r,i.batchId,n),await Fl(r,i.changes),await Ch(r.remoteStore)}catch(i){const s=qy(i,"Failed to persist write");n.reject(s)}}async function PI(t,e){const n=le(t);try{const r=await pD(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.fa.get(s);o&&(Ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ea=!0:i.modifiedDocuments.size>0?Ae(o.Ea):i.removedDocuments.size>0&&(Ae(o.Ea),o.Ea=!1))}),await Fl(n,r,e)}catch(r){await jl(r)}}function u1(t,e,n){const r=le(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Aa.forEach((s,o)=>{const a=o.view.L_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=le(o);l.onlineState=a;let c=!1;l.queries.forEach((d,h)=>{for(const p of h.listeners)p.L_(a)&&(c=!0)}),c&&Ky(l)}(r.eventManager,e),i.length&&r.da.s_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function YD(t,e,n){const r=le(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.fa.get(e),s=i&&i.key;if(s){let o=new Fe(Y.comparator);o=o.insert(s,Tt.newNoDocument(s,se.min()));const a=de().add(s),l=new Sh(se.min(),new Map,new Fe(ve),o,a);await PI(r,l),r.ma=r.ma.remove(s),r.fa.delete(e),Gy(r)}else await Am(r.localStore,e,!1).then(()=>Nm(r,e,n)).catch(jl)}async function JD(t,e){const n=le(t),r=e.batch.batchId;try{const i=await fD(n.localStore,e);NI(n,r,null),AI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Fl(n,i)}catch(i){await jl(i)}}async function ZD(t,e,n){const r=le(t);try{const i=await function(o,a){const l=le(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Ae(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);NI(r,e,n),AI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Fl(r,i)}catch(i){await jl(i)}}function AI(t,e){(t.ya.get(e)||[]).forEach(n=>{n.resolve()}),t.ya.delete(e)}function NI(t,e,n){const r=le(t);let i=r.pa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.pa[r.currentUser.toKey()]=i}}function Nm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ra.get(e))t.Aa.delete(r),n&&t.da.Da(r,n);t.Ra.delete(e),t.isPrimaryClient&&t.ga.Vr(e).forEach(r=>{t.ga.containsKey(r)||bI(t,r)})}function bI(t,e){t.Va.delete(e.path.canonicalString());const n=t.ma.get(e);n!==null&&(vI(t.remoteStore,n),t.ma=t.ma.remove(e),t.fa.delete(n),Gy(t))}function d1(t,e,n){for(const r of n)r instanceof CI?(t.ga.addReference(r.key,e),eM(t,r)):r instanceof kI?(X("SyncEngine","Document no longer in limbo: "+r.key),t.ga.removeReference(r.key,e),t.ga.containsKey(r.key)||bI(t,r.key)):ne()}function eM(t,e){const n=e.key,r=n.path.canonicalString();t.ma.get(n)||t.Va.has(r)||(X("SyncEngine","New document in limbo: "+n),t.Va.add(r),Gy(t))}function Gy(t){for(;t.Va.size>0&&t.ma.size<t.maxConcurrentLimboResolutions;){const e=t.Va.values().next().value;t.Va.delete(e);const n=new Y(ke.fromString(e)),r=t.wa.next();t.fa.set(r,new HD(n)),t.ma=t.ma.insert(n,r),yI(t.remoteStore,new zr(_r(Oy(n.path)),r,"TargetPurposeLimboResolution",Cy.ae))}}async function Fl(t,e,n){const r=le(t),i=[],s=[],o=[];r.Aa.isEmpty()||(r.Aa.forEach((a,l)=>{o.push(r.ba(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const d=Uy.Ki(l.targetId,c);s.push(d)}}))}),await Promise.all(o),r.da.s_(i),await async function(l,c){const d=le(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>j.forEach(c,p=>j.forEach(p.qi,m=>d.persistence.referenceDelegate.addReference(h,p.targetId,m)).next(()=>j.forEach(p.Qi,m=>d.persistence.referenceDelegate.removeReference(h,p.targetId,m)))))}catch(h){if(!Ll(h))throw h;X("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const p=h.targetId;if(!h.fromCache){const m=d.Zi.get(p),v=m.snapshotVersion,w=m.withLastLimboFreeSnapshotVersion(v);d.Zi=d.Zi.insert(p,w)}}}(r.localStore,s))}async function tM(t,e){const n=le(t);if(!n.currentUser.isEqual(e)){X("SyncEngine","User change. New user:",e.toKey());const r=await fI(n.localStore,e);n.currentUser=e,function(s,o){s.ya.forEach(a=>{a.forEach(l=>{l.reject(new B(P.CANCELLED,o))})}),s.ya.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Fl(n,r.rs)}}function nM(t,e){const n=le(t),r=n.fa.get(e);if(r&&r.Ea)return de().add(r.key);{let i=de();const s=n.Ra.get(e);if(!s)return i;for(const o of s){const a=n.Aa.get(o);i=i.unionWith(a.view.oa)}return i}}function rM(t){const e=le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=PI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=YD.bind(null,e),e.da.s_=UD.bind(null,e.eventManager),e.da.Da=BD.bind(null,e.eventManager),e}function iM(t){const e=le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=JD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ZD.bind(null,e),e}class h1{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Ih(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return hD(this.persistence,new uD,e.initialUser,this.serializer)}createPersistence(e){return new lD(Fy.Hr,this.serializer)}createSharedClientState(e){return new _D}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class sM{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>u1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=tM.bind(null,this.syncEngine),await $D(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new FD}()}createDatastore(e){const n=Ih(e.databaseInfo.databaseId),r=function(s){return new TD(s)}(e.databaseInfo);return function(s,o,a,l){return new RD(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new kD(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>u1(this.syncEngine,n,0),function(){return a1.v()?new a1:new wD}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,d){const h=new qD(i,s,o,a,l,c);return d&&(h.Sa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=le(n);X("RemoteStore","RemoteStore shutting down."),r.S_.add(5),await Vl(r),r.D_.shutdown(),r.v_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Fa(this.observer.next,e)}error(e){this.observer.error?this.Fa(this.observer.error,e):vr("Uncaught Error in snapshot listener:",e.toString())}Ma(){this.muted=!0}Fa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=xt.UNAUTHENTICATED,this.clientId=OS.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{X("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(X("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new B(P.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=qy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ff(t,e){t.asyncQueue.verifyOperationInProgress(),X("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await fI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function f1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await lM(t);X("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>l1(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>l1(e.remoteStore,s)),t._onlineComponents=e}function aM(t){return t.name==="FirebaseError"?t.code===P.FAILED_PRECONDITION||t.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function lM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){X("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ff(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!aM(n))throw n;ho("Error using user provided cache. Falling back to memory cache: "+n),await Ff(t,new h1)}}else X("FirestoreClient","Using default OfflineComponentProvider"),await Ff(t,new h1);return t._offlineComponents}async function jI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(X("FirestoreClient","Using user provided OnlineComponentProvider"),await f1(t,t._uninitializedComponentsProvider._online)):(X("FirestoreClient","Using default OnlineComponentProvider"),await f1(t,new sM))),t._onlineComponents}function cM(t){return jI(t).then(e=>e.syncEngine)}async function LI(t){const e=await jI(t),n=e.eventManager;return n.onListen=KD.bind(null,e.syncEngine),n.onUnlisten=QD.bind(null,e.syncEngine),n}function uM(t,e,n={}){const r=new ur;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new OI({next:p=>{o.enqueueAndForget(()=>II(s,h));const m=p.docs.has(a);!m&&p.fromCache?c.reject(new B(P.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&l&&l.source==="server"?c.reject(new B(P.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new RI(Oy(a.path),d,{includeMetadataChanges:!0,z_:!0});return SI(s,h)}(await LI(t),t.asyncQueue,e,n,r)),r.promise}function dM(t,e,n={}){const r=new ur;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new OI({next:p=>{o.enqueueAndForget(()=>II(s,h)),p.fromCache&&l.source==="server"?c.reject(new B(P.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new RI(a,d,{includeMetadataChanges:!0,z_:!0});return SI(s,h)}(await LI(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(t,e,n){if(!n)throw new B(P.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function hM(t,e,n,r){if(e===!0&&r===!0)throw new B(P.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function m1(t){if(!Y.isDocumentKey(t))throw new B(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function g1(t){if(Y.isDocumentKey(t))throw new B(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function kh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ne()}function pi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new B(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=kh(t);throw new B(P.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new B(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new B(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new B(P.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new B(P.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new B(P.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ph{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new y1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new B(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new B(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new y1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new j4;switch(r.type){case"firstParty":return new $4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new B(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=p1.get(n);r&&(X("ComponentProvider","Removing Datastore"),p1.delete(n),r.terminate())}(this),Promise.resolve()}}function fM(t,e,n,r={}){var i;const s=(t=pi(t,Ph))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=xt.MOCK_USER;else{a=ST(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new B(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new xt(c)}t._authCredentials=new L4(new bS(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new jo(this.firestore,e,this._query)}}class qt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ii(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qt(this.firestore,e,this._key)}}class ii extends jo{constructor(e,n,r){super(e,n,Oy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qt(this.firestore,null,new Y(e))}withConverter(e){return new ii(this.firestore,e,this._path)}}function Lr(t,e,...n){if(t=nt(t),MI("collection","path",e),t instanceof Ph){const r=ke.fromString(e,...n);return g1(r),new ii(t,null,r)}{if(!(t instanceof qt||t instanceof ii))throw new B(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ke.fromString(e,...n));return g1(r),new ii(t.firestore,null,r)}}function at(t,e,...n){if(t=nt(t),arguments.length===1&&(e=OS.V()),MI("doc","path",e),t instanceof Ph){const r=ke.fromString(e,...n);return m1(r),new qt(t,null,new Y(r))}{if(!(t instanceof qt||t instanceof ii))throw new B(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ke.fromString(e,...n));return m1(r),new qt(t.firestore,t instanceof ii?t.converter:null,new Y(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(){this.za=Promise.resolve(),this.ja=[],this.Ha=!1,this.Ja=[],this.Ya=null,this.Za=!1,this.Xa=!1,this.eu=[],this.Uo=new mI(this,"async_queue_retry"),this.tu=()=>{const n=Vf();n&&X("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Uo.Lo()};const e=Vf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.tu)}get isShuttingDown(){return this.Ha}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nu(),this.ru(e)}enterRestrictedMode(e){if(!this.Ha){this.Ha=!0,this.Xa=e||!1;const n=Vf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.tu)}}enqueue(e){if(this.nu(),this.Ha)return new Promise(()=>{});const n=new ur;return this.ru(()=>this.Ha&&this.Xa?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ja.push(e),this.iu()))}async iu(){if(this.ja.length!==0){try{await this.ja[0](),this.ja.shift(),this.Uo.reset()}catch(e){if(!Ll(e))throw e;X("AsyncQueue","Operation failed with retryable error: "+e)}this.ja.length>0&&this.Uo.No(()=>this.iu())}}ru(e){const n=this.za.then(()=>(this.Za=!0,e().catch(r=>{this.Ya=r,this.Za=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw vr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Za=!1,r))));return this.za=n,n}enqueueAfterDelay(e,n,r){this.nu(),this.eu.indexOf(e)>-1&&(n=0);const i=Hy.createAndSchedule(this,e,n,r,s=>this.su(s));return this.Ja.push(i),i}nu(){this.Ya&&ne()}verifyOperationInProgress(){}async ou(){let e;do e=this.za,await e;while(e!==this.za)}_u(e){for(const n of this.Ja)if(n.timerId===e)return!0;return!1}au(e){return this.ou().then(()=>{this.Ja.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Ja)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ou()})}uu(e){this.eu.push(e)}su(e){const n=this.Ja.indexOf(e);this.Ja.splice(n,1)}}class Ul extends Ph{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new pM}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||$I(this),this._firestoreClient.terminate()}}function mM(t,e){const n=typeof t=="object"?t:ry(),r=typeof t=="string"?t:e||"(default)",i=nh(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=xT("firestore");s&&fM(i,...s)}return i}function Qy(t){return t._firestoreClient||$I(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function $I(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,d){return new X4(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,DI(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new oM(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vo(At.fromBase64String(e))}catch(n){throw new B(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new vo(At.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new B(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new St(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new B(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new B(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ve(this._lat,e._lat)||ve(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM=/^__.*__$/;class yM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ms(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ml(e,this.data,n,this.fieldTransforms)}}function FI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne()}}class Jy{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.cu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get lu(){return this.settings.lu}hu(e){return new Jy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.hu({path:r,Iu:!1});return i.Tu(e),i}Eu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.hu({path:r,Iu:!1});return i.cu(),i}du(e){return this.hu({path:void 0,Iu:!0})}Au(e){return Ju(e,this.settings.methodName,this.settings.Ru||!1,this.path,this.settings.Vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}cu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Tu(this.path.get(e))}Tu(e){if(e.length===0)throw this.Au("Document fields must not be empty");if(FI(this.lu)&&gM.test(e))throw this.Au('Document fields cannot begin and end with "__"')}}class vM{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ih(e)}mu(e,n,r,i=!1){return new Jy({lu:e,methodName:n,Vu:r,path:St.emptyPath(),Iu:!1,Ru:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function UI(t){const e=t._freezeSettings(),n=Ih(t._databaseId);return new vM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function _M(t,e,n,r,i,s={}){const o=t.mu(s.merge||s.mergeFields?2:0,e,n,i);WI("Data must be an object, but it was:",o,r);const a=BI(r,o);let l,c;if(s.merge)l=new In(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const p=xM(e,h,n);if(!o.contains(p))throw new B(P.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);TM(d,p)||d.push(p)}l=new In(d),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new yM(new fn(a),l,c)}function wM(t,e,n,r=!1){return Zy(n,t.mu(r?4:3,e))}function Zy(t,e){if(zI(t=nt(t)))return WI("Unsupported field value:",e,t),BI(t,e);if(t instanceof VI)return function(r,i){if(!FI(i.lu))throw i.Au(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Au(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Iu&&e.lu!==4)throw e.Au("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Zy(a,i.du(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=nt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return yL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Je.fromDate(r);return{timestampValue:Xu(i.serializer,s)}}if(r instanceof Je){const s=new Je(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Xu(i.serializer,s)}}if(r instanceof Yy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof vo)return{bytesValue:aI(i.serializer,r._byteString)};if(r instanceof qt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Au(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:$y(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Au(`Unsupported field value: ${kh(r)}`)}(t,e)}function BI(t,e){const n={};return jS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):No(t,(r,i)=>{const s=Zy(i,e.Pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function zI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Je||t instanceof Yy||t instanceof vo||t instanceof qt||t instanceof VI)}function WI(t,e,n){if(!zI(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=kh(n);throw r==="an object"?e.Au(t+" a custom object"):e.Au(t+" "+r)}}function xM(t,e,n){if((e=nt(e))instanceof Xy)return e._internalPath;if(typeof e=="string")return HI(t,e);throw Ju("Field path arguments must be of type string or ",t,!1,void 0,n)}const EM=new RegExp("[~\\*/\\[\\]]");function HI(t,e,n){if(e.search(EM)>=0)throw Ju(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Xy(...e.split("."))._internalPath}catch{throw Ju(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ju(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new B(P.INVALID_ARGUMENT,a+t+l)}function TM(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new SM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(e0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class SM extends qI{data(){return super.data()}}function e0(t,e){return typeof e=="string"?HI(t,e):e instanceof Xy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new B(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class t0{}class RM extends t0{}function Ms(t,e,...n){let r=[];e instanceof t0&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof n0).length,a=s.filter(l=>l instanceof Ah).length;if(o>1||o>0&&a>0)throw new B(P.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Ah extends RM{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ah(e,n,r)}_apply(e){const n=this._parse(e);return KI(e._query,n),new jo(e.firestore,e.converter,Tm(e._query,n))}_parse(e){const n=UI(e.firestore);return function(s,o,a,l,c,d,h){let p;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new B(P.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){_1(h,d);const m=[];for(const v of h)m.push(v1(l,s,v));p={arrayValue:{values:m}}}else p=v1(l,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||_1(h,d),p=wM(a,o,h,d==="in"||d==="not-in");return Xe.create(c,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function $s(t,e,n){const r=e,i=e0("where",t);return Ah._create(i,r,n)}class n0 extends t0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new n0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:An.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)KI(o,l),o=Tm(o,l)}(e._query,n),new jo(e.firestore,e.converter,Tm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function v1(t,e,n){if(typeof(n=nt(n))=="string"){if(n==="")throw new B(P.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!WS(e)&&n.indexOf("/")!==-1)throw new B(P.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ke.fromString(n));if(!Y.isDocumentKey(r))throw new B(P.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return B_(t,new Y(r))}if(n instanceof qt)return B_(t,n._key);throw new B(P.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kh(n)}.`)}function _1(t,e){if(!Array.isArray(t)||t.length===0)throw new B(P.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function KI(t,e){if(e.isInequality()){const r=jy(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new B(P.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=zS(t);s!==null&&CM(t,i,s)}const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new B(P.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new B(P.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function CM(t,e,n){if(!n.isEqual(e))throw new B(P.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class kM{convertValue(e,n="none"){switch(ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(is(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ne()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return No(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Yy(Ge(e.latitude),Ge(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Py(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(il(e));default:return null}}convertTimestamp(e){const n=hi(e);return new Je(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ke.fromString(e);Ae(hI(r));const i=new sl(r.get(1),r.get(3)),s=new Y(r.popFirst(5));return i.isEqual(n)||vr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PM(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class GI extends qI{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Gc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(e0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Gc extends GI{data(e={}){return super.data(e)}}class AM{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ra(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Gc(this._firestore,this._userDataWriter,r.key,r,new ra(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new B(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Gc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ra(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Gc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ra(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:NM(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function NM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cl(t){t=pi(t,qt);const e=pi(t.firestore,Ul);return uM(Qy(e),t._key).then(n=>bM(e,t,n))}class QI extends kM{constructor(e){super(),this.firestore=e}convertBytes(e){return new vo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new qt(this.firestore,null,n)}}function Vs(t){t=pi(t,jo);const e=pi(t.firestore,Ul),n=Qy(e),r=new QI(e);return IM(t._query),dM(n,t._query).then(i=>new AM(e,r,t,i))}function mi(t,e,n){t=pi(t,qt);const r=pi(t.firestore,Ul),i=PM(t.converter,e,n);return XI(r,[_M(UI(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,qn.none())])}function ul(t){return XI(pi(t.firestore,Ul),[new Ly(t._key,qn.none())])}function XI(t,e){return function(r,i){const s=new ur;return r.asyncQueue.enqueueAndForget(async()=>XD(await cM(r),i,s)),s.promise}(Qy(t),e)}function bM(t,e,n){const r=n.docs.get(e._key),i=new QI(t);return new GI(t,i,e._key,r,new ra(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Ao=i})(fs),ns(new ui("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Ul(new D4(r.getProvider("auth-internal")),new F4(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new B(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sl(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Hn(M_,"4.1.2",e),Hn(M_,"4.1.2","esm2017")})();const YI={userSongs:[],userPlaylists:[],adminSongs:[],adminPlaylists:[],userData:{display_name:"",email:"",photoURL:"",playlist_ids:[],song_ids:[],role:"",songs_count:0,latest_seen:new Je(0,0)},initial:!1},OM=(t,e)=>{switch(e.type){case 2:return{userSongs:e.payload.userSongs||[],adminSongs:e.payload.adminSongs||[],userPlaylists:e.payload.userPlaylists||[],adminPlaylists:e.payload.adminPlaylists||[],userData:e.payload.userData||t.userData,initial:!0};case 0:return{userSongs:e.payload.userSongs||[],adminSongs:t.adminSongs,userPlaylists:t.userPlaylists,adminPlaylists:t.adminPlaylists,userData:t.userData,initial:t.initial};case 1:return{adminSongs:t.adminSongs,userSongs:t.userSongs,userPlaylists:e.payload.userPlaylists||[],adminPlaylists:t.adminPlaylists,userData:t.userData,initial:t.initial};default:return{adminSongs:t.adminSongs,userSongs:t.userSongs,userPlaylists:t.userPlaylists,adminPlaylists:t.adminPlaylists,userData:t.userData,initial:t.initial}}},jM=t=>{const[e,n]=f.useReducer(OM,t),r=f.useCallback(o=>{n({type:0,payload:{userSongs:o}})},[]),i=f.useCallback(({userSongs:o,adminSongs:a,userPlaylists:l,adminPlaylists:c,userData:d})=>{n({type:2,payload:{userSongs:o,adminSongs:a,userPlaylists:l,adminPlaylists:c,userData:d}})},[]),s=f.useCallback(o=>{n({type:1,payload:{userPlaylists:o}})},[]);return{state:e,setUserSongs:r,initSongsContext:i,setUserPlaylists:s}},LM={state:YI,setUserSongs:()=>{},initSongsContext:()=>{},setUserPlaylists:()=>{}},JI=f.createContext(LM),DM=({children:t,songsStore:e})=>u.jsx(JI.Provider,{value:jM(e),children:t}),_n=()=>{const{state:{userData:t,adminPlaylists:e,adminSongs:n,initial:r,userPlaylists:i,userSongs:s},initSongsContext:o,setUserSongs:a,setUserPlaylists:l}=f.useContext(JI);return{userData:t,adminPlaylists:e,adminSongs:n,initial:r,userPlaylists:i,userSongs:s,initSongsContext:o,setUserSongs:a,setUserPlaylists:l}};function r0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ZI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const MM=ZI,eR=new Sl("auth","Firebase",ZI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu=new ty("@firebase/auth");function $M(t,...e){Zu.logLevel<=ye.WARN&&Zu.warn(`Auth (${fs}): ${t}`,...e)}function Qc(t,...e){Zu.logLevel<=ye.ERROR&&Zu.error(`Auth (${fs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(t,...e){throw i0(t,...e)}function Gn(t,...e){return i0(t,...e)}function tR(t,e,n){const r=Object.assign(Object.assign({},MM()),{[e]:n});return new Sl("auth","Firebase",r).create(e,{appName:t.name})}function VM(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Jn(t,"argument-error"),tR(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function i0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return eR.create(t,...e)}function oe(t,e,...n){if(!t)throw i0(e,...n)}function or(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Qc(e),new Error(e)}function xr(t,e){t||or(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function FM(){return w1()==="http:"||w1()==="https:"}function w1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FM()||dO()||"connection"in navigator)?navigator.onLine:!0}function BM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n){this.shortDelay=e,this.longDelay=n,xr(n>e,"Short delay should be less than long delay!"),this.isMobile=cO()||hO()}get(){return UM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(t,e){xr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM=new Bl(3e4,6e4);function rR(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function zl(t,e,n,r,i={}){return iR(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Il(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),nR.fetch()(sR(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function iR(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},zM),e);try{const i=new qM(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Cc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Cc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Cc(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw tR(t,d,c);Jn(t,d)}}catch(i){if(i instanceof Zn)throw i;Jn(t,"network-request-failed",{message:String(i)})}}async function HM(t,e,n,r,i={}){const s=await zl(t,e,n,r,i);return"mfaPendingCredential"in s&&Jn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function sR(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?s0(t.config,i):`${t.config.apiScheme}://${i}`}class qM{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Gn(this.auth,"network-request-failed")),WM.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Cc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Gn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KM(t,e){return zl(t,"POST","/v1/accounts:delete",e)}async function GM(t,e){return zl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QM(t,e=!1){const n=nt(t),r=await n.getIdToken(e),i=o0(r);oe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:wa(Uf(i.auth_time)),issuedAtTime:wa(Uf(i.iat)),expirationTime:wa(Uf(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Uf(t){return Number(t)*1e3}function o0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Qc("JWT malformed, contained fewer than 3 sections"),null;try{const i=_T(n);return i?JSON.parse(i):(Qc("Failed to decode base64 JWT payload"),null)}catch(i){return Qc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function XM(t){const e=o0(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Zn&&YM(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function YM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wa(this.lastLoginAt),this.creationTime=wa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ed(t){var e;const n=t.auth,r=await t.getIdToken(),i=await dl(t,GM(n,{idToken:r}));oe(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?t3(s.providerUserInfo):[],a=e3(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new oR(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function ZM(t){const e=nt(t);await ed(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function e3(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function t3(t){return t.map(e=>{var{providerId:n}=e,r=r0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n3(t,e){const n=await iR(t,{},async()=>{const r=Il({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=sR(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",nR.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):XM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return oe(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await n3(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new hl;return r&&(oe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(oe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(oe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hl,this.toJSON())}_performRefresh(){return or("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Hi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=r0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new JM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new oR(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await dl(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return QM(this,e)}reload(){return ZM(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Hi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ed(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await dl(this,KM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(c=n.createdAt)!==null&&c!==void 0?c:void 0,g=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:_,emailVerified:E,isAnonymous:T,providerData:R,stsTokenManager:I}=n;oe(_&&I,e,"internal-error");const S=hl.fromJSON(this.name,I);oe(typeof _=="string",e,"internal-error"),Pr(h,e.name),Pr(p,e.name),oe(typeof E=="boolean",e,"internal-error"),oe(typeof T=="boolean",e,"internal-error"),Pr(m,e.name),Pr(v,e.name),Pr(w,e.name),Pr(x,e.name),Pr(y,e.name),Pr(g,e.name);const A=new Hi({uid:_,auth:e,email:p,emailVerified:E,displayName:h,isAnonymous:T,photoURL:v,phoneNumber:m,tenantId:w,stsTokenManager:S,createdAt:y,lastLoginAt:g});return R&&Array.isArray(R)&&(A.providerData=R.map(k=>Object.assign({},k))),x&&(A._redirectEventId=x),A}static async _fromIdTokenResponse(e,n,r=!1){const i=new hl;i.updateFromServerResponse(n);const s=new Hi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ed(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1=new Map;function ar(t){xr(t instanceof Function,"Expected a class definition");let e=x1.get(t);return e?(xr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,x1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}aR.type="NONE";const E1=aR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(t,e,n){return`firebase:${t}:${e}:${n}`}class Js{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Xc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Xc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Hi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Js(ar(E1),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||ar(E1);const o=Xc(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const h=Hi._fromJSON(e,d);c!==s&&(a=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Js(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Js(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hR(e))return"Blackberry";if(fR(e))return"Webos";if(a0(e))return"Safari";if((e.includes("chrome/")||cR(e))&&!e.includes("edge/"))return"Chrome";if(dR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function lR(t=Pt()){return/firefox\//i.test(t)}function a0(t=Pt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cR(t=Pt()){return/crios\//i.test(t)}function uR(t=Pt()){return/iemobile/i.test(t)}function dR(t=Pt()){return/android/i.test(t)}function hR(t=Pt()){return/blackberry/i.test(t)}function fR(t=Pt()){return/webos/i.test(t)}function Nh(t=Pt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function r3(t=Pt()){var e;return Nh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function i3(){return fO()&&document.documentMode===10}function pR(t=Pt()){return Nh(t)||dR(t)||fR(t)||hR(t)||/windows phone/i.test(t)||uR(t)}function s3(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(t,e=[]){let n;switch(t){case"Browser":n=T1(Pt());break;case"Worker":n=`${T1(Pt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a3(t,e={}){return zl(t,"GET","/v2/passwordPolicy",rR(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3=6;class c3{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:l3,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new S1(this),this.idTokenSubscription=new S1(this),this.beforeStateQueue=new o3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ar(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Js.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ed(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=BM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?nt(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ar(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await a3(this),n=new c3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Sl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ar(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=await Js.create(this,[ar(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&$M(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function bh(t){return nt(t)}class S1{constructor(e){this.auth=e,this.observer=null,this.addObserver=wO(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function h3(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Gn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",d3().appendChild(r)})}function f3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p3(t,e){const n=nh(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Mu(s,e??{}))return i;Jn(i,"already-initialized")}return n.initialize({options:e})}function m3(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ar);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function g3(t,e,n){const r=bh(t);oe(r._canInitEmulator,r,"emulator-config-failed"),oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=gR(e),{host:o,port:a}=y3(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||v3()}function gR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function y3(t){const e=gR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:I1(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:I1(o)}}}function I1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function v3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return or("not implemented")}_getIdTokenResponse(e){return or("not implemented")}_linkToIdToken(e,n){return or("not implemented")}_getReauthenticationResolver(e){return or("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zs(t,e){return HM(t,"POST","/v1/accounts:signInWithIdp",rR(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3="http://localhost";class os extends yR{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new os(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Jn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=r0(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new os(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Zs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Zs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Zs(e,n)}buildRequest(){const e={requestUri:_3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Il(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl extends l0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends Wl{constructor(){super("facebook.com")}static credential(e){return os._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Dr.credential(e.oauthAccessToken)}catch{return null}}}Dr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Dr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn extends Wl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return os._fromParams({providerId:Mn.PROVIDER_ID,signInMethod:Mn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Mn.credentialFromTaggedObject(e)}static credentialFromError(e){return Mn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Mn.credential(n,r)}catch{return null}}}Mn.GOOGLE_SIGN_IN_METHOD="google.com";Mn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends Wl{constructor(){super("github.com")}static credential(e){return os._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mr.credentialFromTaggedObject(e)}static credentialFromError(e){return Mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mr.credential(e.oauthAccessToken)}catch{return null}}}Mr.GITHUB_SIGN_IN_METHOD="github.com";Mr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends Wl{constructor(){super("twitter.com")}static credential(e,n){return os._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return $r.credential(n,r)}catch{return null}}}$r.TWITTER_SIGN_IN_METHOD="twitter.com";$r.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Hi._fromIdTokenResponse(e,r,i),o=R1(r);return new _o({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=R1(r);return new _o({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function R1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td extends Zn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,td.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new td(e,n,r,i)}}function vR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?td._fromErrorAndOperation(t,s,e,r):s})}async function w3(t,e,n=!1){const r=await dl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return _o._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x3(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await dl(t,vR(r,i,e,t),n);oe(s.idToken,r,"internal-error");const o=o0(s.idToken);oe(o,r,"internal-error");const{sub:a}=o;return oe(t.uid===a,r,"user-mismatch"),_o._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Jn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E3(t,e,n=!1){const r="signIn",i=await vR(t,r,e),s=await _o._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function T3(t,e,n,r){return nt(t).onIdTokenChanged(e,n,r)}function S3(t,e,n){return nt(t).beforeAuthStateChanged(e,n)}function I3(t,e,n,r){return nt(t).onAuthStateChanged(e,n,r)}function R3(t){return nt(t).signOut()}const nd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(nd,"1"),this.storage.removeItem(nd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C3(){const t=Pt();return a0(t)||Nh(t)}const k3=1e3,P3=10;class wR extends _R{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=C3()&&s3(),this.fallbackToPolling=pR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);i3()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,P3):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},k3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}wR.type="LOCAL";const A3=wR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR extends _R{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}xR.type="SESSION";const ER=xR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Oh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await N3(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Oh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=c0("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const p=h;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(){return window}function O3(t){Qn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(){return typeof Qn().WorkerGlobalScope<"u"&&typeof Qn().importScripts=="function"}async function j3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function L3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function D3(){return TR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR="firebaseLocalStorageDb",M3=1,rd="firebaseLocalStorage",IR="fbase_key";class Hl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function jh(t,e){return t.transaction([rd],e?"readwrite":"readonly").objectStore(rd)}function $3(){const t=indexedDB.deleteDatabase(SR);return new Hl(t).toPromise()}function Om(){const t=indexedDB.open(SR,M3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(rd,{keyPath:IR})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(rd)?e(r):(r.close(),await $3(),e(await Om()))})})}async function C1(t,e,n){const r=jh(t,!0).put({[IR]:e,value:n});return new Hl(r).toPromise()}async function V3(t,e){const n=jh(t,!1).get(e),r=await new Hl(n).toPromise();return r===void 0?null:r.value}function k1(t,e){const n=jh(t,!0).delete(e);return new Hl(n).toPromise()}const F3=800,U3=3;class RR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Om(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>U3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return TR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Oh._getInstance(D3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await j3(),!this.activeServiceWorker)return;this.sender=new b3(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||L3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Om();return await C1(e,nd,"1"),await k1(e,nd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>C1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>V3(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>k1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=jh(i,!1).getAll();return new Hl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),F3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}RR.type="LOCAL";const B3=RR;new Bl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(t,e){return e?ar(e):(oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0 extends yR{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Zs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Zs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function z3(t){return E3(t.auth,new u0(t),t.bypassAuthState)}function W3(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),x3(n,new u0(t),t.bypassAuthState)}async function H3(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),w3(n,new u0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return z3;case"linkViaPopup":case"linkViaRedirect":return H3;case"reauthViaPopup":case"reauthViaRedirect":return W3;default:Jn(this.auth,"internal-error")}}resolve(e){xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3=new Bl(2e3,1e4);async function K3(t,e,n){const r=bh(t);VM(t,e,l0);const i=CR(r,n);return new Fi(r,"signInViaPopup",e,i).executeNotNull()}class Fi extends kR{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Fi.currentPopupAction&&Fi.currentPopupAction.cancel(),Fi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){xr(this.filter.length===1,"Popup operations only handle one event");const e=c0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Gn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Gn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,q3.get())};e()}}Fi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3="pendingRedirect",Yc=new Map;class Q3 extends kR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Yc.get(this.auth._key());if(!e){try{const r=await X3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Yc.set(this.auth._key(),e)}return this.bypassAuthState||Yc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function X3(t,e){const n=Z3(e),r=J3(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Y3(t,e){Yc.set(t._key(),e)}function J3(t){return ar(t._redirectPersistence)}function Z3(t){return Xc(G3,t.config.apiKey,t.name)}async function e$(t,e,n=!1){const r=bh(t),i=CR(r,e),o=await new Q3(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t$=10*60*1e3;class n${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!r$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!PR(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Gn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=t$&&this.cachedEventUids.clear(),this.cachedEventUids.has(P1(e))}saveEventToCache(e){this.cachedEventUids.add(P1(e)),this.lastProcessedEventTime=Date.now()}}function P1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function PR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function r$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return PR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i$(t,e={}){return zl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,o$=/^https?/;async function a$(t){if(t.config.emulator)return;const{authorizedDomains:e}=await i$(t);for(const n of e)try{if(l$(n))return}catch{}Jn(t,"unauthorized-domain")}function l$(t){const e=bm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!o$.test(n))return!1;if(s$.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c$=new Bl(3e4,6e4);function A1(){const t=Qn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function u$(t){return new Promise((e,n)=>{var r,i,s;function o(){A1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{A1(),n(Gn(t,"network-request-failed"))},timeout:c$.get()})}if(!((i=(r=Qn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Qn().gapi)===null||s===void 0)&&s.load)o();else{const a=f3("iframefcb");return Qn()[a]=()=>{gapi.load?o():n(Gn(t,"network-request-failed"))},h3(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Jc=null,e})}let Jc=null;function d$(t){return Jc=Jc||u$(t),Jc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h$=new Bl(5e3,15e3),f$="__/auth/iframe",p$="emulator/auth/iframe",m$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},g$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function y$(t){const e=t.config;oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?s0(e,p$):`https://${t.config.authDomain}/${f$}`,r={apiKey:e.apiKey,appName:t.name,v:fs},i=g$.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Il(r).slice(1)}`}async function v$(t){const e=await d$(t),n=Qn().gapi;return oe(n,t,"internal-error"),e.open({where:document.body,url:y$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:m$,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Gn(t,"network-request-failed"),a=Qn().setTimeout(()=>{s(o)},h$.get());function l(){Qn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},w$=500,x$=600,E$="_blank",T$="http://localhost";class N1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function S$(t,e,n,r=w$,i=x$){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},_$),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Pt().toLowerCase();n&&(a=cR(c)?E$:n),lR(c)&&(e=e||T$,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[m,v])=>`${p}${m}=${v},`,"");if(r3(c)&&a!=="_self")return I$(e||"",a),new N1(null);const h=window.open(e||"",a,d);oe(h,t,"popup-blocked");try{h.focus()}catch{}return new N1(h)}function I$(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R$="__/auth/handler",C$="emulator/auth/handler",k$=encodeURIComponent("fac");async function b1(t,e,n,r,i,s){oe(t.config.authDomain,t,"auth-domain-config-required"),oe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:fs,eventId:i};if(e instanceof l0){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",_O(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(s||{}))o[d]=h}if(e instanceof Wl){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${k$}=${encodeURIComponent(l)}`:"";return`${P$(t)}?${Il(a).slice(1)}${c}`}function P$({config:t}){return t.emulator?s0(t,C$):`https://${t.authDomain}/${R$}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf="webStorageSupport";class A${constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ER,this._completeRedirectFn=e$,this._overrideRedirectResult=Y3}async _openPopup(e,n,r,i){var s;xr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await b1(e,n,r,bm(),i);return S$(e,o,c0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await b1(e,n,r,bm(),i);return O3(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(xr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await v$(e),r=new n$(e);return n.register("authEvent",i=>(oe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Bf,{type:Bf},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Bf];o!==void 0&&n(!!o),Jn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=a$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return pR()||a0()||Nh()}}const N$=A$;var O1="@firebase/auth",j1="1.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b${constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function j$(t){ns(new ui("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;oe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mR(t)},c=new u3(r,i,s,l);return m3(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ns(new ui("auth-internal",e=>{const n=bh(e.getProvider("auth").getImmediate());return(r=>new b$(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hn(O1,j1,O$(t)),Hn(O1,j1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L$=5*60,D$=TT("authIdTokenMaxAge")||L$;let L1=null;const M$=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>D$)return;const i=n==null?void 0:n.token;L1!==i&&(L1=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function $$(t=ry()){const e=nh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=p3(t,{popupRedirectResolver:N$,persistence:[B3,A3,ER]}),r=TT("authTokenSyncURL");if(r){const s=M$(r);S3(n,s,()=>s(n.currentUser)),T3(n,o=>s(o))}const i=wT("auth");return i&&g3(n,`http://${i}`),n}j$("Browser");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function AR(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?s(d.value):i(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function NR(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(d){return l([c,d])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(d){c=[6,d],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Fs=function(){return Fs=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Fs.apply(this,arguments)},bR=function(t){return{loading:t==null,value:t}},V$=function(){return function(t,e){switch(e.type){case"error":return Fs(Fs({},t),{error:e.error,loading:!1,value:void 0});case"reset":return bR(e.defaultValue);case"value":return Fs(Fs({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},F$=function(t){var e=t?t():void 0,n=f.useReducer(V$(),bR(e)),r=n[0],i=n[1],s=f.useCallback(function(){var l=t?t():void 0;i({type:"reset",defaultValue:l})},[t]),o=f.useCallback(function(l){i({type:"error",error:l})},[]),a=f.useCallback(function(l){i({type:"value",value:l})},[]);return f.useMemo(function(){return{error:r.error,loading:r.loading,reset:s,setError:o,setValue:a,value:r.value}},[r.error,r.loading,s,o,a,r.value])},Lo=function(t,e){var n=F$(function(){return t.currentUser}),r=n.error,i=n.loading,s=n.setError,o=n.setValue,a=n.value;return f.useEffect(function(){var l=I3(t,function(c){return AR(void 0,void 0,void 0,function(){var d;return NR(this,function(h){switch(h.label){case 0:if(!(e!=null&&e.onUserChanged))return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,e.onUserChanged(c)];case 2:return h.sent(),[3,4];case 3:return d=h.sent(),s(d),[3,4];case 4:return o(c),[2]}})})},s);return function(){l()}},[t]),[a,i,r]},OR=function(t){var e=f.useCallback(function(n,r){var i=new Mn;return n&&n.forEach(function(s){return i.addScope(s)}),r&&i.setCustomParameters(r),i},[]);return U$(t,e)},U$=function(t,e){var n=f.useState(),r=n[0],i=n[1],s=f.useState(),o=s[0],a=s[1],l=f.useState(!1),c=l[0],d=l[1],h=f.useCallback(function(p,m){return AR(void 0,void 0,void 0,function(){var v,w,x;return NR(this,function(y){switch(y.label){case 0:d(!0),i(void 0),y.label=1;case 1:return y.trys.push([1,3,4,5]),v=e(p,m),[4,K3(t,v)];case 2:return w=y.sent(),a(w),[2,w];case 3:return x=y.sent(),i(x),[3,5];case 4:return d(!1),[7];case 5:return[2]}})})},[t,e]);return[h,o,c,r]},B$="firebase",z$="10.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hn(B$,z$,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR="firebasestorage.googleapis.com",LR="storageBucket",W$=2*60*1e3,H$=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We extends Zn{constructor(e,n,r=0){super(zf(e),`Firebase Storage: ${n} (${zf(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,We.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return zf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ze;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ze||(ze={}));function zf(t){return"storage/"+t}function d0(){const t="An unknown error occurred, please check the error payload for server response.";return new We(ze.UNKNOWN,t)}function q$(t){return new We(ze.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function K$(t){return new We(ze.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function G$(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new We(ze.UNAUTHENTICATED,t)}function Q$(){return new We(ze.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function X$(t){return new We(ze.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Y$(){return new We(ze.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function J$(){return new We(ze.CANCELED,"User canceled the upload/download.")}function Z$(t){return new We(ze.INVALID_URL,"Invalid URL '"+t+"'.")}function eV(t){return new We(ze.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function tV(){return new We(ze.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+LR+"' property when initializing the app?")}function nV(){return new We(ze.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function rV(){return new We(ze.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function iV(t){return new We(ze.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function jm(t){return new We(ze.INVALID_ARGUMENT,t)}function DR(){return new We(ze.APP_DELETED,"The Firebase app was deleted.")}function sV(t){return new We(ze.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function xa(t,e){return new We(ze.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ko(t){throw new We(ze.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Xt.makeFromUrl(e,n)}catch{return new Xt(e,"")}if(r.path==="")return r;throw eV(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(E){E.path_=decodeURIComponent(E.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",m=new RegExp(`^https?://${h}/${d}/b/${i}/o${p}`,"i"),v={bucket:1,path:3},w=n===jR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",y=new RegExp(`^https?://${w}/${i}/${x}`,"i"),_=[{regex:a,indices:l,postModify:s},{regex:m,indices:v,postModify:c},{regex:y,indices:{bucket:1,path:2},postModify:c}];for(let E=0;E<_.length;E++){const T=_[E],R=T.regex.exec(e);if(R){const I=R[T.indices.bucket];let S=R[T.indices.path];S||(S=""),r=new Xt(I,S),T.postModify(r);break}}if(r==null)throw Z$(e);return r}}class oV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aV(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function d(...x){c||(c=!0,e.apply(null,x))}function h(x){i=setTimeout(()=>{i=null,t(m,l())},x)}function p(){s&&clearTimeout(s)}function m(x,...y){if(c){p();return}if(x){p(),d.call(null,x,...y);return}if(l()||o){p(),d.call(null,x,...y);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,h(_)}let v=!1;function w(x){v||(v=!0,p(),!c&&(i!==null?(x||(a=2),clearTimeout(i),h(0)):x||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,w(!0)},n),w}function lV(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cV(t){return t!==void 0}function uV(t){return typeof t=="object"&&!Array.isArray(t)}function h0(t){return typeof t=="string"||t instanceof String}function D1(t){return f0()&&t instanceof Blob}function f0(){return typeof Blob<"u"&&!uO()}function M1(t,e,n,r){if(r<e)throw jm(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw jm(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function MR(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qi;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(qi||(qi={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dV(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(e,n,r,i,s,o,a,l,c,d,h,p=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=h,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,v)=>{this.resolve_=m,this.reject_=v,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new kc(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===qi.NO_ERROR,l=s.getStatus();if(!a||dV(l,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===qi.ABORT;r(!1,new kc(!1,null,d));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new kc(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());cV(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=d0();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?DR():J$();o(l)}else{const l=Y$();o(l)}};this.canceled_?n(!1,new kc(!1,null,!0)):this.backoffId_=aV(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&lV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class kc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function fV(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function pV(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function mV(t,e){e&&(t["X-Firebase-GMPID"]=e)}function gV(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function yV(t,e,n,r,i,s,o=!0){const a=MR(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return mV(c,e),fV(c,n),pV(c,s),gV(c,r),new hV(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vV(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function _V(...t){const e=vV();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(f0())return new Blob(t);throw new We(ze.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function wV(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xV(t){if(typeof atob>"u")throw iV("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Un={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Wf{constructor(e,n){this.data=e,this.contentType=n||null}}function EV(t,e){switch(t){case Un.RAW:return new Wf($R(e));case Un.BASE64:case Un.BASE64URL:return new Wf(VR(t,e));case Un.DATA_URL:return new Wf(SV(e),IV(e))}throw d0()}function $R(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function TV(t){let e;try{e=decodeURIComponent(t)}catch{throw xa(Un.DATA_URL,"Malformed data URL.")}return $R(e)}function VR(t,e){switch(t){case Un.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw xa(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Un.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw xa(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=xV(e)}catch(i){throw i.message.includes("polyfill")?i:xa(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class FR{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw xa(Un.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=RV(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function SV(t){const e=new FR(t);return e.base64?VR(Un.BASE64,e.rest):TV(e.rest)}function IV(t){return new FR(t).contentType}function RV(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,n){let r=0,i="";D1(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(D1(this.data_)){const r=this.data_,i=wV(r,e,n);return i===null?null:new Vr(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Vr(r,!0)}}static getBlob(...e){if(f0()){const n=e.map(r=>r instanceof Vr?r.data_:r);return new Vr(_V.apply(null,n))}else{const n=e.map(o=>h0(o)?EV(Un.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Vr(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(t){let e;try{e=JSON.parse(t)}catch{return null}return uV(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CV(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function kV(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function BR(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PV(t,e){return e}class Nt{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||PV}}let Pc=null;function AV(t){return!h0(t)||t.length<2?t:BR(t)}function zR(){if(Pc)return Pc;const t=[];t.push(new Nt("bucket")),t.push(new Nt("generation")),t.push(new Nt("metageneration")),t.push(new Nt("name","fullPath",!0));function e(s,o){return AV(o)}const n=new Nt("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Nt("size");return i.xform=r,t.push(i),t.push(new Nt("timeCreated")),t.push(new Nt("updated")),t.push(new Nt("md5Hash",null,!0)),t.push(new Nt("cacheControl",null,!0)),t.push(new Nt("contentDisposition",null,!0)),t.push(new Nt("contentEncoding",null,!0)),t.push(new Nt("contentLanguage",null,!0)),t.push(new Nt("contentType",null,!0)),t.push(new Nt("metadata","customMetadata",!0)),Pc=t,Pc}function NV(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Xt(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function bV(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return NV(r,t),r}function WR(t,e,n){const r=UR(e);return r===null?null:bV(t,r,n)}function OV(t,e,n,r){const i=UR(e);if(i===null||!h0(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const d=t.bucket,h=t.fullPath,p="/b/"+o(d)+"/o/"+o(h),m=Lh(p,n,r),v=MR({alt:"media",token:c});return m+v})[0]}function jV(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class p0{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(t){if(!t)throw d0()}function LV(t,e){function n(r,i){const s=WR(t,i,e);return HR(s!==null),s}return n}function DV(t,e){function n(r,i){const s=WR(t,i,e);return HR(s!==null),OV(s,i,t.host,t._protocol)}return n}function qR(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Q$():i=G$():n.getStatus()===402?i=K$(t.bucket):n.getStatus()===403?i=X$(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function KR(t){const e=qR(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=q$(t.path)),s.serverResponse=i.serverResponse,s}return n}function MV(t,e,n){const r=e.fullServerUrl(),i=Lh(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new p0(i,s,DV(t,n),o);return a.errorHandler=KR(e),a}function $V(t,e){const n=e.fullServerUrl(),r=Lh(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(l,c){}const a=new p0(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=KR(e),a}function VV(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function FV(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=VV(null,e)),r}function UV(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let _="";for(let E=0;E<2;E++)_=_+Math.random().toString().slice(2);return _}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=FV(e,r,i),d=jV(c,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,p=`\r
--`+l+"--",m=Vr.getBlob(h,r,p);if(m===null)throw nV();const v={name:c.fullPath},w=Lh(s,t.host,t._protocol),x="POST",y=t.maxUploadRetryTime,g=new p0(w,x,LV(t,n),y);return g.urlParams=v,g.headers=o,g.body=m.uploadData(),g.errorHandler=qR(e),g}class BV{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=qi.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=qi.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=qi.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Ko("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ko("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ko("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ko("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ko("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class zV extends BV{initXhr(){this.xhr_.responseType="text"}}function m0(){return new zV}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,n){this._service=e,n instanceof Xt?this._location=n:this._location=Xt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new as(e,n)}get root(){const e=new Xt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return BR(this._location.path)}get storage(){return this._service}get parent(){const e=CV(this._location.path);if(e===null)return null;const n=new Xt(this._location.bucket,e);return new as(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw sV(e)}}function WV(t,e,n){t._throwIfRoot("uploadBytes");const r=UV(t.storage,t._location,zR(),new Vr(e,!0),n);return t.storage.makeRequestWithTokens(r,m0).then(i=>({metadata:i,ref:t}))}function HV(t){t._throwIfRoot("getDownloadURL");const e=MV(t.storage,t._location,zR());return t.storage.makeRequestWithTokens(e,m0).then(n=>{if(n===null)throw rV();return n})}function qV(t){t._throwIfRoot("deleteObject");const e=$V(t.storage,t._location);return t.storage.makeRequestWithTokens(e,m0)}function KV(t,e){const n=kV(t._location.path,e),r=new Xt(t._location.bucket,n);return new as(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GV(t){return/^[A-Za-z]+:\/\//.test(t)}function QV(t,e){return new as(t,e)}function GR(t,e){if(t instanceof g0){const n=t;if(n._bucket==null)throw tV();const r=new as(n,n._bucket);return e!=null?GR(r,e):r}else return e!==void 0?KV(t,e):t}function XV(t,e){if(e&&GV(e)){if(t instanceof g0)return QV(t,e);throw jm("To use ref(service, url), the first argument must be a Storage instance.")}else return GR(t,e)}function $1(t,e){const n=e==null?void 0:e[LR];return n==null?null:Xt.makeFromBucketSpec(n,t)}function YV(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:ST(i,t.app.options.projectId))}class g0{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=jR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=W$,this._maxUploadRetryTime=H$,this._requests=new Set,i!=null?this._bucket=Xt.makeFromBucketSpec(i,this._host):this._bucket=$1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Xt.makeFromBucketSpec(this._url,e):this._bucket=$1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){M1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){M1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new as(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new oV(DR());{const o=yV(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const V1="@firebase/storage",F1="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR="storage";function JV(t,e,n){return t=nt(t),WV(t,e,n)}function ZV(t){return t=nt(t),HV(t)}function XR(t){return t=nt(t),qV(t)}function y0(t,e){return t=nt(t),XV(t,e)}function e9(t=ry(),e){t=nt(t);const r=nh(t,QR).getImmediate({identifier:e}),i=xT("storage");return i&&t9(r,...i),r}function t9(t,e,n,r={}){YV(t,e,n,r)}function n9(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new g0(n,r,i,e,fs)}function r9(){ns(new ui(QR,n9,"PUBLIC").setMultipleInstances(!0)),Hn(V1,F1,""),Hn(V1,F1,"esm2017")}r9();const i9={apiKey:"AIzaSyBPNpckpYiu009eSzHz_1YMlwHLtScgVjE",authDomain:"zingmp3-clone-61799.firebaseapp.com",projectId:"zingmp3-clone-61799",storageBucket:"zingmp3-clone-61799.appspot.com",messagingSenderId:"938280289868",appId:"1:938280289868:web:1b426fc2dba5d03dde96e9"},v0=CT(i9),Le=mM(v0),Er=$$(v0);new Mn;const _0=e9(v0),s9={toasts:[]},o9={state:s9,setToasts:()=>{}},YR=f.createContext(o9),a9=({children:t})=>{const[e,n]=f.useState([]);return u.jsx(YR.Provider,{value:{state:{toasts:e},setToasts:n},children:t})},Ii=()=>{const{state:{toasts:t},setToasts:e}=f.useContext(YR);return{toasts:t,setToasts:e}};let Oe=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");function w0(){const{setToasts:t}=Ii(),[e,n]=Lo(Er),{initial:r,adminSongs:i,initSongsContext:s,userSongs:o}=_n(),[a,l]=f.useState(""),[c,d]=f.useState(!(i.length||o.length)),h=Lr(Le,"songs"),p=Lr(Le,"playlist"),m=_=>{d(!1),l(_),t(E=>[...E,{title:"error",desc:_,id:Oe(4)}])},v=async()=>{if(!e)return;const _=Lr(Le,"users"),E=at(_,e==null?void 0:e.email);try{const T=await cl(E);if(T.exists())return T.data()}catch(T){console.log(T),m("Get userData error")}},w=async()=>{var _;try{const E=Ms(p,$s("by","==",e==null?void 0:e.email)),T=await Vs(E);if(T.docs.length)return(_=T.docs)==null?void 0:_.map(R=>R.data())}catch(E){console.log("getUserPlaylists",E)}},x=async()=>{try{const _=Ms(Lr(Le,"songs"),$s("by","==","admin")),E=Ms(Lr(Le,"playlists"),$s("by","==","admin")),T=await Vs(_),R=await Vs(E),I={adminSongs:[],adminPlaylists:[]};if(T.docs||R.docs){const S=T.docs.map(k=>k.data()),A=R.docs.map(k=>k.data());return I.adminPlaylists=A||[],I.adminSongs=S||[],I}}catch(_){console.log({message:_}),m("GetAdminSongsAndPlaylists error")}},y=async()=>{try{const _=await v(),E={userSongs:[],userPlaylists:[]};if(!_)return;if(_!=null&&_.song_ids.length){const T=Ms(h,$s("by","==",e==null?void 0:e.email)),R=await Vs(T);R.docs.length&&(E.userSongs=R.docs.map(I=>I.data()))}if(_!=null&&_.playlist_ids.length){const T=await w();T!=null&&T.length&&(E.userPlaylists=T)}return{data:E,userData:_}}catch(_){console.log({message:_}),m("GetUserSongsAndPlaylists error")}},g=async()=>{console.log("run initial"),d(!0);const _=await x(),E=await y();if(_&&E){const{data:T,userData:R}=E;console.log("check user songs",T.userSongs),s({...T,..._,userData:R})}d(!1)};return f.useEffect(()=>{n||i.length||o.length||(r?d(!1):g())},[n]),{initial:r,loading:c,errorMsg:a}}function JR(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=JR(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function l9(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=JR(t))&&(r&&(r+=" "),r+=e);return r}const U1=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,B1=l9,c9=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return B1(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const d=n==null?void 0:n[c],h=s==null?void 0:s[c];if(d===null)return null;const p=U1(d)||U1(h);return i[c][p]}),a=n&&Object.entries(n).reduce((c,d)=>{let[h,p]=d;return p===void 0||(c[h]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:h,className:p,...m}=d;return Object.entries(m).every(v=>{let[w,x]=v;return Array.isArray(x)?x.includes({...s,...a}[w]):{...s,...a}[w]===x})?[...c,h,p]:c},[]);return B1(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},u9=c9("inline-flex items-center hover:brightness-90",{variants:{variant:{default:"",circle:"rounded-[99px] p-[4px] bg-gray-500 bg-opacity-20 text-xl",list:"flex items-center py-[4px] w-full text-[14px]",primary:"px-[20px] py-[5px] text-[14px]"},size:{half:"w-1/2",full:"w-full",small:"h-[20px] w-[20px]",normal:"h-[35px] w-[35px]",large:"h-[40px] w-[40px]"}},defaultVariants:{variant:"default"}}),V=({className:t,children:e,variant:n,size:r,isLoading:i,onClick:s,...o})=>u.jsxs("button",{onClick:a=>s?s(a):"",...o,className:u9({variant:n,size:r,className:t}),disabled:i,children:[i?u.jsx(QE,{className:"h-5 w-5 animate-spin"}):null,!i&&e]}),d9=t=>new Date(t.toDate().getTime()).toLocaleString(),ZR=(t,e)=>(r=>(r=r.replace(/||||||||||/g,"a"),r=r.replace(/||||||||||/g,"e"),r=r.replace(/||||/g,"i"),r=r.replace(/||||||||||/g,"o"),r=r.replace(/||||||||||/g,"u"),r=r.replace(/||||/g,"y"),r=r.replace(//g,"d"),r))(t).toLocaleLowerCase().replaceAll(/[\W_]/g,"")+"_"+e.replace("@gmail.com",""),Ea=t=>{if(!t)return"";let e=0,n=+t.toFixed(0);for(;n>=60;)n-=60,e++;return e<10?n>=10?`0${e}:${n}`:`0${e}:0${n}`:n>=10?`${e}:${n}`:`${e}:0${n}`},h9=["top","right","bottom","left"],z1=["start","end"],W1=h9.reduce((t,e)=>t.concat(e,e+"-"+z1[0],e+"-"+z1[1]),[]),id=Math.min,Ki=Math.max,sd=Math.round,Ac=Math.floor,gi=t=>({x:t,y:t}),f9={left:"right",right:"left",bottom:"top",top:"bottom"},p9={start:"end",end:"start"};function H1(t,e,n){return Ki(t,id(e,n))}function ql(t,e){return typeof t=="function"?t(e):t}function Tr(t){return t.split("-")[0]}function dr(t){return t.split("-")[1]}function e2(t){return t==="x"?"y":"x"}function t2(t){return t==="y"?"height":"width"}function Dh(t){return["top","bottom"].includes(Tr(t))?"y":"x"}function n2(t){return e2(Dh(t))}function r2(t,e,n){n===void 0&&(n=!1);const r=dr(t),i=n2(t),s=t2(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=ad(o)),[o,ad(o)]}function m9(t){const e=ad(t);return[od(t),e,od(e)]}function od(t){return t.replace(/start|end/g,e=>p9[e])}function g9(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function y9(t,e,n,r){const i=dr(t);let s=g9(Tr(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(od)))),s}function ad(t){return t.replace(/left|right|bottom|top/g,e=>f9[e])}function v9(t){return{top:0,right:0,bottom:0,left:0,...t}}function _9(t){return typeof t!="number"?v9(t):{top:t,right:t,bottom:t,left:t}}function ld(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function q1(t,e,n){let{reference:r,floating:i}=t;const s=Dh(e),o=n2(e),a=t2(o),l=Tr(e),c=s==="y",d=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,p=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-i.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-i.width,y:h};break;default:m={x:r.x,y:r.y}}switch(dr(e)){case"start":m[o]-=p*(n&&c?-1:1);break;case"end":m[o]+=p*(n&&c?-1:1);break}return m}const w9=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:h}=q1(c,r,l),p=r,m={},v=0;for(let w=0;w<a.length;w++){const{name:x,fn:y}=a[w],{x:g,y:_,data:E,reset:T}=await y({x:d,y:h,initialPlacement:r,placement:p,strategy:i,middlewareData:m,rects:c,platform:o,elements:{reference:t,floating:e}});if(d=g??d,h=_??h,m={...m,[x]:{...m[x],...E}},T&&v<=50){v++,typeof T=="object"&&(T.placement&&(p=T.placement),T.rects&&(c=T.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):T.rects),{x:d,y:h}=q1(c,p,l)),w=-1;continue}}return{x:d,y:h,placement:p,strategy:i,middlewareData:m}};async function x0(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:m=0}=ql(e,t),v=_9(m),x=a[p?h==="floating"?"reference":"floating":h],y=ld(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(x)))==null||n?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),g=h==="floating"?{...o.floating,x:r,y:i}:o.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),E=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},T=ld(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({rect:g,offsetParent:_,strategy:l}):g);return{top:(y.top-T.top+v.top)/E.y,bottom:(T.bottom-y.bottom+v.bottom)/E.y,left:(y.left-T.left+v.left)/E.x,right:(T.right-y.right+v.right)/E.x}}function x9(t,e,n){return(t?[...n.filter(i=>dr(i)===t),...n.filter(i=>dr(i)!==t)]:n.filter(i=>Tr(i)===i)).filter(i=>t?dr(i)===t||(e?od(i)!==i:!1):!0)}const i2=function(t){return t===void 0&&(t={}),{name:"autoPlacement",options:t,async fn(e){var n,r,i;const{rects:s,middlewareData:o,placement:a,platform:l,elements:c}=e,{crossAxis:d=!1,alignment:h,allowedPlacements:p=W1,autoAlignment:m=!0,...v}=ql(t,e),w=h!==void 0||p===W1?x9(h||null,m,p):p,x=await x0(e,v),y=((n=o.autoPlacement)==null?void 0:n.index)||0,g=w[y];if(g==null)return{};const _=r2(g,s,await(l.isRTL==null?void 0:l.isRTL(c.floating)));if(a!==g)return{reset:{placement:w[0]}};const E=[x[Tr(g)],x[_[0]],x[_[1]]],T=[...((r=o.autoPlacement)==null?void 0:r.overflows)||[],{placement:g,overflows:E}],R=w[y+1];if(R)return{data:{index:y+1,overflows:T},reset:{placement:R}};const I=T.map(k=>{const N=dr(k.placement);return[k.placement,N&&d?k.overflows.slice(0,2).reduce((H,L)=>H+L,0):k.overflows[0],k.overflows]}).sort((k,N)=>k[1]-N[1]),A=((i=I.filter(k=>k[2].slice(0,dr(k[0])?2:3).every(N=>N<=0))[0])==null?void 0:i[0])||I[0][0];return A!==a?{data:{index:y+1,overflows:T},reset:{placement:A}}:{}}}},s2=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n;const{placement:r,middlewareData:i,rects:s,initialPlacement:o,platform:a,elements:l}=e,{mainAxis:c=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:v=!0,...w}=ql(t,e),x=Tr(r),y=Tr(o)===o,g=await(a.isRTL==null?void 0:a.isRTL(l.floating)),_=h||(y||!v?[ad(o)]:m9(o));!h&&m!=="none"&&_.push(...y9(o,v,m,g));const E=[o,..._],T=await x0(e,w),R=[];let I=((n=i.flip)==null?void 0:n.overflows)||[];if(c&&R.push(T[x]),d){const N=r2(r,s,g);R.push(T[N[0]],T[N[1]])}if(I=[...I,{placement:r,overflows:R}],!R.every(N=>N<=0)){var S,A;const N=(((S=i.flip)==null?void 0:S.index)||0)+1,H=E[N];if(H)return{data:{index:N,overflows:I},reset:{placement:H}};let L=(A=I.filter(q=>q.overflows[0]<=0).sort((q,Z)=>q.overflows[1]-Z.overflows[1])[0])==null?void 0:A.placement;if(!L)switch(p){case"bestFit":{var k;const q=(k=I.map(Z=>[Z.placement,Z.overflows.filter(K=>K>0).reduce((K,W)=>K+W,0)]).sort((Z,K)=>Z[1]-K[1])[0])==null?void 0:k[0];q&&(L=q);break}case"initialPlacement":L=o;break}if(r!==L)return{reset:{placement:L}}}return{}}}};async function E9(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Tr(n),a=dr(n),l=Dh(n)==="y",c=["left","top"].includes(o)?-1:1,d=s&&l?-1:1,h=ql(e,t);let{mainAxis:p,crossAxis:m,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...h};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),l?{x:m*d,y:p*c}:{x:p*c,y:m*d}}const E0=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){const{x:n,y:r}=e,i=await E9(e,t);return{x:n+i.x,y:r+i.y,data:i}}}},o2=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:y,y:g}=x;return{x:y,y:g}}},...l}=ql(t,e),c={x:n,y:r},d=await x0(e,l),h=Dh(Tr(i)),p=e2(h);let m=c[p],v=c[h];if(s){const x=p==="y"?"top":"left",y=p==="y"?"bottom":"right",g=m+d[x],_=m-d[y];m=H1(g,m,_)}if(o){const x=h==="y"?"top":"left",y=h==="y"?"bottom":"right",g=v+d[x],_=v-d[y];v=H1(g,v,_)}const w=a.fn({...e,[p]:m,[h]:v});return{...w,data:{x:w.x-n,y:w.y-r}}}}};function yi(t){return a2(t)?(t.nodeName||"").toLowerCase():"#document"}function Jt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ir(t){var e;return(e=(a2(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function a2(t){return t instanceof Node||t instanceof Jt(t).Node}function et(t){return t instanceof Element||t instanceof Jt(t).Element}function Dt(t){return t instanceof HTMLElement||t instanceof Jt(t).HTMLElement}function Lm(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Jt(t).ShadowRoot}function Kl(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=nn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function T9(t){return["table","td","th"].includes(yi(t))}function T0(t){const e=S0(),n=nn(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function S9(t){let e=ls(t);for(;Dt(e)&&!Gl(e);){if(T0(e))return e;e=ls(e)}return null}function S0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Gl(t){return["html","body","#document"].includes(yi(t))}function nn(t){return Jt(t).getComputedStyle(t)}function Mh(t){return et(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function ls(t){if(yi(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Lm(t)&&t.host||Ir(t);return Lm(e)?e.host:e}function l2(t){const e=ls(t);return Gl(e)?t.ownerDocument?t.ownerDocument.body:t.body:Dt(e)&&Kl(e)?e:l2(e)}function Gi(t,e){var n;e===void 0&&(e=[]);const r=l2(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=Jt(r);return i?e.concat(s,s.visualViewport||[],Kl(r)?r:[]):e.concat(r,Gi(r))}function c2(t){const e=nn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Dt(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=sd(n)!==s||sd(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function I0(t){return et(t)?t:t.contextElement}function eo(t){const e=I0(t);if(!Dt(e))return gi(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=c2(e);let o=(s?sd(n.width):n.width)/r,a=(s?sd(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const I9=gi(0);function u2(t){const e=Jt(t);return!S0()||!e.visualViewport?I9:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function R9(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Jt(t)?!1:e}function cs(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=I0(t);let o=gi(1);e&&(r?et(r)&&(o=eo(r)):o=eo(t));const a=R9(s,n,r)?u2(s):gi(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,d=i.width/o.x,h=i.height/o.y;if(s){const p=Jt(s),m=r&&et(r)?Jt(r):r;let v=p.frameElement;for(;v&&r&&m!==p;){const w=eo(v),x=v.getBoundingClientRect(),y=nn(v),g=x.left+(v.clientLeft+parseFloat(y.paddingLeft))*w.x,_=x.top+(v.clientTop+parseFloat(y.paddingTop))*w.y;l*=w.x,c*=w.y,d*=w.x,h*=w.y,l+=g,c+=_,v=Jt(v).frameElement}}return ld({width:d,height:h,x:l,y:c})}function C9(t){let{rect:e,offsetParent:n,strategy:r}=t;const i=Dt(n),s=Ir(n);if(n===s)return e;let o={scrollLeft:0,scrollTop:0},a=gi(1);const l=gi(0);if((i||!i&&r!=="fixed")&&((yi(n)!=="body"||Kl(s))&&(o=Mh(n)),Dt(n))){const c=cs(n);a=eo(n),l.x=c.x+n.clientLeft,l.y=c.y+n.clientTop}return{width:e.width*a.x,height:e.height*a.y,x:e.x*a.x-o.scrollLeft*a.x+l.x,y:e.y*a.y-o.scrollTop*a.y+l.y}}function k9(t){return Array.from(t.getClientRects())}function d2(t){return cs(Ir(t)).left+Mh(t).scrollLeft}function P9(t){const e=Ir(t),n=Mh(t),r=t.ownerDocument.body,i=Ki(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Ki(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+d2(t);const a=-n.scrollTop;return nn(r).direction==="rtl"&&(o+=Ki(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function A9(t,e){const n=Jt(t),r=Ir(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=S0();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function N9(t,e){const n=cs(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Dt(t)?eo(t):gi(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function K1(t,e,n){let r;if(e==="viewport")r=A9(t,n);else if(e==="document")r=P9(Ir(t));else if(et(e))r=N9(e,n);else{const i=u2(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return ld(r)}function h2(t,e){const n=ls(t);return n===e||!et(n)||Gl(n)?!1:nn(n).position==="fixed"||h2(n,e)}function b9(t,e){const n=e.get(t);if(n)return n;let r=Gi(t).filter(a=>et(a)&&yi(a)!=="body"),i=null;const s=nn(t).position==="fixed";let o=s?ls(t):t;for(;et(o)&&!Gl(o);){const a=nn(o),l=T0(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Kl(o)&&!l&&h2(t,o))?r=r.filter(d=>d!==o):i=a,o=ls(o)}return e.set(t,r),r}function O9(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?b9(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const h=K1(e,d,i);return c.top=Ki(h.top,c.top),c.right=id(h.right,c.right),c.bottom=id(h.bottom,c.bottom),c.left=Ki(h.left,c.left),c},K1(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function j9(t){return c2(t)}function L9(t,e,n){const r=Dt(e),i=Ir(e),s=n==="fixed",o=cs(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=gi(0);if(r||!r&&!s)if((yi(e)!=="body"||Kl(i))&&(a=Mh(e)),r){const c=cs(e,!0,s,e);l.x=c.x+e.clientLeft,l.y=c.y+e.clientTop}else i&&(l.x=d2(i));return{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function G1(t,e){return!Dt(t)||nn(t).position==="fixed"?null:e?e(t):t.offsetParent}function f2(t,e){const n=Jt(t);if(!Dt(t))return n;let r=G1(t,e);for(;r&&T9(r)&&nn(r).position==="static";)r=G1(r,e);return r&&(yi(r)==="html"||yi(r)==="body"&&nn(r).position==="static"&&!T0(r))?n:r||S9(t)||n}const D9=async function(t){let{reference:e,floating:n,strategy:r}=t;const i=this.getOffsetParent||f2,s=this.getDimensions;return{reference:L9(e,await i(n),r),floating:{x:0,y:0,...await s(n)}}};function M9(t){return nn(t).direction==="rtl"}const $9={convertOffsetParentRelativeRectToViewportRelativeRect:C9,getDocumentElement:Ir,getClippingRect:O9,getOffsetParent:f2,getElementRects:D9,getClientRects:k9,getDimensions:j9,getScale:eo,isElement:et,isRTL:M9};function V9(t,e){let n=null,r;const i=Ir(t);function s(){clearTimeout(r),n&&n.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:d,width:h,height:p}=t.getBoundingClientRect();if(a||e(),!h||!p)return;const m=Ac(d),v=Ac(i.clientWidth-(c+h)),w=Ac(i.clientHeight-(d+p)),x=Ac(c),g={rootMargin:-m+"px "+-v+"px "+-w+"px "+-x+"px",threshold:Ki(0,id(1,l))||1};let _=!0;function E(T){const R=T[0].intersectionRatio;if(R!==l){if(!_)return o();R?o(!1,R):r=setTimeout(()=>{o(!1,1e-7)},100)}_=!1}try{n=new IntersectionObserver(E,{...g,root:i.ownerDocument})}catch{n=new IntersectionObserver(E,g)}n.observe(t)}return o(!0),s}function Ql(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=I0(t),d=i||s?[...c?Gi(c):[],...Gi(e)]:[];d.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),s&&y.addEventListener("resize",n)});const h=c&&a?V9(c,n):null;let p=-1,m=null;o&&(m=new ResizeObserver(y=>{let[g]=y;g&&g.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{m&&m.observe(e)})),n()}),c&&!l&&m.observe(c),m.observe(e));let v,w=l?cs(t):null;l&&x();function x(){const y=cs(t);w&&(y.x!==w.x||y.y!==w.y||y.width!==w.width||y.height!==w.height)&&n(),w=y,v=requestAnimationFrame(x)}return n(),()=>{d.forEach(y=>{i&&y.removeEventListener("scroll",n),s&&y.removeEventListener("resize",n)}),h&&h(),m&&m.disconnect(),m=null,l&&cancelAnimationFrame(v)}}const F9=(t,e,n)=>{const r=new Map,i={platform:$9,...n},s={...i.platform,_c:r};return w9(t,e,{...i,platform:s})};var Zc=typeof document<"u"?f.useLayoutEffect:f.useEffect;function cd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!cd(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!cd(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function p2(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Q1(t,e){const n=p2(t);return Math.round(e*n)/n}function X1(t){const e=f.useRef(t);return Zc(()=>{e.current=t}),e}function U9(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,h]=f.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=f.useState(r);cd(p,r)||m(r);const[v,w]=f.useState(null),[x,y]=f.useState(null),g=f.useCallback(K=>{K!=R.current&&(R.current=K,w(K))},[w]),_=f.useCallback(K=>{K!==I.current&&(I.current=K,y(K))},[y]),E=s||v,T=o||x,R=f.useRef(null),I=f.useRef(null),S=f.useRef(d),A=X1(l),k=X1(i),N=f.useCallback(()=>{if(!R.current||!I.current)return;const K={placement:e,strategy:n,middleware:p};k.current&&(K.platform=k.current),F9(R.current,I.current,K).then(W=>{const C={...W,isPositioned:!0};H.current&&!cd(S.current,C)&&(S.current=C,xl.flushSync(()=>{h(C)}))})},[p,e,n,k]);Zc(()=>{c===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,h(K=>({...K,isPositioned:!1})))},[c]);const H=f.useRef(!1);Zc(()=>(H.current=!0,()=>{H.current=!1}),[]),Zc(()=>{if(E&&(R.current=E),T&&(I.current=T),E&&T){if(A.current)return A.current(E,T,N);N()}},[E,T,N,A]);const L=f.useMemo(()=>({reference:R,floating:I,setReference:g,setFloating:_}),[g,_]),q=f.useMemo(()=>({reference:E,floating:T}),[E,T]),Z=f.useMemo(()=>{const K={position:n,left:0,top:0};if(!q.floating)return K;const W=Q1(q.floating,d.x),C=Q1(q.floating,d.y);return a?{...K,transform:"translate("+W+"px, "+C+"px)",...p2(q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:W,top:C}},[n,a,q.floating,d.x,d.y]);return f.useMemo(()=>({...d,update:N,refs:L,elements:q,floatingStyles:Z}),[d,N,L,q,Z])}function Ts(t){let e=t.activeElement;for(;((n=e)==null||(r=n.shadowRoot)==null?void 0:r.activeElement)!=null;){var n,r;e=e.shadowRoot.activeElement}return e}function Kt(t,e){if(!t||!e)return!1;const n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Lm(n)){let r=e;for(;r;){if(t===r)return!0;r=r.parentNode||r.host}}return!1}function B9(){const t=navigator.userAgentData;return t!=null&&t.platform?t.platform:navigator.platform}function z9(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:r}=e;return n+"/"+r}).join(" "):navigator.userAgent}function W9(t){if(t.mozInputSource===0&&t.isTrusted)return!0;const e=/Android/i;return(e.test(B9())||e.test(z9()))&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function H9(t){return t.width===0&&t.height===0||t.width===1&&t.height===1&&t.pressure===0&&t.detail===0&&t.pointerType!=="mouse"||t.width<1&&t.height<1&&t.pressure===0&&t.detail===0}function q9(){return/apple/i.test(navigator.vendor)}function Y1(t,e){const n=["mouse","pen"];return e||n.push("",void 0),n.includes(t)}function K9(t){return"nativeEvent"in t}function G9(t){return t.matches("html,body")}function $n(t){return(t==null?void 0:t.ownerDocument)||document}function Hf(t,e){if(e==null)return!1;if("composedPath"in t)return t.composedPath().includes(e);const n=t;return n.target!=null&&e.contains(n.target)}function m2(t){return"composedPath"in t?t.composedPath()[0]:t.target}const Q9="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function g2(t){return Dt(t)&&t.matches(Q9)}function qf(t){t.preventDefault(),t.stopPropagation()}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var X9=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Dm=X9.join(","),y2=typeof Element>"u",fl=y2?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,ud=!y2&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},dd=function t(e,n){var r;n===void 0&&(n=!0);var i=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),s=i===""||i==="true",o=s||n&&e&&t(e.parentNode);return o},Y9=function(e){var n,r=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return r===""||r==="true"},J9=function(e,n,r){if(dd(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(Dm));return n&&fl.call(e,Dm)&&i.unshift(e),i=i.filter(r),i},Z9=function t(e,n,r){for(var i=[],s=Array.from(e);s.length;){var o=s.shift();if(!dd(o,!1))if(o.tagName==="SLOT"){var a=o.assignedElements(),l=a.length?a:o.children,c=t(l,!0,r);r.flatten?i.push.apply(i,c):i.push({scopeParent:o,candidates:c})}else{var d=fl.call(o,Dm);d&&r.filter(o)&&(n||!e.includes(o))&&i.push(o);var h=o.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(o),p=!dd(h,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(o));if(h&&p){var m=t(h===!0?o.children:h.children,!0,r);r.flatten?i.push.apply(i,m):i.push({scopeParent:o,candidates:m})}else s.unshift.apply(s,o.children)}}return i},v2=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},_2=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Y9(e))&&!v2(e)?0:e.tabIndex},eF=function(e,n){var r=_2(e);return r<0&&n&&!v2(e)?0:r},tF=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},w2=function(e){return e.tagName==="INPUT"},nF=function(e){return w2(e)&&e.type==="hidden"},rF=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return n},iF=function(e,n){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===n)return e[r]},sF=function(e){if(!e.name)return!0;var n=e.form||ud(e),r=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(e.name));else try{i=r(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var s=iF(i,e.form);return!s||s===e},oF=function(e){return w2(e)&&e.type==="radio"},aF=function(e){return oF(e)&&!sF(e)},lF=function(e){var n,r=e&&ud(e),i=(n=r)===null||n===void 0?void 0:n.host,s=!1;if(r&&r!==e){var o,a,l;for(s=!!((o=i)!==null&&o!==void 0&&(a=o.ownerDocument)!==null&&a!==void 0&&a.contains(i)||e!=null&&(l=e.ownerDocument)!==null&&l!==void 0&&l.contains(e));!s&&i;){var c,d,h;r=ud(i),i=(c=r)===null||c===void 0?void 0:c.host,s=!!((d=i)!==null&&d!==void 0&&(h=d.ownerDocument)!==null&&h!==void 0&&h.contains(i))}}return s},J1=function(e){var n=e.getBoundingClientRect(),r=n.width,i=n.height;return r===0&&i===0},cF=function(e,n){var r=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var s=fl.call(e,"details>summary:first-of-type"),o=s?e.parentElement:e;if(fl.call(o,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof i=="function"){for(var a=e;e;){var l=e.parentElement,c=ud(e);if(l&&!l.shadowRoot&&i(l)===!0)return J1(e);e.assignedSlot?e=e.assignedSlot:!l&&c!==e.ownerDocument?e=c.host:e=l}e=a}if(lF(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return J1(e);return!1},uF=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var i=n.children.item(r);if(i.tagName==="LEGEND")return fl.call(n,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}n=n.parentElement}return!1},dF=function(e,n){return!(n.disabled||dd(n)||nF(n)||cF(n,e)||rF(n)||uF(n))},Z1=function(e,n){return!(aF(n)||_2(n)<0||!dF(e,n))},hF=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},fF=function t(e){var n=[],r=[];return e.forEach(function(i,s){var o=!!i.scopeParent,a=o?i.scopeParent:i,l=eF(a,o),c=o?t(i.candidates):a;l===0?o?n.push.apply(n,c):n.push(a):r.push({documentOrder:s,tabIndex:l,item:i,isScope:o,content:c})}),r.sort(tF).reduce(function(i,s){return s.isScope?i.push.apply(i,s.content):i.push(s.content),i},[]).concat(n)},x2=function(e,n){n=n||{};var r;return n.getShadowRoot?r=Z9([e],n.includeContainer,{filter:Z1.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:hF}):r=J9(e,n.includeContainer,Z1.bind(null,n)),fF(r)};function hd(){return hd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hd.apply(this,arguments)}var Wr=typeof document<"u"?f.useLayoutEffect:f.useEffect;let Kf=!1,pF=0;const ew=()=>"floating-ui-"+pF++;function mF(){const[t,e]=f.useState(()=>Kf?ew():void 0);return Wr(()=>{t==null&&e(ew())},[]),f.useEffect(()=>{Kf||(Kf=!0)},[]),t}const gF=qm["useId".toString()],E2=gF||mF;function yF(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(i=>i!==n))||[])}}}const vF=f.createContext(null),_F=f.createContext(null),wF=()=>{var t;return((t=f.useContext(vF))==null?void 0:t.id)||null},R0=()=>f.useContext(_F);function fd(t){return"data-floating-ui-"+t}function Gf(t){const e=f.useRef(t);return Wr(()=>{e.current=t}),e}let tw=0;function ki(t,e){e===void 0&&(e={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:i=!1}=e;r&&cancelAnimationFrame(tw);const s=()=>t==null?void 0:t.focus({preventScroll:n});i?s():tw=requestAnimationFrame(s)}function xF(t,e){var n;let r=[],i=(n=t.find(s=>s.id===e))==null?void 0:n.parentId;for(;i;){const s=t.find(o=>o.id===i);i=s==null?void 0:s.parentId,s&&(r=r.concat(s))}return r}function Ta(t,e){let n=t.filter(i=>{var s;return i.parentId===e&&((s=i.context)==null?void 0:s.open)}),r=n;for(;r.length;)r=t.filter(i=>{var s;return(s=r)==null?void 0:s.some(o=>{var a;return i.parentId===o.id&&((a=i.context)==null?void 0:a.open)})}),n=n.concat(r);return n}let ws=new WeakMap,Nc=new WeakSet,bc={},Qf=0;const EF=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,T2=t=>t&&(t.host||T2(t.parentNode)),TF=(t,e)=>e.map(n=>{if(t.contains(n))return n;const r=T2(n);return t.contains(r)?r:null}).filter(n=>n!=null);function SF(t,e,n,r){const i="data-floating-ui-inert",s=r?"inert":n?"aria-hidden":null,o=TF(e,t),a=new Set,l=new Set(o),c=[];bc[i]||(bc[i]=new WeakMap);const d=bc[i];o.forEach(h),p(e),a.clear();function h(m){!m||a.has(m)||(a.add(m),m.parentNode&&h(m.parentNode))}function p(m){!m||l.has(m)||Array.prototype.forEach.call(m.children,v=>{if(a.has(v))p(v);else{const w=s?v.getAttribute(s):null,x=w!==null&&w!=="false",y=(ws.get(v)||0)+1,g=(d.get(v)||0)+1;ws.set(v,y),d.set(v,g),c.push(v),y===1&&x&&Nc.add(v),g===1&&v.setAttribute(i,""),!x&&s&&v.setAttribute(s,"true")}})}return Qf++,()=>{c.forEach(m=>{const v=(ws.get(m)||0)-1,w=(d.get(m)||0)-1;ws.set(m,v),d.set(m,w),v||(!Nc.has(m)&&s&&m.removeAttribute(s),Nc.delete(m)),w||m.removeAttribute(i)}),Qf--,Qf||(ws=new WeakMap,ws=new WeakMap,Nc=new WeakSet,bc={})}}function nw(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=$n(t[0]).body;return SF(t.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,e,n)}const S2=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function I2(t,e){const n=x2(t,S2());e==="prev"&&n.reverse();const r=n.indexOf(Ts($n(t)));return n.slice(r+1)[0]}function IF(){return I2(document.body,"next")}function RF(){return I2(document.body,"prev")}function rw(t,e){const n=e||t.currentTarget,r=t.relatedTarget;return!r||!Kt(n,r)}const R2={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let CF;function iw(t){t.key==="Tab"&&(t.target,clearTimeout(CF))}const sw=f.forwardRef(function(e,n){const[r,i]=f.useState();Wr(()=>(q9()&&i("button"),document.addEventListener("keydown",iw),()=>{document.removeEventListener("keydown",iw)}),[]);const s={ref:n,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[fd("focus-guard")]:"",style:R2};return f.createElement("span",hd({},e,s))}),kF=f.createContext(null),PF=()=>f.useContext(kF),AF=f.forwardRef(function(e,n){return f.createElement("button",hd({},e,{type:"button",ref:n,tabIndex:-1,style:R2}))});function Xl(t){const{context:e,children:n,disabled:r=!1,order:i=["content"],guards:s=!0,initialFocus:o=0,returnFocus:a=!0,modal:l=!0,visuallyHiddenDismiss:c=!1,closeOnFocusOut:d=!0}=t,{open:h,refs:p,nodeId:m,onOpenChange:v,events:w,dataRef:x,elements:{domReference:y,floating:g}}=e,_=EF()?s:!0,E=Gf(i),T=Gf(o),R=Gf(a),I=R0(),S=PF(),A=typeof o=="number"&&o<0,k=f.useRef(null),N=f.useRef(null),H=f.useRef(!1),L=f.useRef(null),q=f.useRef(!1),Z=S!=null,K=y&&y.getAttribute("role")==="combobox"&&g2(y),W=f.useCallback(function(D){return D===void 0&&(D=g),D?x2(D,S2()):[]},[g]),C=f.useCallback(D=>{const G=W(D);return E.current.map(J=>y&&J==="reference"?y:g&&J==="floating"?g:G).filter(Boolean).flat()},[y,g,E,W]);f.useEffect(()=>{if(r||!l)return;function D(J){if(J.key==="Tab"){Kt(g,Ts($n(g)))&&W().length===0&&!K&&qf(J);const ee=C(),_e=m2(J);E.current[0]==="reference"&&_e===y&&(qf(J),J.shiftKey?ki(ee[ee.length-1]):ki(ee[1])),E.current[1]==="floating"&&_e===g&&J.shiftKey&&(qf(J),ki(ee[0]))}}const G=$n(g);return G.addEventListener("keydown",D),()=>{G.removeEventListener("keydown",D)}},[r,y,g,l,E,p,K,W,C]),f.useEffect(()=>{if(r||!d)return;function D(){q.current=!0,setTimeout(()=>{q.current=!1})}function G(J){const ee=J.relatedTarget;queueMicrotask(()=>{const _e=!(Kt(y,ee)||Kt(g,ee)||Kt(ee,g)||Kt(S==null?void 0:S.portalNode,ee)||ee!=null&&ee.hasAttribute(fd("focus-guard"))||I&&(Ta(I.nodesRef.current,m).find(ce=>{var z,Q;return Kt((z=ce.context)==null?void 0:z.elements.floating,ee)||Kt((Q=ce.context)==null?void 0:Q.elements.domReference,ee)})||xF(I.nodesRef.current,m).find(ce=>{var z,Q;return((z=ce.context)==null?void 0:z.elements.floating)===ee||((Q=ce.context)==null?void 0:Q.elements.domReference)===ee})));ee&&_e&&!q.current&&ee!==L.current&&(H.current=!0,v(!1,J))})}if(g&&Dt(y))return y.addEventListener("focusout",G),y.addEventListener("pointerdown",D),!l&&g.addEventListener("focusout",G),()=>{y.removeEventListener("focusout",G),y.removeEventListener("pointerdown",D),!l&&g.removeEventListener("focusout",G)}},[r,y,g,l,m,I,S,v,d]),f.useEffect(()=>{var D;if(r)return;const G=Array.from((S==null||(D=S.portalNode)==null?void 0:D.querySelectorAll("["+fd("portal")+"]"))||[]);if(g){const J=[g,...G,k.current,N.current,E.current.includes("reference")||K?y:null].filter(_e=>_e!=null),ee=l?nw(J,_,!_):nw(J);return()=>{ee()}}},[r,y,g,l,E,S,K,_]),Wr(()=>{if(r||!g)return;const D=$n(g),G=Ts(D);queueMicrotask(()=>{const J=C(g),ee=T.current,_e=(typeof ee=="number"?J[ee]:ee.current)||g,ce=Kt(g,G);!A&&!ce&&h&&ki(_e,{preventScroll:_e===g})})},[r,h,g,A,C,T]),Wr(()=>{if(r||!g)return;let D=!1;const G=$n(g),J=Ts(G),ee=x.current;L.current=J;function _e(ce){if(ce.type==="escapeKey"&&p.domReference.current&&(L.current=p.domReference.current),["referencePress","escapeKey"].includes(ce.type))return;const z=ce.data.returnFocus;typeof z=="object"?(H.current=!1,D=z.preventScroll):H.current=!z}return w.on("dismiss",_e),()=>{w.off("dismiss",_e);const ce=Ts(G);(Kt(g,ce)||I&&Ta(I.nodesRef.current,m).some(Q=>{var me;return Kt((me=Q.context)==null?void 0:me.elements.floating,ce)})||ee.openEvent&&["click","mousedown"].includes(ee.openEvent.type))&&p.domReference.current&&(L.current=p.domReference.current),R.current&&Dt(L.current)&&!H.current&&ki(L.current,{cancelPrevious:!1,preventScroll:D})}},[r,g,R,x,p,w,I,m]),Wr(()=>{if(!(r||!S))return S.setFocusManagerState({modal:l,closeOnFocusOut:d,open:h,onOpenChange:v,refs:p}),()=>{S.setFocusManagerState(null)}},[r,S,l,h,v,p,d]),Wr(()=>{if(!r&&g&&typeof MutationObserver=="function"){const D=()=>{const J=g.getAttribute("tabindex");E.current.includes("floating")||Ts($n(g))!==p.domReference.current&&W().length===0?J!=="0"&&g.setAttribute("tabindex","0"):J!=="-1"&&g.setAttribute("tabindex","-1")};D();const G=new MutationObserver(D);return G.observe(g,{childList:!0,subtree:!0,attributes:!0}),()=>{G.disconnect()}}},[r,g,p,E,W]);function O(D){return r||!c||!l?null:f.createElement(AF,{ref:D==="start"?k:N,onClick:G=>v(!1,G.nativeEvent)},typeof c=="string"?c:"Dismiss")}const M=!r&&_&&!K&&(Z||l);return f.createElement(f.Fragment,null,M&&f.createElement(sw,{"data-type":"inside",ref:S==null?void 0:S.beforeInsideRef,onFocus:D=>{if(l){const J=C();ki(i[0]==="reference"?J[0]:J[J.length-1])}else if(S!=null&&S.preserveTabOrder&&S.portalNode)if(H.current=!1,rw(D,S.portalNode)){const J=IF()||y;J==null||J.focus()}else{var G;(G=S.beforeOutsideRef.current)==null||G.focus()}}}),!K&&O("start"),n,O("end"),M&&f.createElement(sw,{"data-type":"inside",ref:S==null?void 0:S.afterInsideRef,onFocus:D=>{if(l)ki(C()[0]);else if(S!=null&&S.preserveTabOrder&&S.portalNode)if(d&&(H.current=!0),rw(D,S.portalNode)){const J=RF()||y;J==null||J.focus()}else{var G;(G=S.afterOutsideRef.current)==null||G.focus()}}}))}function ow(t){return Dt(t.target)&&t.target.tagName==="BUTTON"}function aw(t){return g2(t)}function Yl(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,dataRef:i,elements:{domReference:s}}=t,{enabled:o=!0,event:a="click",toggle:l=!0,ignoreMouse:c=!1,keyboardHandlers:d=!0}=e,h=f.useRef(),p=f.useRef(!1);return f.useMemo(()=>o?{reference:{onPointerDown(m){h.current=m.pointerType},onMouseDown(m){m.button===0&&(Y1(h.current,!0)&&c||a!=="click"&&(n&&l&&(!i.current.openEvent||i.current.openEvent.type==="mousedown")?r(!1,m.nativeEvent):(m.preventDefault(),r(!0,m.nativeEvent))))},onClick(m){if(a==="mousedown"&&h.current){h.current=void 0;return}Y1(h.current,!0)&&c||(n&&l&&(!i.current.openEvent||i.current.openEvent.type==="click")?r(!1,m.nativeEvent):r(!0,m.nativeEvent))},onKeyDown(m){h.current=void 0,!(m.defaultPrevented||!d||ow(m))&&(m.key===" "&&!aw(s)&&(m.preventDefault(),p.current=!0),m.key==="Enter"&&r(!(n&&l),m.nativeEvent))},onKeyUp(m){m.defaultPrevented||!d||ow(m)||aw(s)||m.key===" "&&p.current&&(p.current=!1,r(!(n&&l),m.nativeEvent))}}}:{},[o,i,a,c,d,s,l,n,r])}const NF=qm["useInsertionEffect".toString()],bF=NF||(t=>t());function eu(t){const e=f.useRef(()=>{});return bF(()=>{e.current=t}),f.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}const OF={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},jF={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},LF=t=>{var e,n;return{escapeKeyBubbles:typeof t=="boolean"?t:(e=t==null?void 0:t.escapeKey)!=null?e:!1,outsidePressBubbles:typeof t=="boolean"?t:(n=t==null?void 0:t.outsidePress)!=null?n:!0}};function Jl(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,events:i,nodeId:s,elements:{reference:o,domReference:a,floating:l},dataRef:c}=t,{enabled:d=!0,escapeKey:h=!0,outsidePress:p=!0,outsidePressEvent:m="pointerdown",referencePress:v=!1,referencePressEvent:w="pointerdown",ancestorScroll:x=!1,bubbles:y}=e,g=R0(),_=wF()!=null,E=eu(typeof p=="function"?p:()=>!1),T=typeof p=="function"?E:p,R=f.useRef(!1),{escapeKeyBubbles:I,outsidePressBubbles:S}=LF(y),A=eu(N=>{if(!n||!d||!h||N.key!=="Escape")return;const H=g?Ta(g.nodesRef.current,s):[];if(!I&&(N.stopPropagation(),H.length>0)){let L=!0;if(H.forEach(q=>{var Z;if((Z=q.context)!=null&&Z.open&&!q.context.dataRef.current.__escapeKeyBubbles){L=!1;return}}),!L)return}i.emit("dismiss",{type:"escapeKey",data:{returnFocus:{preventScroll:!1}}}),r(!1,K9(N)?N.nativeEvent:N)}),k=eu(N=>{const H=R.current;if(R.current=!1,H||typeof T=="function"&&!T(N))return;const L=m2(N),q="["+fd("inert")+"]",Z=$n(l).querySelectorAll(q);let K=et(L)?L:null;for(;K&&!Gl(K);){const O=ls(K);if(O===$n(l).body||!et(O))break;K=O}if(Z.length&&et(L)&&!G9(L)&&!Kt(L,l)&&Array.from(Z).every(O=>!Kt(K,O)))return;if(Dt(L)&&l){const O=L.clientWidth>0&&L.scrollWidth>L.clientWidth,M=L.clientHeight>0&&L.scrollHeight>L.clientHeight;let D=M&&N.offsetX>L.clientWidth;if(M&&nn(L).direction==="rtl"&&(D=N.offsetX<=L.offsetWidth-L.clientWidth),D||O&&N.offsetY>L.clientHeight)return}const W=g&&Ta(g.nodesRef.current,s).some(O=>{var M;return Hf(N,(M=O.context)==null?void 0:M.elements.floating)});if(Hf(N,l)||Hf(N,a)||W)return;const C=g?Ta(g.nodesRef.current,s):[];if(C.length>0){let O=!0;if(C.forEach(M=>{var D;if((D=M.context)!=null&&D.open&&!M.context.dataRef.current.__outsidePressBubbles){O=!1;return}}),!O)return}i.emit("dismiss",{type:"outsidePress",data:{returnFocus:_?{preventScroll:!0}:W9(N)||H9(N)}}),r(!1,N)});return f.useEffect(()=>{if(!n||!d)return;c.current.__escapeKeyBubbles=I,c.current.__outsidePressBubbles=S;function N(q){r(!1,q)}const H=$n(l);h&&H.addEventListener("keydown",A),T&&H.addEventListener(m,k);let L=[];return x&&(et(a)&&(L=Gi(a)),et(l)&&(L=L.concat(Gi(l))),!et(o)&&o&&o.contextElement&&(L=L.concat(Gi(o.contextElement)))),L=L.filter(q=>{var Z;return q!==((Z=H.defaultView)==null?void 0:Z.visualViewport)}),L.forEach(q=>{q.addEventListener("scroll",N,{passive:!0})}),()=>{h&&H.removeEventListener("keydown",A),T&&H.removeEventListener(m,k),L.forEach(q=>{q.removeEventListener("scroll",N)})}},[c,l,a,o,h,T,m,n,r,x,d,I,S,A,k]),f.useEffect(()=>{R.current=!1},[T,m]),f.useMemo(()=>d?{reference:{onKeyDown:A,[OF[w]]:N=>{v&&(i.emit("dismiss",{type:"referencePress",data:{returnFocus:!1}}),r(!1,N.nativeEvent))}},floating:{onKeyDown:A,[jF[m]]:()=>{R.current=!0}}}:{},[d,i,v,m,w,r,A])}function Zl(t){var e;t===void 0&&(t={});const{open:n=!1,onOpenChange:r,nodeId:i}=t,[s,o]=f.useState(null),a=((e=t.elements)==null?void 0:e.reference)||s,l=U9(t),c=R0(),d=eu((E,T)=>{E&&(p.current.openEvent=T),r==null||r(E,T)}),h=f.useRef(null),p=f.useRef({}),m=f.useState(()=>yF())[0],v=E2(),w=f.useCallback(E=>{const T=et(E)?{getBoundingClientRect:()=>E.getBoundingClientRect(),contextElement:E}:E;l.refs.setReference(T)},[l.refs]),x=f.useCallback(E=>{(et(E)||E===null)&&(h.current=E,o(E)),(et(l.refs.reference.current)||l.refs.reference.current===null||E!==null&&!et(E))&&l.refs.setReference(E)},[l.refs]),y=f.useMemo(()=>({...l.refs,setReference:x,setPositionReference:w,domReference:h}),[l.refs,x,w]),g=f.useMemo(()=>({...l.elements,domReference:a}),[l.elements,a]),_=f.useMemo(()=>({...l,refs:y,elements:g,dataRef:p,nodeId:i,floatingId:v,events:m,open:n,onOpenChange:d}),[l,i,v,m,n,d,y,g]);return Wr(()=>{const E=c==null?void 0:c.nodesRef.current.find(T=>T.id===i);E&&(E.context=_)}),f.useMemo(()=>({...l,context:_,refs:y,elements:g}),[l,y,g,_])}function Xf(t,e,n){const r=new Map;return{...n==="floating"&&{tabIndex:-1},...t,...e.map(i=>i?i[n]:null).concat(t).reduce((i,s)=>(s&&Object.entries(s).forEach(o=>{let[a,l]=o;if(a.indexOf("on")===0){if(r.has(a)||r.set(a,[]),typeof l=="function"){var c;(c=r.get(a))==null||c.push(l),i[a]=function(){for(var d,h=arguments.length,p=new Array(h),m=0;m<h;m++)p[m]=arguments[m];return(d=r.get(a))==null?void 0:d.map(v=>v(...p)).find(v=>v!==void 0)}}}else i[a]=l}),i),{})}}function ec(t){t===void 0&&(t=[]);const e=t,n=f.useCallback(s=>Xf(s,t,"reference"),e),r=f.useCallback(s=>Xf(s,t,"floating"),e),i=f.useCallback(s=>Xf(s,t,"item"),t.map(s=>s==null?void 0:s.item));return f.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:i}),[n,r,i])}function C2(t,e){e===void 0&&(e={});const{open:n,floatingId:r}=t,{enabled:i=!0,role:s="dialog"}=e,o=E2();return f.useMemo(()=>{const a={id:r,role:s};return i?s==="tooltip"?{reference:{"aria-describedby":n?r:void 0},floating:a}:{reference:{"aria-expanded":n?"true":"false","aria-haspopup":s==="alertdialog"?"dialog":s,"aria-controls":n?r:void 0,...s==="listbox"&&{role:"combobox"},...s==="menu"&&{id:o}},floating:{...a,...s==="menu"&&{"aria-labelledby":o}}}:{}},[i,s,n,r,o])}function Xn({children:t,theme:e,classNames:n}){return u.jsx("div",{className:`flex flex-col gap-[15px] rounded  px-[20px] py-[10px] ${e.type==="light"?"text-[#333]":"text-white"} ${e.side_bar_bg} border-[1px] border-${e.alpha} ${n}`,children:t})}const Ri=({children:t,setOpenModal:e})=>u.jsx(u.Fragment,{children:xl.createPortal(u.jsxs("div",{className:"fixed inset-0 z-[99]",children:[u.jsx("div",{onClick:n=>{n.stopPropagation,e(!1)},className:"absolute bg-black opacity-60 inset-0 z-[90]"}),u.jsx("div",{className:"absolute z-[99] top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",children:t})]}),document.getElementById("portals"))}),DF=async({collection:t,id:e})=>{await ul(at(Le,t,e))},MF=async({collection:t,id:e})=>cl(at(Le,t,e)),k2=async({file:t,folder:e})=>{const n=y0(_0,`${e+t.name}`),r=await JV(n,t);return{fileURL:await ZV(r.ref),filePath:r.metadata.fullPath}},Mm=async({filePath:t})=>{const e=y0(_0,t);await XR(e)},P2=async t=>{console.log("deleteSong"),Mm({filePath:t.song_file_path}),await ul(at(Le,"songs",t.id)),t.lyric_id&&await ul(at(Le,"lyrics",t.lyric_id))},$F=async({playlist:t})=>{console.log("delete playlist"),await mi(at(Le,"playlist",t.id),{...t},{merge:!0})},A2=async(t,e)=>{const n=at(Le,"users",e==null?void 0:e.email),r=t.map(i=>i.id);console.log("set UserPlaylistIdsDoc"),await mi(n,{playlist_ids:r},{merge:!0})},C0=async({songIds:t,userData:e})=>{const n=at(Le,"users",e==null?void 0:e.email);console.log("set user doc"),await mi(n,{song_ids:t,song_count:t.length},{merge:!0})},N2=(t,e)=>{const n=e.findIndex(r=>r.id===t.id);e[n]=t},VF=t=>{let e=0,n=[];return t.forEach(r=>{e+=r.duration,n.push(r.id)}),{time:e,ids:n}},Yf=({newPlaylistSongs:t,existingPlaylist:e})=>{const{ids:n,time:r}=VF(t);return{...e,time:r,song_ids:n,count:n.length}},FF=({...t})=>({...{name:"",singer:"",image_url:"",song_url:"",by:"admin",duration:0,lyric_id:"",image_file_path:"",song_file_path:""},...t});function $h(){const t=Ei(),{setToasts:e}=Ii(),{userPlaylists:n,setUserPlaylists:r,userSongs:i,setUserSongs:s}=_n(),{playlist:o}=Nn(bn);return{updatePlaylistAfterChange:async({newPlaylist:c})=>{const d=[...n];N2(c,d),o.name==c.name&&t(ju(c)),r(d,[]);try{await $F({playlist:c})}catch(h){console.log(h),e(p=>[...p,{title:"error",id:Oe(4),desc:"Something went wrong"}])}},updateSongsListAfterChange:async({song:c})=>{const d=[...i],h=d.indexOf(c);d.splice(h,1);const p=d.map(m=>m.id);return s(d),p}}}function pd({data:t,active:e,onClick:n,theme:r,inProcess:i,inPlaylist:s,userData:o,userSongs:a,userPlaylists:l,setUserSongs:c,deleteFromPlaylist:d,addSongToPlaylist:h,selectedSongList:p,isCheckedSong:m,setSelectedSongList:v,setIsCheckedSong:w,handleOpenParentModal:x}){const{setToasts:y}=Ii(),[g,_]=f.useState(!1),E=f.useRef(null),[T,R]=f.useState(!1),[I,S]=f.useState(!1),[A,k]=f.useState(),[N,H]=f.useState(t.image_url||""),[L,q]=f.useState(),Z=f.useRef(!1),[K,W]=f.useState({name:t.name,singer:t.singer,image_url:t.image_url}),{updateSongsListAfterChange:C}=$h(),{refs:O,floatingStyles:M,context:D}=Zl({open:T,onOpenChange:R,middleware:[i2()],whileElementsMounted:Ql}),G=Yl(D),J=Jl(D),{getReferenceProps:ee,getFloatingProps:_e}=ec([G,J]),ce=f.useCallback(()=>p?(p==null?void 0:p.indexOf(t))!=-1:!1,[p]),z=te=>{k(te),S(!0)},Q=()=>{H(""),q(void 0),Z.current=!0;const te=E.current;te&&(te.value="")},me=(te,F)=>{W({...K,[te]:F})},fe=te=>{const ae=te.target.files[0];H(URL.createObjectURL(ae)),Z.current=!0,q(ae)},qe=()=>{q(void 0),H("")},an=()=>{_(!1),S(!1)},Rr=async()=>{if(!a||!c){console.log("edit fail usersongs not found");return}try{if(Z.current){const te=t.image_file_path;if(!te)return;te&&N&&(console.log("change image, delete file"),Mm({filePath:te})),te&&!N&&(console.log("remove image, delete file"),Mm({filePath:te}))}if(t.name!=K.name||t.singer!=K.singer||Z.current){_(!0);let te={...t,...K};if(L&&Z.current){const{filePath:F,fileURL:ae}=await k2({file:L,folder:"/images/"});te.image_file_path=F,te.image_url=ae}else Z.current&&(te.image_file_path="",te.image_url="");await C({song:te}),y(F=>[...F,{title:"success",id:Oe(4),desc:`${te.name} edited`}])}}catch{y(F=>[...F,{title:"error",id:Oe(4),desc:"Something went wrong"}])}finally{an(),qe()}},Ci=async()=>{if(!(!o||!a||!c)){console.log("handleDeleteSong check userSongIds",a);try{_(!0),await P2(t);const te=await C({song:t});await C0({songIds:te,userData:o}),y(F=>[...F,{title:"success",id:Oe(4),desc:`'${t.name}' deleted`}])}catch(te){console.log({message:te}),y(F=>[...F,{title:"error",id:Oe(4),desc:"Some thing went wrong!"}])}finally{an()}}},ys=(te,F)=>{h&&h(te,F),R(!1),y(ae=>[...ae,{title:"success",id:Oe(4),desc:`Song added to playlist ${F.name}`}])},ie=te=>{if(!v||!p||!w){console.log("songlistitem lack of props");return}w(!0);let F=[...p];const ae=F.indexOf(te);ae===-1?F.push(te):F.splice(ae,1),v(F),F.length||w(!1)},ue={button:`${r.content_bg} rounded-full`,textColor:r.type==="light"?"text-[#333]":"text-[#fff]",songListButton:`mr-[10px] text-${r.alpha} group-hover/main:text-[inherit]`,itemContainer:`border-b border-${r.alpha} ${window.innerWidth>549&&"p-[0px] hover:bg-"+r.alpha}  ${ce()&&"bg-"+r.alpha}`,imageFrame:"h-[54px] w-[54px] relative rounded-[4px] overflow-hidden group/image flex-shrink-0",before:"after:content-[''] after:absolute after:h-[100%] after:w-[10px] after:right-[100%]"},Ne="h-[35px] w-[35px] p-[8px] rounded-full",Vt=`px-[10px] py-[5px] rounded-[4px] bg-transparent border border-${r.alpha} ${ue.textColor} text-[14px] font-[500]`,Cr=u.jsx(u.Fragment,{children:u.jsxs("div",{className:`flex flex-row ${i?"opacity-60":""}`,children:[u.jsx(u.Fragment,{children:i?u.jsx("button",{className:`${ue.songListButton}`,children:u.jsx(fa,{className:"w-[18px]"})}):u.jsx(u.Fragment,{children:m?u.jsx("button",{onClick:()=>ie(t),className:`${ue.songListButton} text-[inherit]`,children:ce()?u.jsx(YE,{className:"w-[18px]"}):u.jsx(ku,{className:"w-[18px]"})}):u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>ie(t),className:`${ue.songListButton} hidden group-hover/main:block`,children:u.jsx(ku,{className:"w-[18px] "})}),u.jsx("button",{className:`${ue.songListButton} group-hover/main:hidden group-hover/main:mr-[0px]`,children:u.jsx(fa,{className:"w-[18px]"})})]})})}),u.jsxs("div",{className:`${ue.imageFrame}`,children:[u.jsx("img",{className:"",src:(t==null?void 0:t.image_url)||"https://placehold.co/100",alt:""}),e&&!i&&u.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-60 flex songContainers-center items-center justify-center",children:u.jsx("div",{className:"relative h-[18px] w-[18px]",children:u.jsx("img",{src:"https://zmp3-static.zmdcdn.me/skins/zmp3-v6.1/images/icons/icon-playing.gif",alt:""})})}),!e&&!i&&u.jsx("div",{className:`absolute  inset-0 bg-black bg-opacity-60 
    songContainers-center justify-center items-center hidden group-hover/image:flex`,children:u.jsx(V,{onClick:n,variant:"default",className:"h-[25px] w-[25px] text-white",children:u.jsx(Ro,{})})})]}),u.jsxs("div",{className:"ml-[10px]",children:[u.jsx("h5",{className:"text-mg line-clamp-1",children:t.name}),u.jsx("p",{className:"text-xs text-gray-500 line-clamp-1",children:t.singer})]})]})}),Fh=u.jsxs("div",{className:"w-[50vw] h-[auto]",children:[u.jsx("input",{ref:E,id:"editImageInput",type:"file",onChange:fe,className:"hidden"}),u.jsx("h1",{className:"text-[20px] font-semibold",children:"Chnh sa"}),u.jsxs("div",{className:"flex mt-[10px]",children:[u.jsxs("div",{children:[u.jsx("div",{className:"w-[130px] h-[130px] flex-shrink-0 rounded-[5px]",children:u.jsx("img",{className:"w-[100%] object-cover object-center rounded-[5px]",src:N||K.image_url||t.image_url||"https://placehold.co/200",alt:"adsfkl"})}),u.jsxs("div",{className:"flex items-stretch gap-[12px] mt-[10px]",children:[u.jsx("label",{htmlFor:"editImageInput",className:`inline-block cursor-pointer hover:brightness-90 px-[20px] py-[5px] bg-${r.alpha} rounded-full text-[14px]`,children:u.jsx(RN,{className:"w-[15px]"})}),N&&u.jsx(V,{onClick:()=>Q(),className:`${ue.button} px-[20px]`,children:u.jsx(li,{className:"w-[20px]"})})]})]}),u.jsxs("div",{className:"ml-[20px] w-full flex flex-col gap-[10px]",children:[u.jsxs("div",{className:"flex flex-col gap-[5px]",children:[u.jsx("p",{className:"text-[14px]",children:"Tn: "}),u.jsx("input",{className:Vt,value:K.name,type:"text",onChange:te=>me("name",te.target.value)})]}),u.jsxs("div",{className:"flex flex-col gap-[5px]",children:[u.jsx("p",{className:"text-[14px]",children:"Th hin: "}),u.jsx("input",{className:Vt,value:K.singer,onChange:te=>me("singer",te.target.value),type:"text"})]}),u.jsxs("div",{className:"flex flex-col gap-[5px]",children:[u.jsx("p",{className:"text-[14px]",children:"Url nh: "}),u.jsx("input",{className:Vt,value:K.image_url,onChange:te=>me("image_url",te.target.value),type:"text"})]}),u.jsxs("div",{className:"flex gap-[10px] mt-[10px]",children:[u.jsx(V,{isLoading:g,onClick:()=>Rr(),className:`bg-${r.alpha} rounded-full text-[14px]`,variant:"primary",children:"Lu"}),u.jsx(V,{onClick:te=>{te.stopPropagation(),S(!1)},className:`${r.content_bg} rounded-full text-[14px]`,variant:"primary",children:"ng"})]})]})]})]}),Uh=f.useMemo(()=>u.jsx(u.Fragment,{children:u.jsxs("div",{className:"w-[30vw]",children:[u.jsx("h1",{className:"text-[20px] font-semibold",children:"Chc cha ?"}),u.jsx("p",{className:"text-[red]",children:"This action cannot be undone"}),u.jsxs("div",{className:"flex gap-[10px] mt-[20px]",children:[u.jsx(V,{isLoading:g,className:`${r.content_bg} rounded-full text-[14px]`,variant:"primary",onClick:Ci,children:"Xa m n i !"}),u.jsx(V,{onClick:()=>S(!1),className:`bg-${r.alpha} rounded-full text-[14px]`,variant:"primary",children:"Khoan t t"})]})]})}),[g,r]);return u.jsxs("div",{className:`${!i&&"group/main"} flex flex-row rounded justify-between songContainers-center px-[10px] py-[10px] max-[549px]:px-[0px] ${ue.itemContainer}`,children:[Cr,i?u.jsxs("div",{className:"flex items-center",children:[u.jsx("span",{children:u.jsx(QE,{className:"w-[20px] mr-[10px] animate-spin"})}),u.jsx("p",{className:"text-[14px]",children:"In process..."})]}):u.jsx(u.Fragment,{children:u.jsxs("div",{className:"flex flex-row items-center gap-x-[5px]",children:[u.jsx(V,{className:`${Ne} ${r.content_hover_bg} ${r.type==="light"?"hover:text-[#33]":"hover:text-white"}`,children:u.jsx(tT,{})}),u.jsxs("div",{className:"w-[80px] flex justify-center songContainers-center",children:[u.jsx("button",{ref:O.setReference,...ee(),className:`group-hover/main:block ${Ne}
            ${T?"block cursor-default":"hidden "+r.content_hover_bg}
            ${r.type==="light"?"hover:text-[#33]":"hover:text-white"}
            max-[549px]:block
            `,children:u.jsx(qg,{})}),u.jsx("span",{className:`text-[12px] group-hover/main:hidden ${T&&"hidden"} max-[549px]:hidden`,children:Ea(t.duration)})]})]})}),T&&!i&&u.jsx(Xl,{context:D,modal:!1,children:u.jsx("div",{className:"z-[99]",ref:O.setFloating,style:M,..._e(),children:u.jsx(Xn,{theme:r,children:u.jsxs("div",{className:"w-[200px]",children:[window.innerWidth>549&&u.jsxs(u.Fragment,{children:[u.jsx("h5",{className:"text-mg line-clamp-1",children:t.name}),u.jsx("p",{className:"text-xs text-gray-500 line-clamp-1",children:t.singer})]}),s?u.jsxs(V,{className:`mt-[15px] ${r.content_hover_text}`,variant:"list",onClick:()=>d&&d(t),children:[u.jsx(Eb,{className:"w-[18px] mr-[5px]"}),"Xa khi playlist"]}):u.jsxs(V,{className:`mt-[15px] group relative ${r.content_hover_text} ${ue.before}`,variant:"list",children:[u.jsx(Wa,{className:"w-[18px] mr-[5px]"}),"Thm vo playlist",u.jsx(Xn,{classNames:"w-[100%] absolute right-[calc(100%+5px)] hidden group-hover:block hover:block",theme:r,children:u.jsxs("ul",{className:"w-[150px]",children:[!!(l!=null&&l.length)&&u.jsx(u.Fragment,{children:l.map((te,F)=>{const ae=te.song_ids.includes(t.id);return u.jsxs("li",{onClick:()=>!ae&&ys(t,te),className:`list-none flex rounded-[4px] p-[5px] ${ae&&"opacity-60"} ${!ae&&r.content_hover_text}`,children:[u.jsx(fa,{className:"w-[20px] mr-[5px]"}),u.jsxs("p",{children:[te.name," ",ae&&"(added)"]})]},F)})}),u.jsxs("li",{onClick:()=>x&&x("ADD_PLAYLIST"),className:`list-none flex rounded-[4px] p-[5px] ${r.content_hover_text}`,children:[u.jsx(Wa,{className:"w-[18px] mr-[5px]"}),"Add new playlist"]})]})})]}),t.by!="admin"&&u.jsxs(u.Fragment,{children:[u.jsxs(V,{onClick:()=>z("edit"),className:`${r.content_hover_text}`,variant:"list",children:[u.jsx(za,{className:"w-[18px] mr-[5px]"}),"Chnh Sa"]}),t.lyric_id?u.jsxs(V,{className:`${r.content_hover_text}`,variant:"list",onClick:()=>z("edit"),children:[u.jsx(eb,{className:"w-[18px] mr-[5px]"}),"Chnh sa li bi ht"]}):u.jsx(Cu,{to:`/React-Zingmp3/edit/${t.id}`,children:u.jsxs(V,{className:`${r.content_hover_text}`,variant:"list",children:[u.jsx(rb,{className:"w-[18px] mr-[5px]"}),"Thm li bi ht"]})}),u.jsxs(V,{onClick:()=>z("confirm"),className:`${r.content_hover_text}`,variant:"list",children:[u.jsx(Kg,{className:"w-[18px] mr-[5px]"}),"Xa"]})]}),u.jsxs("p",{className:"opacity-60 text-center text-[13px] mt-[10px",children:["Thm bi ",t.by]})]})})})}),I&&!i&&u.jsx(Ri,{setOpenModal:S,children:u.jsxs(Xn,{theme:r,children:[A==="edit"&&Fh,A==="confirm"&&Uh]})})]})}function lw({className:t,icon:e,label:n,to:r,arrowIcon:i}){return u.jsxs(Cu,{className:"w-full flex flex-row justify-between items-center "+t,to:r,children:[u.jsxs(V,{className:"",children:[e,u.jsx("span",{className:"text-lg font-medium",children:n})]}),i&&u.jsx("span",{children:i})]})}function Re({className:t}){const{theme:e}=ct();return u.jsx("div",{className:`animate-pulse rounded-[4px] bg-${e.alpha} ${t}`})}function pl({data:t,theme:e,selectedSongList:n,active:r,onClick:i,isCheckedSong:s,setSelectedSongList:o,setIsCheckedSong:a}){const l=f.useCallback(()=>n?(n==null?void 0:n.indexOf(t))!=-1:!1,[n]),c=h=>{if(console.log("check selected"),!o||!n||!a){console.log("songlistitem lack of props");return}a(!0);let p=[...n];const m=p.indexOf(h);m===-1?p.push(h):p.splice(m,1),o(p),p.length||a(!1)},d={button:`${e.content_bg} rounded-full`,textColor:e.type==="light"?"text-[#333]":"text-[#fff]",songListButton:`mr-[10px] px-[5px] text-${e.alpha} group-hover/main:text-[inherit]`,itemContainer:`border-b border-${e.alpha} flex flex-row rounded-[4px] justify-between w-[100%] px-[5px] py-[10px] ${l()&&"bg-"+e.alpha}`,imageFrame:"h-[54px] w-[54px] relative rounded-[4px] overflow-hidden group/image flex-shrink-0",before:"after:content-[''] after:absolute after:h-[100%] after:w-[10px] after:right-[100%]"};return u.jsx(u.Fragment,{children:u.jsx("div",{className:`${d.itemContainer}`,children:u.jsxs("div",{className:"flex flex-row w-[100%]",children:[u.jsx(u.Fragment,{children:s?u.jsx("button",{onClick:()=>c(t),className:`${d.songListButton} text-[inherit]`,children:l()?u.jsx(YE,{className:"w-[18px]"}):u.jsx(ku,{className:"w-[18px]"})}):u.jsx(u.Fragment,{children:u.jsx("button",{onClick:()=>c(t),className:`${d.songListButton} block`,children:u.jsx(ku,{className:"w-[18px] "})})})}),u.jsxs("div",{className:"flex-grow flex",onClick:()=>i(),children:[u.jsxs("div",{className:`${d.imageFrame}`,children:[u.jsx("img",{className:"",src:(t==null?void 0:t.image_url)||"https://placehold.co/100",alt:""}),r&&u.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-60 flex songContainers-center items-center justify-center",children:u.jsx("div",{className:"relative",children:u.jsx(Ro,{className:"w-[28px]"})})})]}),u.jsxs("div",{className:"ml-[10px]",children:[u.jsx("h5",{className:`text-mg line-clamp-1 ${r&&e.content_text}`,children:t.name}),u.jsx("p",{className:"text-xs text-gray-500 line-clamp-1",children:t.singer})]})]})]})})})}function UF(){const t=Ei(),{theme:e}=ct(),[n]=OR(Er),[r,i]=Lo(Er),{loading:s}=w0(),{adminSongs:o,userPlaylists:a}=_n(),{song:l}=Nn(bn),{updatePlaylistAfterChange:c}=$h(),[d,h]=f.useState([]),[p,m]=f.useState(!1),v=(R,I)=>{l.id!==R.id&&t(cr({...R,currentIndex:I,song_in:"admin"}))},w=f.useMemo(()=>window.innerWidth<550,[]),x=()=>{n()},y=(R,I)=>{if(!R||!I)return;const S=[...I.song_ids,R.id],A=I.time+R.duration,k={...I,time:A,song_ids:S,count:S.length};c({newPlaylist:k})},g=[...Array(1).keys()].map(R=>u.jsx(Re,{className:"w-full h-[40px] mb-[10px]"},R)),_=[...Array(4).keys()].map(R=>u.jsxs("div",{className:"flex items-center p-[10px]",children:[u.jsx(Re,{className:"h-[18px] w-[18px]"}),u.jsx(Re,{className:"h-[54px] w-[54px] ml-[18px] rounded-[4px]"}),u.jsxs("div",{className:"ml-[10px]",children:[u.jsx(Re,{className:"h-[20px] mb-[5px] w-[150px]"}),u.jsx(Re,{className:"h-[12px] mt-[5px] w-[100px]"})]})]},R)),E=f.useMemo(()=>o.map((R,I)=>{const S=R.id===l.id&&l.song_in==="admin";return w?u.jsx("div",{className:"w-full max-[549px]:w-full",children:u.jsx(pl,{theme:e,onClick:()=>v(R,I),active:S,data:R,isCheckedSong:p,selectedSongList:d,setIsCheckedSong:m,setSelectedSongList:h},I)},I):u.jsx("div",{className:"w-full max-[549px]:w-full",children:u.jsx(pd,{theme:e,onClick:()=>v(R,I),active:S,data:R,isCheckedSong:p,userPlaylists:a,selectedSongList:d,setIsCheckedSong:m,setSelectedSongList:h,addSongToPlaylist:y},I)},I)}),[]),T={icon:"w-6 h-6 mr-2 inline"};return u.jsxs(u.Fragment,{children:[w&&u.jsx("div",{className:"pb-[20px]",children:u.jsxs("div",{className:"flex flex-col gap-3 items-start ",children:[u.jsx("h1",{className:"text-[24px] font-bold",children:"Library"}),i?g:u.jsx(u.Fragment,{children:r?u.jsxs(u.Fragment,{children:[u.jsx(lw,{className:"py-[10px] border-b border-[#333]",to:Ut.Playlist,icon:u.jsx(QN,{className:T.icon+e.content_text}),label:"Playlist",arrowIcon:u.jsx(Xp,{className:"w-5 h-5 text-gray-500"})}),u.jsx(lw,{className:"py-[10px] border-b border-[#333]",to:Ut.MySongs,icon:u.jsx(fa,{className:T.icon+e.content_text}),label:"All songs",arrowIcon:u.jsx(Xp,{className:"w-5 h-5 text-gray-500"})})]}):u.jsx(V,{onClick:x,className:`${e.content_bg} rounded-[4px] px-[40px]`,variant:"primary",children:"Login"})})]})}),u.jsxs("div",{className:"pb-[30px]",children:[u.jsx("h3",{className:"text-[24px] font-bold mb-[10px]",children:"Popular"}),s&&_,!s&&u.jsx(u.Fragment,{children:o.length?E:"No songs jet..."})]})]})}var wo={},k0={},Vh={};Object.defineProperty(Vh,"__esModule",{value:!0});Vh.default=["Blues","Classic Rock","Country","Dance","Disco","Funk","Grunge","Hip-Hop","Jazz","Metal","New Age","Oldies","Other","Pop","R&B","Rap","Reggae","Rock","Techno","Industrial","Alternative","Ska","Death Metal","Pranks","Soundtrack","Euro-Techno","Ambient","Trip-Hop","Vocal","Jazz+Funk","Fusion","Trance","Classical","Instrumental","Acid","House","Game","Sound Clip","Gospel","Noise","AlternRock","Bass","Soul","Punk","Space","Meditative","Instrumental Pop","Instrumental Rock","Ethnic","Gothic","Darkwave","Techno-Industrial","Electronic","Pop-Folk","Eurodance","Dream","Southern Rock","Comedy","Cult","Gangsta Rap","Top 40","Christian Rap","Pop / Funk","Jungle","Native American","Cabaret","New Wave","Psychedelic","Rave","Showtunes","Trailer","Lo-Fi","Tribal","Acid Punk","Acid Jazz","Polka","Retro","Musical","Rock & Roll","Hard Rock","Folk","Folk-Rock","National Folk","Swing","Fast  Fusion","Bebob","Latin","Revival","Celtic","Bluegrass","Avantgarde","Gothic Rock","Progressive Rock","Psychedelic Rock","Symphonic Rock","Slow Rock","Big Band","Chorus","Easy Listening","Acoustic","Humour","Speech","Chanson","Opera","Chamber Music","Sonata","Symphony","Booty Bass","Primus","Porn Groove","Satire","Slow Jam","Club","Tango","Samba","Folklore","Ballad","Power Ballad","Rhythmic Soul","Freestyle","Duet","Punk Rock","Drum Solo","A Cappella","Euro-House","Dance Hall","Goa","Drum & Bass","Club-House","Hardcore","Terror","Indie","BritPop","Negerpunk","Polsk Punk","Beat","Christian Gangsta Rap","Heavy Metal","Black Metal","Crossover","Contemporary Christian","Christian Rock","Merengue","Salsa","Thrash Metal","Anime","JPop","Synthpop","Rock/Pop"];var Ot={};Object.defineProperty(Ot,"__esModule",{value:!0});Ot.skipPaddingZeros=Ot.getEndpointOfBytes=Ot.readBytesToString=Ot.readBytesToISO8859=Ot.readBytesToUTF16=Ot.readBytesToUTF8=void 0;const Ui=String.fromCharCode;function b2(t,e){e==null||e<0?e=t.length:e=Math.min(e,t.length);let n=0;t[0]===239&&t[1]===187&&t[2]===191&&(n=3);const r=[];for(let i=0;n<e;i++){const s=t[n++];let o,a,l,c;if(s===0)break;s<128?r[i]=Ui(s):s>=194&&s<224?(o=t[n++],r[i]=Ui(((s&31)<<6)+(o&63))):s>=224&&s<240?(o=t[n++],a=t[n++],r[i]=Ui(((s&15)<<12)+((o&63)<<6)+(a&63))):s>=240&&s<245&&(o=t[n++],a=t[n++],l=t[n++],c=((s&7)<<18)+((o&63)<<12)+((a&63)<<6)+(l&63)-65536,r[i]=Ui((c>>10)+55296,(c&1023)+56320))}return r.join("")}Ot.readBytesToUTF8=b2;function O2(t,e,n){n==null||n<0?n=t.length:n=Math.min(n,t.length);let r=0,i=1,s=0;t[0]===254&&t[1]===255?(e=!0,r=2):t[0]===255&&t[1]===254&&(e=!1,r=2),e&&(i=0,s=1);const o=[];let a,l,c,d,h,p;for(let m=0;r<n&&(a=t[r+i],l=t[r+s],c=(a<<8)+l,r+=2,c!==0);m++)a<216||a>=224?o[m]=Ui(c):(h=t[r+i],p=t[r+s],d=(h<<8)+p,r+=2,o[m]=Ui(c,d));return o.join("")}Ot.readBytesToUTF16=O2;function j2(t,e){e==null||e<0?e=t.length:e=Math.min(e,t.length);const n=[];for(let r=0;r<e;r++)n.push(Ui(t[r]));return n.join("")}Ot.readBytesToISO8859=j2;function BF(t,e,n){return e===0?j2(t,n):e===3?b2(t,n):e===1||e===2?O2(t,void 0,n):null}Ot.readBytesToString=BF;function zF(t,e,n=0){const r=e===0?s=>t[s]===0:s=>t[s]===0&&t[s+1]===0;let i=n;for(;i<t.length&&!r(i);i++);return i}Ot.getEndpointOfBytes=zF;function WF(t,e){for(let n=e;t[n]===0;n++)e++;return e}Ot.skipPaddingZeros=WF;Object.defineProperty(k0,"__esModule",{value:!0});const HF=Vh,Pi=Ot,cw=128;function qF(t){if(!t||t.length<cw)return!1;t=t.slice(t.length-cw);const e={version:{major:1,minor:0}};if((0,Pi.readBytesToUTF8)(t,3)!=="TAG")return!1;const r=/(^[\s0]+|[\s0]+$)/;return e.title=(0,Pi.readBytesToUTF8)(t.slice(3),30).replace(r,""),e.artist=(0,Pi.readBytesToUTF8)(t.slice(33),30).replace(r,""),e.album=(0,Pi.readBytesToUTF8)(t.slice(63),30).replace(r,""),e.year=(0,Pi.readBytesToUTF8)(t.slice(93),4).replace(r,""),t[125]===0?(e.comments=(0,Pi.readBytesToUTF8)(t.slice(97),28).replace(r,""),e.version.minor=1,e.track=t[126]):e.comments=(0,Pi.readBytesToUTF8)(t.slice(97),30).replace(r,""),e.genre=HF.default[t[127]]||"",e}k0.default=qF;var us={},tc={};Object.defineProperty(tc,"__esModule",{value:!0});tc.FrameTypeValueMap=void 0;const KF={TALB:"album",TBPM:"bpm",TCOM:"composer",TCON:"genre",TCOP:"copyright",TDEN:"encoding-time",TDLY:"playlist-delay",TDOR:"original-release-time",TDRC:"recording-time",TDRL:"release-time",TDTG:"tagging-time",TENC:"encoder",TEXT:"writer",TFLT:"file-type",TIPL:"involved-people",TIT1:"content-group",TIT2:"title",TIT3:"subtitle",TKEY:"initial-key",TLAN:"language",TLEN:"length",TMCL:"credits",TMED:"media-type",TMOO:"mood",TOAL:"original-album",TOFN:"original-filename",TOLY:"original-writer",TOPE:"original-artist",TOWN:"owner",TPE1:"artist",TPE2:"band",TPE3:"conductor",TPE4:"remixer",TPOS:"set-part",TPRO:"produced-notice",TPUB:"publisher",TRCK:"track",TRSN:"radio-name",TRSO:"radio-owner",TSOA:"album-sort",TSOP:"performer-sort",TSOT:"title-sort",TSRC:"isrc",TSSE:"encoder-settings",TSST:"set-subtitle",TXXX:"user-defined-text-information",TYER:"year",WCOM:"url-commercial",WCOP:"url-legal",WOAF:"url-file",WOAR:"url-artist",WOAS:"url-source",WORS:"url-radio",WPAY:"url-payment",WPUB:"url-publisher",WAF:"url-file",WAR:"url-artist",WAS:"url-source",WCM:"url-commercial",WCP:"url-copyright",WPB:"url-publisher",COMM:"comments",USLT:"lyrics",APIC:"image",PIC:"image",IPLS:"involved-people-list",OWNE:"ownership"};tc.default=KF;tc.FrameTypeValueMap={TXXX:"array",COMM:"array",USLT:"array"};var P0={};Object.defineProperty(P0,"__esModule",{value:!0});P0.default=["other","file-icon","icon","cover-front","cover-back","leaflet","media","artist-lead","artist","conductor","band","composer","lyricist-writer","recording-location","during-recording","during-performance","screen","fish","illustration","logo-band","logo-publisher"];Object.defineProperty(us,"__esModule",{value:!0});us.calcFrameSize=us.calcTagSize=void 0;const $m=tc,uw=Vh,GF=P0,De=Ot,QF=20;function XF(t){if(!t||t.length<QF)return!1;const e=YF(t.slice(0,10));if(!e)return!1;const n=e.version.flags;if(n.unsync)throw new Error("no support for unsynchronisation");let r=10;n.xheader&&(r+=Vm(t.slice(10,14)));const i=Vm(t.slice(6,10));return JF(t.slice(r,i+r),e),e}us.default=XF;function YF(t){if(!t||t.length<10||(0,De.readBytesToUTF8)(t,3)!=="ID3")return!1;const n=t[5];return{version:{major:2,minor:t[3],revision:t[4],flags:{unsync:(n&128)!==0,xheader:(n&64)!==0,experimental:(n&32)!==0}}}}function Vm(t){return(t[0]&127)*2097152+(t[1]&127)*16384+(t[2]&127)*128+(t[3]&127)}us.calcTagSize=Vm;function L2(t){return t.length<4?0:t[0]*16777216+t[1]*65536+t[2]*256+t[3]}us.calcFrameSize=L2;function JF(t,e){let n=0;const r=e.version;for(;n<t.length;){const i=L2(t.slice(n+4));if(i===0)break;const s=t.slice(n,n+10+i);if(!s.length)break;const o=ZF(s,r.minor,i);o.tag&&($m.FrameTypeValueMap[o.id]==="array"?e[o.tag]?e[o.tag].push(o.value):e[o.tag]=[o.value]:e[o.tag]=o.value),n+=s.length}}function ZF(t,e,n){const r={id:null,tag:null,value:null},i={id:(0,De.readBytesToUTF8)(t,4),type:null,size:n,flags:[t[8],t[9]]};if(i.type=i.id[0],r.id=i.id,i.flags[1]!==0||!(i.id in $m.default))return r;r.tag=$m.default[i.id];let s=0,o=0,a=0,l=0;if(i.type==="T"){if(s=t[10],i.id==="TXXX"){o=11,a=(0,De.getEndpointOfBytes)(t,s,o)-o;const c={description:(0,De.readBytesToString)(t.slice(o),s,a),value:""};o+=a+1,o=(0,De.skipPaddingZeros)(t,o),c.value=(0,De.readBytesToString)(t.slice(o),s),r.value=c}else if(r.value=(0,De.readBytesToString)(t.slice(11),s),i.id==="TCON"&&r.value!==null)if(r.value[0]==="("){const c=r.value.match(/\(\d+\)/g);c&&(r.value=c.map(d=>uw.default[+d.slice(1,-1)]).join(","))}else{const c=parseInt(r.value,10);isNaN(c)||(r.value=uw.default[c])}}else if(i.type==="W")i.id==="WXXX"&&t[10]===0?r.value=(0,De.readBytesToISO8859)(t.slice(11)):r.value=(0,De.readBytesToISO8859)(t.slice(10));else if(i.id==="COMM"||i.id==="USLT"){s=t[10],o=14,a=0;const c=(0,De.readBytesToISO8859)(t.slice(11),3);a=(0,De.getEndpointOfBytes)(t,s,o)-o;const d=(0,De.readBytesToString)(t.slice(o),s,a);o=(0,De.skipPaddingZeros)(t,o+a+1),r.value={language:c,description:d,value:(0,De.readBytesToString)(t.slice(o),s)}}else if(i.id==="APIC"){s=t[10];const c={type:null,mime:null,description:null,data:null};for(o=11,a=(0,De.getEndpointOfBytes)(t,0,o)-o,c.mime=(0,De.readBytesToString)(t.slice(o),0,a),c.type=GF.default[t[o+a+1]]||"other",o+=a+2,a=0,l=o;;l++)if(t[l]===0){a=l-o;break}c.description=a===0?null:(0,De.readBytesToString)(t.slice(o),s,a),o=(0,De.skipPaddingZeros)(t,o+a+1),c.data=t.slice(o),r.value=c}else if(i.id==="IPLS")s=t[10],r.value=(0,De.readBytesToString)(t.slice(11),s);else if(i.id==="OWNE"){s=t[10],o=11,a=(0,De.getEndpointOfBytes)(t,s,o);const c=(0,De.readBytesToISO8859)(t.slice(o),a);o+=a+1;const d=(0,De.readBytesToISO8859)(t.slice(o),8);o+=8,r.value={pricePayed:c,dateOfPurch:d,seller:(0,De.readBytesToString)(t.slice(o),s)}}return r}var dw=b0&&b0.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};Object.defineProperty(wo,"__esModule",{value:!0});wo.parseV2Tag=wo.parseV1Tag=void 0;const D2=k0;wo.parseV1Tag=D2.default;const M2=us;wo.parseV2Tag=M2.default;function e6(t){const e=(0,D2.default)(t),n=(0,M2.default)(t);if(!n&&!e)return!1;const r={version:!1},i=n||r,{version:s}=i,o=dw(i,["version"]),a=e||r,{version:l}=a,c=dw(a,["version"]),d=Object.assign(Object.assign({version:{v1:l,v2:s}},c),o);return c.comments&&(d.comments=[{value:c.comments},...o&&o.comments?o.comments:[]]),d}var t6=wo.default=e6,ml={};Object.defineProperty(ml,"__esModule",{value:!0});ml.fetchFileAsBuffer=$2=ml.convertFileToBuffer=void 0;function n6(t){const e=new FileReader;return new Promise((n,r)=>{e.onload=()=>{n(new Uint8Array(e.result))},e.onerror=i=>r(i),e.readAsArrayBuffer(t)})}var $2=ml.convertFileToBuffer=n6;function r6(t){if(!t)throw new Error("Argument should be a valid url string.");return new Promise((e,n)=>{const r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=()=>{r.response?e(new Uint8Array(r.response)):n(new Error("Empty XMLHttpRequest response."))},r.onerror=i=>n(i),r.send()})}ml.fetchFileAsBuffer=r6;const i6=async t=>{if(!t)return;const e=await $2(t).then(t6);if(!e)return;const{title:n,artist:r,lyrics:i}=e,s={name:"",singer:"",lyric:""};if((!n||!r)&&console.log("song don't have tags"),s.name=n||t.name,s.singer=r||"...",i!=null&&i.length){const o=i[0].value;o?o.includes("image/jpeg")?s.lyric="":s.lyric=o:s.lyric=""}return s};function V2({audioRef:t,admin:e}){const{setToasts:n}=Ii(),[r]=Lo(Er),{setUserSongs:i,userSongs:s,userData:o}=_n(),[a,l]=f.useState("idle"),[c,d]=f.useState([]),[h,p]=f.useState([]),m=f.useRef([]),v=f.useRef([]),w=f.useRef(!1),x=()=>{n(_=>[..._,{id:Oe(4),title:"error",desc:"Some thing went wrong"}])},y=async _=>{l("uploading");const T=_.target.files;if(!T.length){l("finish");return}let R=FF({by:e?"admin":r==null?void 0:r.email}),I=[];try{let S;for(S=0;S<=T.length-1;S++){const A=T[S],k=await i6(A);if(k){let N={...R,name:k.name,singer:k.singer};if((()=>s.some(L=>L.singer===N.singer&&L.name===N.name))()){console.log(">>>duplicate"),w.current=!0,m.current.push(N);continue}I.push(N),v.current=[...v.current,S],Object.assign(A,{for_song_id:I.length-1})}}if(s.length+v.current.length>20){l("finish-error"),n(A=>[...A,{id:Oe(4),title:"error",desc:"You have reach the upload limit"}]);return}if(!I.length){l("finish-error"),n(A=>[...A,{id:Oe(4),title:"error",desc:"Duplicated song files"}]);return}d(I);for(let A of v.current){let k=T[A];const{fileURL:N,filePath:H}=await k2({file:k,folder:"/songs/"}),L=ZR(I[k.for_song_id].name,r==null?void 0:r.email),q=k.for_song_id;I[q]={...I[q],id:L,song_file_path:H,song_url:N};const Z=t.current;Z.src=URL.createObjectURL(k),await g(I,q)}I.length>1&&n(A=>[...A,{id:Oe(4),title:"success",desc:"Song upload successful"}])}catch(S){console.log(S),l("finish"),x()}try{if(v.current=[],!e){const S=I.map(N=>N.id),k=[...s.map(N=>N.id),...S];await C0({songIds:k,userData:o}),I.length&&i([...I,...s])}d([]),w.current?(l("finish-error"),n(S=>[...S,{id:Oe(4),title:"warning",desc:"Song duplicate"}])):(l("finish"),I.length>1&&n(S=>[...S,{id:Oe(4),title:"success",desc:`${I.length} songs uploaded`}]))}catch(S){console.log(S),x()}},g=async(_,E)=>new Promise(T=>{const R=t.current,I=async()=>{let S=_[E];const A=+R.duration.toFixed(1)||99;S={...S,duration:A},_[E]=S,await mi(at(Le,"songs",S.id),S),d(_),p(k=>[...k,S.id]),R.removeEventListener("loadedmetadata",I),URL.revokeObjectURL(R.src),n(k=>[...k,{title:"success",id:Oe(4),desc:`'${S.name}' uploaded`}]),T()};R.addEventListener("loadedmetadata",I)});return{tempSongs:c,setTempSongs:d,addedSongIds:h,status:a,handleInputChange:y}}const F2=({className:t,onClick:e,theme:n})=>u.jsx("div",{onClick:()=>e(),className:`${n==null?void 0:n.content_hover_text} ${t} relative rounded-xl border group cursor-pointer`,children:u.jsx(V,{className:"absolute top-1/2 left-1/2 -translate-x-[50%] -translate-y-[50%] ",children:u.jsx(Wa,{className:"w-[40px] max-[549px]:w-[30px]"})})}),U2=({data:t,inDetail:e,theme:n,userPlaylists:r,userData:i,setUserPlaylists:s,onClick:o})=>{const a=Tl(),{setToasts:l}=Ii(),[c,d]=f.useState(!1),[h,p]=f.useState(!1),m=async()=>{d(!0);try{await DF({collection:"playlist",id:t.id});const y=[...r];y.splice(y.indexOf(t),1),await A2(y,i),s(y,[]),l(g=>[...g,{title:"success",id:Oe(4),desc:`Playlist '${t.name}' deleted`}]),d(!1),p(!1),e&&a(`${Ut.Playlist}`)}catch{l(g=>[...g,{title:"error",id:Oe(4),desc:`Playlist '${t.name}' Somethings went wrong`}])}},v=f.useMemo(()=>u.jsx(u.Fragment,{children:u.jsxs("div",{className:"w-[30vw]",children:[u.jsx("h1",{className:"text-[20px] font-semibold",children:"Chc cha ?"}),u.jsx("p",{className:"text-[red]",children:"This action cannot be undone"}),u.jsxs("div",{className:"flex gap-[10px] mt-[20px]",children:[u.jsx(V,{isLoading:c,className:`${n.content_bg} rounded-full text-[14px]`,variant:"primary",onClick:m,children:"Xa m n i !"}),u.jsx(V,{onClick:()=>p(!1),className:`bg-${n.alpha} rounded-full text-[14px]`,variant:"primary",children:"Khoan t t"})]})]})}),[c,n]),w={button:`rounded-full p-[4px] hover:bg-${n.alpha}`},x=f.useMemo(()=>window.innerWidth<550,[window.innerWidth]);return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"group",onClick:()=>x&&o&&o(),children:[u.jsxs("div",{className:"relative overflow-hidden rounded-xl",children:[u.jsx("img",{className:`transition  ${!x&&"group-hover:scale-105"}`,src:t.image_path||"https://placehold.co/400x400",alt:""}),!x&&u.jsxs("div",{className:"absolute hidden inset-0 group-hover:block",children:[u.jsx("div",{className:"absolute inset-0 bg-black opacity-60"}),u.jsxs("div",{className:"flex flex-row justify-center items-center h-full gap-4 relative z-10",children:[!e&&u.jsx(V,{onClick:()=>p(!0),className:w.button,children:u.jsx(li,{className:"w-[20px]"})}),u.jsx(V,{onClick:()=>o&&o(),className:w.button,children:u.jsx(Ro,{className:"w-[35px]"})}),!e&&u.jsx(V,{className:w.button,children:u.jsx(qg,{className:"w-[20px] text-white"})})]})]})]}),!e&&u.jsx("h5",{className:"text-[20px] font-[500] mt-[5px]",children:t.name})]}),h&&u.jsx(Ri,{setOpenModal:p,children:u.jsx(Xn,{theme:n,children:v})})]})};function s6(){const t=Ei(),{theme:e}=ct(),{setToasts:n}=Ii(),{loading:r,errorMsg:i,initial:s}=w0(),{updatePlaylistAfterChange:o}=$h(),{song:a,playlist:l}=Nn(bn),{userData:c,userSongs:d,userPlaylists:h,setUserSongs:p,setUserPlaylists:m}=_n(),[v,w]=f.useState(!1),[x,y]=f.useState(!1),[g,_]=f.useState("ADD_PLAYLIST"),[E,T]=f.useState(""),R=Tl(),[I,S]=f.useState([]),[A,k]=f.useState(!1),N=f.useRef(null),H=f.useRef(""),{tempSongs:L,addedSongIds:q,status:Z,handleInputChange:K}=V2({audioRef:N,message:H}),W=ie=>{_(ie),y(!0)},C=(ie,ue)=>{a.name!=ie.name&&t(cr({...ie,currentIndex:ue,song_in:"user"}))},O=f.useMemo(()=>{if(!(r||!s))return console.log("count song"),L.length+d.length},[L,d]),M=f.useMemo(()=>window.innerWidth<550,[]),D=()=>{S([]),k(!1)},G=()=>{w(!1),y(!1)},J=async()=>{const ie=[...d];try{w(!0);for(let Ne of I)await P2(Ne),ie.splice(ie.indexOf(Ne),1);const ue=ie.map(Ne=>Ne.id);C0({songIds:ue,userData:c}),p(ie),D(),G(),n(Ne=>[...Ne,{title:"success",id:Oe(4),desc:`${I.length} songs deleted`}])}catch{n(Ne=>[...Ne,{title:"error",id:Oe(4),desc:"Somethings went wrong"}])}},ee=async()=>{const ie=ZR(E,c.email);if(!ie||!E||!c){n(Vt=>[...Vt,{title:"error",id:Oe(4),desc:"Somethings went wrong"}]);return}const ue={by:(c==null?void 0:c.email)||"users",name:E,song_ids:[],count:0,time:0,image_path:"",id:ie},Ne=[...h,ue];try{w(!0),await mi(at(Le,"playlist",ie),ue),await A2(Ne,c),m(Ne,[]),G(),T(""),n(Vt=>[...Vt,{title:"success",id:Oe(4),desc:`'${E}' created`}])}catch{n(Cr=>[...Cr,{title:"error",id:Oe(4),desc:"Somethings went wrong"}])}},_e=ie=>{l.name!=ie.name&&t(ju(ie)),R(`${Ut.Playlist}/${ie.name}`)},ce=(ie,ue)=>{if(!ie||!ue)return;const Ne=[...ue.song_ids,ie.id],Vt=ue.time+ie.duration,Cr={...ue,time:Vt,song_ids:Ne,count:Ne.length};o({newPlaylist:Cr})},z=()=>L.map((ie,ue)=>{const Ne=q.some(Vt=>Vt===ie.id);return u.jsx("div",{className:"w-full max-[549px]:w-full",children:u.jsx(pd,{theme:e,inProcess:!Ne,data:ie},ue)},ue)}),Q=()=>d.map((ie,ue)=>{const Ne=ie.id===a.id&&a.song_in==="user";return M?u.jsx("div",{className:"w-full max-[549px]:w-full",children:u.jsx(pl,{theme:e,onClick:()=>C(ie,ue),active:Ne,data:ie,isCheckedSong:A,selectedSongList:I,setIsCheckedSong:k,setSelectedSongList:S},ue)},ue):u.jsx("div",{className:"w-full max-[549px]:w-full",children:u.jsx(pd,{theme:e,onClick:()=>C(ie,ue),active:Ne,data:ie,userData:c,userSongs:d,isCheckedSong:A,userPlaylists:h,selectedSongList:I,setUserSongs:p,setIsCheckedSong:k,setSelectedSongList:S,addSongToPlaylist:ce,handleOpenParentModal:W},ue)},ue)}),me={button:`${e.content_bg} rounded-full`},fe=f.useMemo(()=>u.jsx(u.Fragment,{children:u.jsxs("div",{className:"w-[30vw]",children:[u.jsxs("h1",{className:"text-[20px] font-semibold",children:["Are you sure (delete ",I.length," songs) ?"]}),u.jsx("p",{className:"text-[red] text-[18px]",children:"This action cannot be undone"}),u.jsxs("div",{className:"flex gap-[10px] mt-[20px]",children:[u.jsx(V,{isLoading:v,className:`${e.content_bg} rounded-full text-[14px]`,variant:"primary",onClick:J,children:"Xa m n i !"}),u.jsx(V,{onClick:()=>y(!1),className:`bg-${e.alpha} rounded-full text-[14px]`,variant:"primary",children:"Khoan t t"})]})]})}),[v,e,I]),qe=u.jsxs("div",{className:"w-[300px]",children:[u.jsx(V,{className:"absolute top-2 right-2 text-white",onClick:()=>y(!1),children:u.jsx(li,{className:"w-6 h-6"})}),u.jsx("h2",{className:"text-[18px] font-semibold text-white",children:"Add Playlist"}),u.jsx("input",{className:`bg-${e.alpha} px-[20px] rounded-full outline-none mt-[10px] text-[16px]  h-[35px] w-full`,type:"text",placeholder:"name...",value:E,onChange:ie=>T(ie.target.value)}),u.jsx(V,{isLoading:v,onClick:()=>ee(),variant:"primary",className:`${me.button} mt-[15px]`,children:"Save"})]}),an=u.jsx("div",{className:"w-[300px]",children:H.current}),Rr={ADD_PLAYLIST:qe,MESSAGE:an,CONFIRM:fe},Ci=[...Array(2).keys()].map(ie=>u.jsxs("div",{className:"w-1/4 p-[8px] max-[459px]:w-1/2",children:[u.jsx(Re,{className:"pt-[100%] rounded-[8px]"}),u.jsx(Re,{className:"h-[20px] mt-[9px] w-[50%]"})]},ie)),ys=[...Array(5).keys()].map(ie=>u.jsxs("div",{className:"flex items-center p-[10px]",children:[u.jsx(Re,{className:"h-[18px] w-[18px]"}),u.jsx(Re,{className:"h-[54px] w-[54px] ml-[10px] rounded-[4px]"}),u.jsxs("div",{className:"ml-[10px]",children:[u.jsx(Re,{className:"h-[20px] mb-[5px] w-[150px]"}),u.jsx(Re,{className:"h-[12px] mt-[5px] w-[100px]"})]})]},ie));return i?u.jsx("h1",{children:i}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"pb-[30px] ",children:[u.jsx("h3",{className:"text-2xl font-bold mb-[10px]",children:"Playlist"}),u.jsxs("div",{className:"flex flex-row -mx-[8px] flex-wrap",children:[!!h.length&&!r&&h.map((ie,ue)=>u.jsx("div",{className:"w-1/4 p-[8px] max-[459px]:w-1/2",children:u.jsx(U2,{onClick:()=>_e(ie),theme:e,data:ie,userPlaylists:h,userData:c,setUserPlaylists:m})},ue)),!r&&u.jsx("div",{className:"w-1/4 p-[8px] max-[459px]:w-1/2 mb-[25px]",children:u.jsx(F2,{theme:e,className:"pt-[100%]",onClick:()=>W("ADD_PLAYLIST")})}),r&&Ci]})]}),u.jsxs("div",{className:"pb-[30px] max-[549px]:pb-[80px]",children:[u.jsxs("div",{className:"flex justify-between mb-[10px]",children:[u.jsx("h3",{className:"text-2xl font-bold",children:"Songs"}),u.jsx("input",{onChange:K,type:"file",multiple:!0,accept:".mp3",id:"file",className:"hidden"}),u.jsx("audio",{ref:N,className:"hidden"}),u.jsx("div",{className:"flex items-center",children:u.jsxs("label",{className:`${e.content_bg} ${Z==="uploading"||r?"opacity-60 pointer-events-none":""} rounded-full flex px-[20px] py-[4px] text-white cursor-pointer`,htmlFor:"file",children:[u.jsx(Wa,{className:"w-[20px] mr-[5px]"}),"Upload"]})})]}),u.jsxs("div",{className:`flex gap-[12px] items-center border-b border-${e.alpha} h-[50px] mb-[10px]`,children:[r&&u.jsx(Re,{className:"h-[20px] w-[150px]"}),!r&&u.jsx(u.Fragment,{children:A?u.jsx("p",{className:"text-[14px]] font-semibold text-gray-500 w-[100px]",children:I.length+" selected"}):u.jsx("p",{className:"text-[14px]] font-semibold text-gray-500 w-[100px]",children:O+" songs"})}),A&&d.length&&u.jsxs(u.Fragment,{children:[u.jsx(V,{onClick:()=>S(d),variant:"primary",className:me.button,children:"All"}),u.jsx(V,{onClick:()=>W("CONFIRM"),variant:"primary",className:me.button,children:"Delete"}),u.jsx(V,{onClick:()=>{k(!1),S([])},className:"px-[5px]",children:u.jsx(li,{className:"w-[25px]"})})]})]}),u.jsxs("div",{className:"-mx-[8px] min-h-[50vh]",children:[O&&!r?u.jsxs(u.Fragment,{children:[!!L.length&&z(),!!d.length&&Q()]}):u.jsx(u.Fragment,{}),r&&ys]})]}),x&&u.jsx(Ri,{setOpenModal:y,children:u.jsx(Xn,{theme:e,children:Rr[g]})})]})}const o6=()=>{const{theme:t}=ct(),{userPlaylists:e}=_n(),[n,r]=f.useState(!1),[i,s]=f.useState(""),o=()=>{s(""),r(!1)};return u.jsxs("div",{className:"",children:[u.jsx("h1",{className:"text-[24px] font-bold",children:"Playlist"}),u.jsxs("div",{className:"flex flex-row gap-y-4 mt-[10px] flex-wrap mb-[30px]",children:[u.jsx("div",{className:"w-1/4 max-[549px]:w-[50%]",children:u.jsx(F2,{className:"pb-[100%]",onClick:()=>r(!0),theme:t})}),e.map((a,l)=>u.jsx("div",{className:"w-1/4 px-4",children:JSON.stringify(a)},l))]}),n&&u.jsx(Ri,{setOpenModal:r,children:u.jsxs("div",{className:"w-[300px] bg-slate-800 rounded-xl px-5 py-7 relative",children:[u.jsx(V,{className:"absolute top-2 right-2 text-white",onClick:()=>r(!1),children:u.jsx(li,{className:"w-6 h-6"})}),u.jsx("h2",{className:"text-xl text-white",children:"Add Playlist"}),u.jsx("input",{className:"bg-gray-300 rounded outline-none mt-3 text-xl pl-5 h-[40px] w-full",type:"text",placeholder:"Playlist...",value:i,onChange:a=>s(a.target.value)}),u.jsx("button",{onClick:()=>o(),className:`mt-8 bg-indigo-600 h-[40px] w-full text-white text-xl rounded-full hover:brightness-90 ${i?"":"opacity-60 pointer-events-none"}`,children:"Add new"})]})})]})};function B2({children:t,active:e,done:n,firstTimeRender:r,inUpload:i,className:s}){const o=f.useRef(null);return f.useEffect(()=>{e&&o.current.scrollIntoView({behavior:r?"instant":"smooth",block:"center"})},[e]),u.jsxs("li",{ref:o,className:`${s} py-[10px] max-[549px]:text-[24px] ${i?"text-[16px]":"text-[40px]"} max-[549px]:text-center font-bold ${e?"opacity-100":""} ${n?"opacity-40":""} ${i&&"flex pl-[20px]"}`,children:[t,i&&e&&u.jsx("span",{className:"ml-[10px] text-[16px]",children:"(Next)"})]})}function a6({audioEle:t,theme:e,song:n,lyric:r}){const[i,s]=f.useState(!1),[o,a]=f.useState(!1),[l,c]=f.useState(r?r.base:""),[d,h]=f.useState([]),[p,m]=f.useState(r?r.real_time:[]),[v,w]=f.useState(!1),[x,y]=f.useState(1),[g,_]=f.useState(!1),[E,T]=f.useState(!1),[R,I]=f.useState(p?p.length:0),S=f.useRef(!0),A=f.useRef(null),k=f.useRef(0),N=f.useRef(0),{refs:H,floatingStyles:L,context:q}=Zl({open:v,onOpenChange:w,placement:"bottom-start",middleware:[E0(10)],whileElementsMounted:Ql}),Z=Yl(q),K=Jl(q),{getReferenceProps:W,getFloatingProps:C}=ec([Z,K]),O=()=>{t&&(t.play(),s(!0),a(!0))},M=()=>{t&&(t.pause(),s(!1))},D=fe=>{t&&(t.playbackRate=fe,y(fe))},G=()=>{if(!A.current)return;const fe=A.current;c(fe.value),T(!1)},J=()=>{if(d.length&&!(R>=d.length)&&N.current!=+t.currentTime.toFixed(1)&&t){k.current=+t.currentTime.toFixed(1);const fe=d[R],qe={start:N.current,text:fe,end:k.current};N.current=k.current,m([...p,qe]),I(R+1)}},ee=()=>{if(!(R<=0)&&t){N.current=p[R-1].start,k.current=0;const fe=p.slice(0,R-1);m(fe),I(R-1)}},_e=()=>{navigator.clipboard.writeText(JSON.stringify(p))},ce=async()=>{try{_(!0),console.log("lyric result",p),await mi(at(Le,"lyrics",n.id),{real_time:p,base:l},{merge:!0}),await mi(at(Le,"songs",n.id),{lyric_id:n.id},{merge:!0}),_(!1)}catch(fe){console.log({message:fe})}},z={section:`bg-${e.alpha} py-[10px] px-[20px] rounded-[12px] mb-[30px] w-full`,row:"flex no-scrollbar justify-between gap-[20px]",col:"flex-grow flex flex-col gap-[20px]",formGroup:"flex flex-col gap-[5px] flex-grow",label:"text-md font-[500]",button:`${e.content_bg} rounded-full text-white text-[14px]`,disable:" opacity-60 pointer-events-none ",icon:"h-[20px] w-[20px]",lyricBox:"list-none h-full max-[549px]:w-[100%]"},Q=u.jsxs("div",{className:"flex gap-[20px] mb-[20px]",children:[u.jsx(V,{variant:"primary",ref:H.setReference,onClick:()=>T(!0),className:z.button,children:l?"Change lyric":"Add lyric"}),u.jsxs("button",{ref:H.setReference,...W(),className:z.button+"  inline-flex items-center hover:brightness-90 px-[20px] py-[5px] text-[14px] bg-[#ca4954] rounded-full text-white text-[14px]",children:[u.jsx(Ub,{className:"h-[20px] w-[20px] mr-[5px]"}),"Speed"]}),i?u.jsx(V,{variant:"primary",onClick:M,className:z.button+(o?"":z.disable),children:"Pause"}):u.jsx(V,{variant:"primary",onClick:O,className:z.button+(i?z.disable:""),children:"Play"}),u.jsx(V,{variant:"primary",onClick:J,className:z.button+(!o||!d.length?z.disable:""),children:"Add"}),u.jsx(V,{variant:"primary",onClick:ee,className:z.button+(!o||!d.length?z.disable:""),children:"Remove"}),u.jsx(V,{onClick:_e,variant:"primary",className:z.button+(o?"":z.disable),children:"Copy"})]});f.useEffect(()=>{if(l){const fe=l.split(/\r?\n/).filter(qe=>qe);h(fe)}d.length&&S.current&&(S.current=!1),console.log("check firstTimeRender",S.current)},[l]),f.useEffect(()=>{if(p.length){const fe=p[p.length-1].end;t.currentTime=fe,N.current=fe}},[]);const me={listItem:`w-full cursor-pointer py-[2px] ${e.content_hover_text}`};return u.jsxs(u.Fragment,{children:[Q,u.jsxs("div",{className:z.row+" h-[60vh] min-h-[200px] overflow-auto "+z.section,children:[u.jsx("ul",{className:z.lyricBox+"min-w-[50%] max-w-[50%] pr-[20px]",children:d.length?u.jsx(u.Fragment,{children:d.map((fe,qe)=>u.jsx(B2,{firstTimeRender:S.current,className:"mb-[19px]",inUpload:!0,active:qe===R,done:qe!=R,children:fe},qe))}):u.jsx("h1",{children:"Base lyric..."})}),u.jsx("ul",{className:z.lyricBox+" border-none w-[50%]",children:!!(p!=null&&p.length)&&p.map((fe,qe)=>u.jsxs("li",{className:"mb-[5px] pt-[10px]",children:[u.jsx("p",{className:"text-[16px] font-bold",children:fe.text}),u.jsxs("div",{className:"flex gap-[10px]",children:[u.jsxs("button",{className:` ${e.content_hover_text}`,onClick:()=>t.currentTime=fe.start,children:[fe.start,"s"]}),u.jsx("span",{children:" - "}),u.jsxs("button",{className:` ${e.content_hover_text}`,onClick:()=>t.currentTime=fe.end,children:[fe.end,"s"]})]})]},qe))})]}),u.jsx(V,{isLoading:g,className:`${e.content_bg} text-[14px] rounded-full mt-[20px]`,variant:"primary",onClick:()=>ce(),children:"Save"}),v&&u.jsx(Xl,{context:q,modal:!1,children:u.jsx("div",{className:"z-[99]",ref:H.setFloating,style:L,...C(),children:u.jsx(Xn,{theme:e,children:u.jsxs("ul",{className:"w-[100px] text-center text-[14px]",children:[u.jsx("li",{onClick:()=>D(1),className:`
                  ${x===1&&e.content_text} 
                  ${me.listItem}`,children:"1x"}),u.jsx("li",{onClick:()=>D(1.2),className:`
                  ${x===1.2&&e.content_text}
                  ${me.listItem}`,children:"1.2x"}),u.jsx("li",{onClick:()=>D(1.5),className:`
                  ${x===1.5&&e.content_text}
                  ${me.listItem}`,children:"1.5x"})]})})})}),E&&u.jsx(Ri,{setOpenModal:T,children:u.jsxs("div",{className:`w-[700px] max-w-[90vw]  rounded-[8px] p-[20px] ${e.side_bar_bg}`,children:[u.jsx("textarea",{ref:A,value:l,onChange:fe=>c(fe.target.value),className:"w-full rounded-[4px] mb-[10px] min-h-[50vh] bg-transparent border text-[#333] p-[10px]"}),u.jsx(V,{variant:"primary",onClick:()=>G(),className:z.button,children:"Save"})]})})]})}function l6(){const{theme:t}=ct(),[e,n]=f.useState(),[r,i]=f.useState({base:"",real_time:[]}),s=f.useRef(null),o=OE(),a=Tl();return f.useEffect(()=>{(async()=>{try{const c=at(Lr(Le,"songs"),o==null?void 0:o.id),d=await cl(c),h=d.data();if(h.by==="admin"&&a(Ut.Home),h.lyric_id){const m=(await cl(at(Le,"lyrics",h.lyric_id))).data();i(m)}n({...h,id:d.id})}catch(c){console.log({message:c})}})()},[]),u.jsxs("div",{className:"pt-[30px]",children:[u.jsx("audio",{ref:s,src:e&&e.song_url,className:"hidden"}),s.current&&e&&u.jsx(a6,{lyric:r,audioEle:s.current,theme:t,song:e})]})}function z2({setIsOpenSetting:t,setSettingComp:e,setIsOpenMenu:n,loggedInUser:r}){const{theme:i,setTheme:s}=ct(),o=p=>{localStorage.setItem("theme",JSON.stringify(p)),s(p)},a=p=>u.jsxs("div",{className:"flex justify-between py-[15px]",children:[u.jsx("h1",{className:"text-xl font-bold",children:p}),u.jsx(V,{onClick:()=>t(!1),size:"normal",variant:"circle",children:u.jsx(li,{})})]}),l=u.jsxs(u.Fragment,{children:[a("Zingmp3 clone"),u.jsxs("div",{className:"",children:[u.jsx("h5",{className:"text-lg font-bold",children:"Cc cng ngh s dng:"}),u.jsxs("ul",{children:[u.jsx("li",{className:"text-lg my-[10px] ml-[20px]",children:"- React - Vite"}),u.jsx("li",{className:"text-lg my-[10px]  ml-[20px]",children:"- Tailwind css"})]}),u.jsx("a",{href:"asldj",target:"_blank",className:"text-lg font-bold",children:"#Github"})]})]}),c=u.jsxs(u.Fragment,{children:[a("Themes"),u.jsxs("div",{className:"overflow-auto no-scrollbar h-[calc(70vh-60px)]  pb-[5vh]",children:[u.jsx("h2",{className:"text-md font-semibold mb-[10px]",children:"Dark"}),u.jsxs("div",{className:"flex flex-row -mx-[10px] flex-wrap gap-y-[20px]",children:[u.jsxs("div",{className:"w-[25%] px-[10px] max-[549px]:w-[50%]",children:[u.jsx("div",{onClick:()=>o("red"),className:"from-[30%]  pt-[100%] rounded-xl bg-[#3b1113]"}),u.jsx("span",{className:"text-sm",children:""})]}),u.jsxs("div",{className:"w-[25%] px-[10px] max-[549px]:w-[50%]",children:[u.jsx("div",{onClick:()=>o("deep_blue"),className:"from-[30%]  pt-[100%] rounded-xl bg-[#111f3b]"}),u.jsx("span",{className:"text-sm",children:"Xanh m"})]})]}),u.jsx("h2",{className:"text-md font-semibold mb-[10px] mt-[30px]",children:"Light"}),u.jsx("div",{className:"flex flex-row -mx-[10px] flex-wrap gap-y-[20px]",children:u.jsxs("div",{className:"w-[25%] px-[10px] max-[549px]:w-[50%]",children:[u.jsx("div",{onClick:()=>o("green_light"),className:"from-[30%] bg-[#c0d8d8]  pt-[100%] rounded-xl"}),u.jsx("span",{className:"text-sm",children:"Xanh nht"})]})})]})]}),d=async()=>{try{await R3(Er)}catch(p){console.log("signOut error",{messsage:p})}},h=p=>{n(!1),t(!0);let m;switch(p){case"themes":m=c;break;case"info":m=l;break;default:m=u.jsx("h1",{children:"Nothing to show"})}e(m)};return u.jsxs(Xn,{theme:i,children:[u.jsxs(V,{onClick:()=>h("themes"),children:[u.jsx(Cb,{className:"w-6 h-6 mr-2"}),"Themes"]}),r&&u.jsxs(V,{onClick:()=>d(),children:[u.jsx(xN,{className:"w-6 h-6 mr-2"}),"Log out"]}),u.jsxs(V,{onClick:()=>h("info"),children:[u.jsx(_b,{className:"w-6 h-6 mr-2"}),"Info"]})]})}function W2(){var R;const[t]=OR(Er),{theme:e}=ct(),[n,r]=Lo(Er),[i,s]=f.useState(!1),[o,a]=f.useState(!1),[l,c]=f.useState(),{refs:d,floatingStyles:h,context:p}=Zl({open:i,onOpenChange:s,placement:"right-start",middleware:[E0(0),s2(),o2()],whileElementsMounted:Ql}),m=Yl(p),v=Jl(p),w=C2(p),{getReferenceProps:x,getFloatingProps:y}=ec([m,v,w]),g=()=>{t()},_=[...Array(3).keys()].map(I=>u.jsxs("div",{className:"px-[10px] py-[5px] flex items-center",children:[u.jsx(Re,{className:"w-[25px] h-[25px] flex-shrink-0"}),u.jsx(Re,{className:"w-[80px] h-[19px] ml-[5px]"})]},I)),E=u.jsxs("div",{className:"flex items-center",children:[u.jsx(Re,{className:"w-[36px] h-[36px] flex-shrink-0 rounded-full"}),u.jsx(Re,{className:"w-[104px] h-[16px] ml-[5px]"})]}),T={container:`pt-[30px] w-[180px] flex-shrink-0 border-r-[1px] h-screen overflow-y-auto ${e.side_bar_bg} border-${e.alpha}`,button:`px-[10px] py-[5px] w-full text-[14px] font-[500] ${e.content_hover_text}`,text:e.type==="light"?"text-[#333]":"text-white",icon:"w-[25px] mr-[5px]",divide:`h-[1px]  w-[calc(100%-20px)] mb-[10px] mt-[20px] mx-auto bg-${e.alpha}`,userName:"text-[16px] font-[500] ml-[8px] line-clamp-1",imageFrame:`w-[36px] h-[36px] flex-shrink-0 rounded-full overflow-hidden ${n!=null&&n.photoURL?"":"flex items-center justify-center bg-[#ccc]"}`};return u.jsxs("div",{className:`${T.container} + ${T.text}`,children:[u.jsx("div",{className:"px-[10px] flex items-center",children:r?E:u.jsxs(u.Fragment,{children:[u.jsx("div",{className:T.imageFrame,children:n!=null&&n.photoURL?u.jsx("img",{src:n.photoURL,className:"w-full",alt:""}):u.jsx("h1",{className:"text-[20px]",children:n?(R=n==null?void 0:n.displayName)==null?void 0:R.charAt(1):"Z"})}),u.jsx("h3",{className:T.userName,children:n?n==null?void 0:n.displayName:"Guest"})]})}),u.jsx("div",{className:T.divide}),u.jsxs("div",{className:"flex flex-col gap-[15px] items-start",children:[r&&_,!r&&u.jsxs(u.Fragment,{children:[u.jsx(Cu,{className:"w-full",to:Ut.Home,children:u.jsxs(V,{className:T.button,children:[u.jsx(gb,{className:T.icon}),"Discover"]})}),n?u.jsx(Cu,{className:"w-full",to:Ut.MySongs,children:u.jsxs(V,{className:T.button,children:[u.jsx(fa,{className:T.icon}),"My songs"]})}):u.jsxs(V,{onClick:()=>g(),className:T.button,children:[u.jsx(fN,{className:T.icon}),"Login"]}),u.jsxs("button",{ref:d.setReference,...x(),className:`flex items-center hover:brightness-75 ${T.button} ${i&&e.content_text}`,children:[u.jsx(ZE,{className:T.icon}),"Settings"]})]})]}),i&&u.jsx(Xl,{context:p,modal:!1,children:u.jsx("div",{className:"z-[99]",ref:d.setFloating,style:h,...y(),children:u.jsx(z2,{loggedInUser:n,setIsOpenMenu:s,setIsOpenSetting:a,setSettingComp:c})})}),o&&u.jsx(Ri,{setOpenModal:a,children:u.jsx(Xn,{theme:e,children:l})})]})}function A0({children:t}){const[e,n]=Lo(Er),r=f.useRef(!0);return f.useEffect(()=>{e&&r.current},[e]),console.log("check auth loading",n),t}function c6({toast:t,theme:e}){const n={icon:"w-[30px] max-[549px]:w-[25px]",container:`text-white px-[20px] py-[10px] rounded-[4px] flex items-center  ${e.bottom_player_bg} border border-${e.alpha}`,text:"font-[500] text-[16px] max-[549px]:text-[14px]"};return u.jsxs("div",{className:`${n.container} animate-[fadeIn_0.3s_linear]`,children:[u.jsxs("span",{className:"mr-[10px]",children:[t.title==="success"&&u.jsx(jN,{className:`${n.icon} text-emerald-500 `}),t.title==="error"&&u.jsx(n5,{className:`${n.icon} text-red-500`}),t.title==="warning"&&u.jsx(cb,{className:`${n.icon} text-yellow-500`})]}),u.jsx("p",{className:n.text,children:t.desc})]})}const H2=({time:t=5e3,autoClose:e})=>{const{setToasts:n,toasts:r}=Ii(),{theme:i}=ct(),[s,o]=f.useState("");f.useEffect(()=>{s&&n(l=>l.filter(c=>c.id!=s))},[s]),f.useEffect(()=>{if(!e||!r.length)return;const l=r[r.length-1].id;setTimeout(()=>{console.log("run time out check id ",l),o(l)},t)},[r]);const a={container:"fixed z-[99] bottom-[120px] right-[30px] max-[549px]:bottom-[unset] max-[540px]:top-[10px] max-[540px]:right-[10px]"};return u.jsx(u.Fragment,{children:xl.createPortal(u.jsx("div",{className:a.container,children:u.jsx("div",{className:"flex flex-col gap-[10px]",children:!!r.length&&r.map((l,c)=>u.jsx(c6,{theme:i,toast:l},c))})}),document.getElementById("portals"))})},u6=({children:t})=>{const{theme:e}=ct();return u.jsxs(A0,{children:[u.jsxs("div",{className:`h-screen w-screen flex 
         ${e.type==="dark"?"text-white":"text-[#333]"}
         ${e.container}
         `,children:[u.jsx(W2,{}),u.jsx("div",{className:"w-full overflow-auto h-full",children:u.jsx("div",{className:"px-[40px] max-[549px]:px-[10px]",children:t})})]}),u.jsx(H2,{autoClose:!0})]})};function d6(){const{theme:t}=ct(),[e,n]=Lo(Er),[r,i]=f.useState(!1),[s,o]=f.useState(!1),[a,l]=f.useState(""),[c,d]=f.useState("songs"),[h,p]=f.useState([]),[m,v]=f.useState([]),[w,x]=f.useState([]),y=f.useRef(null),g=f.useRef(""),{addedSongIds:_,handleInputChange:E,status:T,tempSongs:R}=V2({audioRef:y,message:g,admin:!0}),I=f.useRef(null),S=async()=>{try{console.log("get songs"),o(!0);const C=Ms(Lr(Le,"songs"),$s("by","==","admin")),O=await Vs(C);if(O.docs){const M=O.docs.map(D=>({...D.data(),id:D.id}));p(M)}}catch(C){console.log(C),l("get users list error")}finally{o(!1)}},A=async()=>{console.log("get user");try{o(!0);const C=Ms(Lr(Le,"users"),$s("email","!=",e==null?void 0:e.email)),O=await Vs(C);if(O.docs){const M=O.docs.map(D=>D.data());console.log("get user",M),v(M)}}catch(C){console.log(C),l("get users list error")}finally{o(!1)}},k=C=>{let O=[...w];const M=O.indexOf(C);M===-1?O.push(C):O.splice(M,1),x(O)},N=()=>w.length?x([]):x(h),H=async()=>{try{for(let C of w){const O=y0(_0,C.song_file_path);await XR(O),await ul(at(Le,"songs",C.id)),C.lyric_id&&await ul(at(Le,"lyrics",C.lyric_id))}}catch(C){console.log({message:C})}},L=()=>h.map((C,O)=>{const M=w.length?w.some(D=>C.name===D.name):!1;return u.jsxs("tr",{className:"",children:[u.jsx("td",{className:`${W.td} text-center`,children:u.jsx("input",{checked:M,onChange:()=>k(C),className:"scale-[1.2]",type:"checkbox"})}),u.jsx("td",{className:W.td,children:u.jsx("div",{className:"h-[44px] w-[44px]",children:u.jsx("img",{src:C.image_url||"https://placehold.co/100x100/png",alt:""})})}),u.jsx("td",{className:W.td,children:C.name}),u.jsx("td",{className:W.td,children:C.singer}),u.jsx("td",{className:W.td,children:u.jsxs("div",{className:"flex items-center gap-[5px]",children:[u.jsx(V,{variant:"circle",children:u.jsx(Kg,{className:"w-[20px]"})}),u.jsx(V,{variant:"circle",children:u.jsx(za,{className:"w-[20px]"})})]})})]},O)}),q=()=>R.map((C,O)=>{const M=_.some(D=>D===C.id);return u.jsxs("tr",{className:`${M?"opacity-60":""}`,children:[u.jsx("td",{className:`${W.td} text-center`,children:u.jsx("input",{checked:!1,className:"scale-[1.2]",type:"checkbox"})}),u.jsx("td",{className:W.td,children:u.jsx("div",{className:"h-[44px] w-[44px]",children:u.jsx("img",{src:C.image_url||"https://placehold.co/100x100/png",alt:""})})}),u.jsx("td",{className:W.td,children:C.name}),u.jsx("td",{className:W.td,children:C.singer}),u.jsx("td",{className:W.td,children:!M&&u.jsx("h1",{children:"...in process"})})]},O)}),Z=()=>m.map((C,O)=>(console.log("check user",C),u.jsxs("tr",{className:"",children:[u.jsx("td",{className:`${W.td} text-center`,children:u.jsx("input",{className:"scale-[1.2]",type:"checkbox"})}),u.jsx("td",{className:W.td,children:u.jsx("div",{className:"h-[44px] w-[44px]",children:u.jsx("img",{src:C.photoURL||"https://placehold.co/100x100/png",alt:""})})}),u.jsx("td",{className:W.td,children:C.display_name}),u.jsx("td",{className:W.td,children:C.email}),u.jsx("td",{className:W.td,children:d9(C==null?void 0:C.latest_seen)}),u.jsx("td",{className:W.td,children:u.jsx("div",{className:"flex items-center gap-[5px]",children:u.jsx(V,{variant:"circle",children:u.jsx(za,{className:"w-[20px]"})})})})]},O))),K=f.useCallback(()=>{i(!!R.length||!!h.length)},[R,h]);f.useEffect(()=>{K()},[h,R]),f.useEffect(()=>{},[n]),f.useEffect(()=>{c==="users"&&!m.length&&A(),c==="songs"&&!h.length&&S()},[c]);const W={button:`${t.content_bg} rounded-full`,inActiveBtnBg:`bg-${t.alpha}`,text:`${t.type==="light"?"text-[#333]":"text-white"}`,td:`py-[10px] my-[10px] border-${t.alpha} border-b-[1px]`,th:"py-[5px]",tableContainer:`border border-${t.alpha} rounded-[4px] mt-[30px]`,tableHeader:`border-b border-${t.alpha} ${t.side_bar_bg} flex items-center h-[50px] gap-[15px]`};return u.jsxs(u.Fragment,{children:[u.jsx("input",{onChange:E,type:"file",multiple:!0,accept:".mp3",id:"file",className:"hidden"}),u.jsx("audio",{ref:y,className:"hidden"}),!n&&u.jsxs("div",{className:`${t.container} ${W.text} min-h-screen`,children:[u.jsx("div",{className:`${t.side_bar_bg} `,children:u.jsxs("div",{className:"container mx-auto flex justify-between items-center h-[50px]",children:[u.jsx("h1",{className:"text-[20px] uppercase",children:"Zing dash board"}),u.jsxs("div",{className:"flex items-center",children:[(e==null?void 0:e.displayName)&&u.jsx("p",{className:"text-[14px] mr-[10px]",children:e.displayName}),u.jsx("div",{className:"w-[30px] h-[30px] rounded-full overflow-hidden border-[#ccc] border",children:(e==null?void 0:e.photoURL)&&u.jsx("img",{src:e.photoURL,className:"w-full",alt:""})})]})]})}),u.jsxs("div",{className:"container mx-auto mt-[30px] pb-[60px]",children:[u.jsxs("div",{className:"",children:[u.jsx(V,{onClick:()=>d("songs"),className:`${c==="songs"?t.content_bg:W.inActiveBtnBg}  rounded-full`,variant:"primary",children:"Songs"}),u.jsx(V,{onClick:()=>d("users"),className:` ${c==="users"?t.content_bg:W.inActiveBtnBg} rounded-full ml-[10px]`,variant:"primary",children:"Users"})]}),a&&u.jsx("p",{children:a}),u.jsxs("div",{className:W.tableContainer,children:[u.jsx("div",{className:W.tableHeader,children:w.length?u.jsxs(u.Fragment,{children:[u.jsxs("h2",{className:"ml-[20px]",children:[w.length," selected"]}),u.jsx(V,{onClick:()=>H(),variant:"primary",className:W.button,children:"Delete"}),u.jsx(V,{onClick:()=>x([]),variant:"primary",className:W.button,children:u.jsx(li,{className:"w-[20px]"})})]}):u.jsx("label",{className:`${t.content_bg} ${T==="uploading"?"opacity-60 pointer-events-none":""} rounded-full ml-[auto] mr-[10px] px-[20px] py-[4px] text-white cursor-pointer`,htmlFor:"file",children:"Upload"})}),c==="songs"&&u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:`${t.bottom_player_bg} w-full text-[12px]`,children:u.jsxs("tr",{children:[u.jsx("th",{className:`${W.th} w-[5%]`,children:u.jsx("input",{onChange:()=>N(),ref:I,checked:h.length?h.length===w.length:!1,type:"checkbox"})}),u.jsx("th",{}),u.jsx("th",{className:`${W.th} text-left`,children:"Name"}),u.jsx("th",{className:`${W.th} text-left`,children:"Singer"}),u.jsx("th",{className:`${W.th} text-left`,children:"Action"})]})}),u.jsx("tbody",{children:r?u.jsxs(u.Fragment,{children:[!!R.length&&q(),!!h.length&&L()]}):s?u.jsx("tr",{children:u.jsx("td",{colSpan:5,className:`${W.td} text-center`,children:u.jsx("p",{children:"...Loading"})})}):u.jsx("tr",{children:u.jsx("td",{colSpan:5,className:`${W.td} text-center`,children:u.jsx("p",{children:"No song jet..."})})})})]}),c==="users"&&u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{}),u.jsx("th",{}),u.jsx("th",{className:"text-left",children:"Name"}),u.jsx("th",{className:"text-left",children:"Email"}),u.jsx("th",{className:"text-left",children:"Latest Seen"})]})}),u.jsx("tbody",{children:Z()})]})]})]})]})]})}function h6(){const t=OE(),e=Ei(),{theme:n}=ct(),{setToasts:r}=Ii(),{loading:i,errorMsg:s,initial:o}=w0(),{userData:a,adminSongs:l,userSongs:c,userPlaylists:d,setUserPlaylists:h,setUserSongs:p}=_n(),{song:m,playlist:v}=Nn(bn),{updatePlaylistAfterChange:w}=$h(),[x,y]=f.useState(!1),[g,_]=f.useState([]),E=f.useRef(!0),[T,R]=f.useState(""),[I,S]=f.useState(!1),[A,k]=f.useState(),[N,H]=f.useState(!1),[L,q]=f.useState([]),[Z,K]=f.useState(!1),[W,C]=f.useState(v.name),{refs:O,floatingStyles:M,context:D}=Zl({open:N,onOpenChange:H,middleware:[i2()],whileElementsMounted:Ql}),G=Yl(D),J=Jl(D),{getReferenceProps:ee,getFloatingProps:_e}=ec([G,J]),ce=(F,ae)=>{e(cr({...F,currentIndex:ae,song_in:v.by!="admin"?`user-playlist-${v.name}`:`admin-playlist-${v.name}`}))},z=()=>{const F=g[0];ce(F,0)},Q=f.useCallback(async()=>{const F=L.filter(cn=>!v.song_ids.find(Do=>Do===cn.id)),ae=[...g,...F],ln=Yf({newPlaylistSongs:ae,existingPlaylist:v});await w({newPlaylist:ln}),r(cn=>[...cn,{title:"success",id:Oe(4),desc:`${F.length} songs added`}]),Rr()},[L,I]),me=async F=>{if(H(!1),!v.song_ids)return;const ae=[...g];ae.splice(ae.indexOf(F),1);const ln=Yf({newPlaylistSongs:ae,existingPlaylist:v});await w({newPlaylist:ln}),r(cn=>[...cn,{title:"success",id:Oe(4),desc:`${F.name} removed`}])},fe=async()=>{if(H(!1),!v.song_ids)return;if(L.length===1)return me(L[0]);const F=[...g];for(let ln of L)F.splice(F.indexOf(ln),1);const ae=Yf({newPlaylistSongs:F,existingPlaylist:v});await w({newPlaylist:ae}),r(ln=>[...ln,{title:"success",id:Oe(4),desc:`${L.length} songs removed`}])},qe=async()=>{try{y(!0),y(!1),S(!1)}catch(F){console.log({message:F})}},an=F=>{k(F),q(g),S(!0)},Rr=()=>{q([]),S(!1)},Ci=f.useMemo(()=>g.length,[g]),ys=f.useMemo(()=>window.innerWidth<550,[]),ie=f.useCallback(async()=>{console.log("run getPlaylist after initial");try{y(!0);const F=await cl(at(Le,"playlist",`${t.name}_${a.email}`));if(F.exists()){const ae=F.data();e(ju(ae))}else R("playlist not found")}catch(F){console.log({message:F})}finally{y(!1)}},[t,a]),ue=f.useCallback(()=>{let F,ae=0;switch(v.by){case"admin":F=[...l].filter(cn=>{if(ae===v.song_ids.length)return;const er=v.song_ids.find(Do=>Do===cn.id);return er&&(ae+=1),er});break;default:F=c.filter(cn=>{if(ae===v.song_ids.length)return;const er=v.song_ids.find(Do=>Do===cn.id);return er&&(ae+=1),er})}_(F)},[v.song_ids,c]);f.useEffect(()=>{if(v.name){y(!1);return}o&&ie()},[o]),f.useEffect(()=>{if(v){if(E.current){E.current=!1;return}v.song_ids.length&&ue()}},[v.song_ids]),f.useEffect(()=>{if(E.current||!g.length)return;const F=g.find(er=>er.image_url);if(!F||v.image_path&&v.image_path===F.image_url)return;console.log("get playlist feature image");const ae={...v,image_path:F.image_url};(async()=>{try{await mi(at(Le,"playlist",v.id),ae,{merge:!0})}catch{console.log("error when set playlist image")}})();const cn=[...d];N2(ae,cn),e(ju(ae)),h(cn,[])},[g]);const Ne=u.jsx(u.Fragment,{children:u.jsx("div",{className:"pb-[50px]  relative",children:u.jsxs("div",{className:"max-h-[calc(90vh-50px)] w-[700px] max-w-[80vw] overflow-auto",children:[u.jsx(V,{onClick:()=>Q(),variant:"primary",className:`rounded-full ${n.content_bg} absolute bottom-0 right-15px`,children:"Save"}),c.map((F,ae)=>u.jsx("div",{className:"w-full max-[549px]:w-full",children:u.jsx(pl,{isCheckedSong:!0,selectedSongList:L,setIsCheckedSong:K,setSelectedSongList:q,theme:n,data:F,active:!1,onClick:()=>{}})},ae))]})})}),Vt=u.jsxs("div",{className:"w-[700px] max-w-[90vw] max-h-[90vh]",children:[u.jsx("label",{htmlFor:"",className:"text-[18px] font-semibold",children:"Name:"}),u.jsx("input",{value:W,onChange:F=>C(F.target.value),type:"text",className:` text-[20px] rounded-[4px] px-[10px] h-[40px] mb-[15px] outline-none w-full bg-${n.alpha} ${n.type==="light"?"text-[#333]":"text-white"}`}),u.jsx(V,{onClick:()=>Q(),variant:"primary",className:`${n.content_bg} rounded-full self-end mt-[15px]`,children:"Save"})]}),Cr=f.useMemo(()=>u.jsx(u.Fragment,{children:u.jsxs("div",{className:"w-[30vw]",children:[u.jsx("h1",{className:"text-[20px] font-semibold",children:"Chc cha ?"}),u.jsx("p",{className:"text-[red]",children:"This action cannot be undone"}),u.jsxs("div",{className:"flex gap-[10px] mt-[20px]",children:[u.jsx(V,{isLoading:x,className:`${n.content_bg} rounded-full text-[14px]`,variant:"primary",onClick:qe,children:"Xa m n i !"}),u.jsx(V,{onClick:()=>S(!1),className:`bg-${n.alpha} rounded-full text-[14px]`,variant:"primary",children:"Khoan t t"})]})]})}),[x,n]),Fh=u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"w-1/4 max-[459px]:w-1/2",children:u.jsx(Re,{className:"pt-[100%] rounded-[8px]"})}),u.jsxs("div",{className:"ml-[15px]",children:[u.jsx(Re,{className:"h-[30px]  w-[100px]"}),u.jsx(Re,{className:"h-[20px] mt-[9px] w-[100px]"}),u.jsx(Re,{className:"h-[20px] mt-[9px] w-[100px]"}),u.jsx(Re,{className:"h-[15px] mt-[9px] w-[200px]"})]})]}),Uh=[...Array(4).keys()].map(F=>u.jsxs("div",{className:"flex p-[10px]",children:[u.jsx(Re,{className:"h-[54px] w-[54px] ml-[27px] rounded-[4px]"}),u.jsxs("div",{className:"ml-[10px]",children:[u.jsx(Re,{className:"h-[20px] mb-[5px] w-[150px]"}),u.jsx(Re,{className:"h-[12px] mt-[5px] w-[100px]"})]})]},F)),te={button:`${n.content_bg} rounded-full`};return T?u.jsx("h1",{children:T}):s?u.jsx("h1",{children:s}):u.jsxs(u.Fragment,{children:[(x||i)&&Fh,!x&&!!v.name&&u.jsxs("div",{className:"w-full flex mb-[15px] max-[549px]:flex-col max-[549px]:gap-[12px]",children:[u.jsx("div",{className:"w-1/4 max-[549px]:w-full",children:u.jsx(U2,{data:v,inDetail:!0,theme:n,setUserPlaylists:h,userData:a,userPlaylists:d})}),u.jsxs("div",{className:"ml-[15px] flex flex-col justify-between max-[549px]:ml-0 max-[549px]:gap-[12px]",children:[u.jsxs("div",{className:"max-[549px]:flex items-center gap-[12px]",children:[u.jsxs("h3",{className:"text-[20px] font-semibold max-[549px]:text-[30px]",children:[v.name,u.jsx("button",{onClick:()=>an("edit"),className:"p-[5px]",children:u.jsx(za,{className:"w-[20px]"})})]}),u.jsxs("p",{className:"text-[16px]",children:[v==null?void 0:v.count," songs"]}),u.jsx("p",{className:"text-[16px]",children:Ea(v==null?void 0:v.time)}),u.jsxs("p",{className:"text-[14px] opacity-60 max-[549px]:hidden",children:["create by ",v.by]})]}),u.jsxs("div",{className:"flex items-center gap-[12px]",children:[u.jsxs(V,{onClick:()=>z(),variant:"primary",className:`rounded-full ${n.content_bg}`,children:["Play",u.jsx(Db,{className:"ml-[5px] w-[20px]"})]}),u.jsxs(V,{onClick:()=>z(),variant:"primary",className:`rounded-full ${n.content_bg}`,children:["Shuffle",u.jsx(XE,{className:"ml-[5px] w-[20px]"})]}),!ys&&u.jsx("button",{...ee,ref:O.setReference,className:`ml-[10px] p-[6px] rounded-full  bg-${n.alpha}`,children:u.jsx(qg,{className:"w-[20px]"})})]})]})]}),u.jsxs("div",{className:"pb-[30px]",children:[u.jsxs("div",{className:`flex gap-[20px] max-[549px]:gap-[12px] items-center border-b border-${n.alpha} h-[50px] mb-[10px]`,children:[(x||i)&&u.jsx(Re,{className:"h-[20px] w-[150px]"}),Z?u.jsx("p",{className:"text-[14px]] font-semibold text-gray-500 w-[100px]",children:L.length+" selected"}):u.jsx("p",{className:"text-[14px]] font-semibold text-gray-500 w-[100px]",children:Ci+" songs"}),Z&&c.length&&u.jsxs(u.Fragment,{children:[u.jsx(V,{onClick:()=>q(g),variant:"primary",className:te.button,children:"All"}),u.jsx(V,{onClick:()=>fe(),variant:"primary",className:te.button,children:"Remove"}),u.jsx(V,{onClick:()=>{K(!1),q([])},className:"p-[5px]",children:u.jsx(li,{className:"w-[20px]"})})]})]}),(x||i)&&Uh,!x&&!!g.length&&g.map((F,ae)=>{const ln=F.id===m.id&&m.song_in.includes(v.name);return ys?u.jsx("div",{className:"w-full max-[549px]:w-full",children:u.jsx(pl,{theme:n,onClick:()=>ce(F,ae),active:ln,data:F,isCheckedSong:Z,selectedSongList:L,setIsCheckedSong:K,setSelectedSongList:q},ae)},ae):u.jsx("div",{className:"w-full max-[549px]:w-full",children:u.jsx(pd,{isCheckedSong:Z&&!I,setIsCheckedSong:K,selectedSongList:L,setSelectedSongList:q,deleteFromPlaylist:me,userSongs:c,setUserSongs:p,theme:n,onClick:()=>ce(F,ae),active:ln,data:F,inPlaylist:!0})},ae)}),u.jsx("div",{className:"w-full text-center mt-[15px]",children:u.jsxs(V,{onClick:()=>an("addSongs"),className:`${n.content_bg} rounded-full`,variant:"primary",children:[u.jsx(Wa,{className:"w-[30px] mr-[5px]"}),"Thm bi ht"]})})]}),N&&u.jsx(Xl,{modal:!1,context:D,children:u.jsx("div",{className:"z-[99]",ref:O.setFloating,style:M,..._e(),children:u.jsx(Xn,{..._e,theme:n,children:u.jsxs("div",{className:"w-[150px]",children:[u.jsxs(V,{onClick:()=>an("edit"),className:`${n.content_hover_text}`,variant:"list",children:[u.jsx(za,{className:"w-[18px] mr-[5px]"}),"Edit playlist"]}),u.jsxs(V,{onClick:()=>an("confirm"),className:`${n.content_hover_text}`,variant:"list",children:[u.jsx(Kg,{className:"w-[18px] mr-[5px]"}),"Trash"]})]})})})}),I&&u.jsx(Ri,{setOpenModal:S,children:u.jsxs(Xn,{theme:n,children:[A==="edit"&&Vt,A==="confirm"&&Cr,A==="addSongs"&&Ne]})})]})}const Ut={Home:"/React-Zingmp3",dashboard:"/React-Zingmp3/dashboard",MySongs:"/React-Zingmp3/mysongs",MobileMySongs:"/React-Zingmp3/mobile-mysongs",Playlist:"/React-Zingmp3/mysongs/playlist",Edit:"/React-Zingmp3/edit/:id"},f6=[{path:Ut.Home,component:UF,layout:""},{path:Ut.dashboard,component:d6,layout:""},{path:Ut.MySongs,component:s6,layout:""},{path:Ut.Playlist,component:o6,layout:""},{path:`${Ut.Playlist}/:name`,component:h6,layout:""},{path:Ut.Edit,component:l6,layout:u6}],Fm=(t,e)=>{const[n,r]=f.useState(JSON.parse(localStorage.getItem(t)||JSON.stringify(e)));return f.useEffect(()=>{localStorage.setItem(t,JSON.stringify(n))},[n]),[n,r]};function p6({isWaiting:t,isPlaying:e,handlePlayPause:n,hoverClasses:r}){return u.jsx(u.Fragment,{children:u.jsx("button",{className:`p-[5px] ${r&&r} ${t&&"pointer-events-none"}`,onClick:()=>n(),children:t?u.jsx(rT,{className:"w-[50px] scale-75"}):e?u.jsx(Ro,{className:"w-[50px]"}):u.jsx(nT,{className:"w-[50px]"})})})}function q2({audioEle:t,isPlaying:e,isOpenFullScreen:n,isWaiting:r,setIsPlaying:i,setIsWaiting:s}){const{theme:o}=ct(),a=Ei(),l=Nn(bn),{song:c}=l,{userSongs:d,adminSongs:h,initial:p}=_n(),[m,v]=f.useState(),[w,x]=Fm("repeat",!1),[y,g]=Fm("shuffle",!1),_=f.useRef(),E=f.useRef(null),T=f.useRef(null),R=f.useRef(null),I=f.useRef(null),[S,A]=f.useState([]),k=f.useRef(!0),N=f.useRef(!1),{actuallySongs:H}=N0(),L=()=>{t==null||t.play()},q=()=>{t==null||t.pause()},Z=Q=>d[Q],K=()=>{e?q():L()},W=()=>{i(!1)},C=()=>{i(!0)},O=f.useCallback(()=>{const Q=T.current;Q&&R.current&&I.current&&(R.current.innerText="00:00",I.current.innerText="-00:00",Q.style.width="0%")},[]),M=f.useCallback(Q=>{const me=Q.target;if(console.log("check durationLineWidth",_.current),_.current&&m){s(!0);const fe=me.getBoundingClientRect(),qe=T.current,Rr=(Q.clientX-fe.left)/_.current,Ci=Rr*m;t&&qe&&(t.currentTime=+Ci.toFixed(1),qe.style.width=(Rr*100).toFixed(1)+"%",e||L())}},[n,c,m]),D=f.useCallback(()=>{console.log("handleNext check actuallySongs",H);let Q=c.currentIndex+1,me;Q<S.length?(console.log("next song"),me=S[Q]):(console.log("end of list"),N.current=!0,me=S[0],Q=0),a(cr({...me,currentIndex:Q,song_in:c.song_in}))},[c,H]),G=f.useCallback(()=>{let Q=c.currentIndex-1,me;Q>=0?me=S[Q]:(me=S[S.length-1],Q=S.length-1),a(cr({...me,currentIndex:Q,song_in:c.song_in}))},[c,H]),J=f.useCallback(()=>{s(!1);const Q=t==null?void 0:t.currentTime,me=t==null?void 0:t.duration,fe=me-Q,qe=T.current;if(me&&Q){const an=Q/(me/100);qe.style.width=an.toFixed(1)+"%"}R.current&&I.current&&(R.current.innerText=Ea(Q),I.current.innerText="-"+Ea(fe))},[c,n]),ee=()=>{s(!0)},_e=f.useCallback(()=>{if(w)return console.log("song repeat"),L();if(y){console.log("song shuffle");let Q=c.currentIndex;for(;Q===c.currentIndex;)Q=Math.floor(Math.random()*H.length);const me=Z(Q);return a(cr({...me,currentIndex:Q,song_in:c.song_in}))}return D()},[w,y,c,H]),ce=()=>{var Q;if(v(t==null?void 0:t.duration),_.current=(Q=E.current)==null?void 0:Q.offsetWidth,t==null||t.addEventListener("pause",W),t==null||t.addEventListener("play",C),t==null||t.addEventListener("timeupdate",J),R.current&&I.current&&(I.current.innerText="-"+Ea(t.duration)),N.current){N.current=!1,s(!1),i(!1);return}L()};f.useEffect(()=>{if(t)return t.src=c.song_url,t.onloadedmetadata=()=>ce(),()=>{if(k.current){k.current=!1;return}console.log("run clean up control"),t.src="",t==null||t.removeEventListener("timeupdate",J),t==null||t.removeEventListener("pause",W),t==null||t.removeEventListener("waiting",ee),t==null||t.removeEventListener("play",C),O(),s(!0)}},[c]),f.useEffect(()=>{if(t)return t==null||t.addEventListener("ended",_e),()=>t==null?void 0:t.removeEventListener("ended",_e)},[w,y,c,H]),f.useEffect(()=>{var Q;_.current=(Q=E.current)==null?void 0:Q.offsetWidth},[n]),f.useEffect(()=>{p&&(c.song_in.includes("playlist")?A(H):c.song_in==="admin"?A(h):A(d),console.log("check songlist",S))},[c.song_in,H,d]);const z={button:`p-[5px] ${S.length<=1&&"opacity-20 pointer-events-none"}`,buttonsContainer:"w-full flex justify-center items-center gap-x-[20px] h-[50px]",processContainer:"flex flex-row items-center h-[30px]",processLineBase:`h-[4px] hover:h-[6px] flex-1 relative cursor-pointer rounded-3xl overflow-hidden ${o.type==="light"?"bg-gray-400":"bg-gray-200"}`,processLineCurrent:`absolute left-0 top-0 h-full ${o.content_bg}`,currentTime:"text-gray-500 text-[14px] font-semibold",duration:"text-[14px] font-semibold",icon:"w-[30px] "};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:`${z.buttonsContainer}`,children:[u.jsx("button",{className:`${z.button} ${w&&o.content_text}`,onClick:()=>x(!w),children:u.jsx(gN,{className:z.icon})}),u.jsx("button",{className:z.button,onClick:()=>G(),children:u.jsx(PN,{className:z.icon})}),u.jsx(p6,{isWaiting:r,isPlaying:e,handlePlayPause:K}),u.jsx("button",{className:`${z.button}`,onClick:()=>D(),children:u.jsx(eT,{className:z.icon})}),u.jsx("button",{className:`${z.button} ${y&&o.content_text}`,onClick:()=>g(!y),children:u.jsx(XE,{className:z.icon})})]}),u.jsxs("div",{className:z.processContainer,children:[u.jsx("div",{className:"w-[45px]",children:t&&u.jsx("span",{ref:R,className:`${z.currentTime}`,children:"00:00"})}),u.jsx("div",{ref:E,onClick:Q=>M(Q),className:`${z.processLineBase}`,children:u.jsx("div",{ref:T,className:`${z.processLineCurrent}`})}),u.jsx("div",{className:"w-[55px] pl-[5px]",children:t&&u.jsx("span",{ref:I,className:z.duration,children:'"-00:00"'})})]})]})}function m6(t,e,n){const[r,i]=f.useState(!1),[s,o]=Fm("volume",1),a=c=>{const h=c.target.getBoundingClientRect();if(console.log("handleSetVolume"),t.current){let p=+((c.clientX-h.x)/t.current).toFixed(2);p>.9?p=1:p<.1?(p=0,i(!0)):i(!1),o(p)}},l=()=>{n.muted?(n.muted=!1,i(!1)):(n.muted=!0,i(!0))};return f.useEffect(()=>{e.current&&n&&(e.current.style.width=s*100+"%",n.volume=s)},[s]),{volume:s,handleSetVolume:a,isMute:r,handleMute:l}}function md({label:t,classNames:e,autoScroll:n,songInStore:r}){const i=f.useRef(null),s=f.useRef(null),o=f.useRef(),a=f.useRef(),l=f.useRef(0),c=f.useRef(""),d=f.useRef(0),[h,p]=f.useState(!1),m=()=>{const x=s.current;x&&(x.style.transition="none",x.style.transform="translateX(0)",p(!1))},v=()=>{if(!l.current&&!d.current)return;const x=s.current;x&&(x.innerHTML=c.current+"&nbsp; &nbsp; &nbsp;"+c.current,p(!0),x.style.transition=`transform linear ${l.current}s`,x.style.transform=`translateX(-${d.current}px)`,a.current=setTimeout(()=>{m()},l.current*1e3))},w=()=>{if(h)return;const x=s.current,y=i.current;!x||!y||!(x.offsetWidth-y.offsetWidth>0)||(c.current=x.innerText,d.current=x.offsetWidth+20,l.current=+(d.current/35).toFixed(1))};return f.useEffect(()=>{if(w(),!!d.current)return n&&l.current&&!h&&(setTimeout(()=>{v()},1e3),o.current=setInterval(()=>{console.log("scroll"),v()},l.current*1e3+3e3+1e3)),()=>{console.log("run cleanup"),clearInterval(o.current),clearTimeout(a.current),c.current&&(m(),l.current=0,d.current=0)}},[r&&r]),u.jsx("div",{ref:i,className:"overflow-hidden scroll-smooth relative h-full",children:u.jsx("div",{ref:s,onClick:()=>!n&&w(),className:`${e} absolute left-0 whitespace-nowrap line-clamp-1`,children:t||"Some song"})})}function g6({idle:t,audioEle:e,isOpenFullScreen:n,isPlaying:r,isWaiting:i,setIsWaiting:s,setIsPlaying:o,setIsOpenFullScreen:a}){const l=Nn(bn),{song:c}=l,{theme:d}=ct(),h=f.useRef(),p=f.useRef(null),m=f.useRef(null),{handleSetVolume:v,isMute:w,handleMute:x}=m6(h,m,e);return f.useEffect(()=>{var y;h.current=(y=p.current)==null?void 0:y.offsetWidth},[n]),u.jsx("div",{className:`border-${d.alpha} fixed bottom-0 w-full h-[90px] border-t  z-50 px-10
            ${n?"border-transparent bg-transparent":d.bottom_player_bg}
            ${t?"hidden":""} `,children:u.jsxs("div",{className:`flex flex-row gap-[10px] h-full items-stretch ${n?"justify-center text-white":"justify-between"}`,children:[u.jsx("div",{className:`current-song w-1/3 ${n?"hidden":""}`,children:u.jsxs("div",{className:`flex flex-row items-center h-full origin-center ${n?"hidden":""}`,children:[u.jsx("div",{className:"w-[2.5rem] h-[2.5rem]",children:u.jsx("img",{className:"w-full object-cover object-center rounded-full",src:c.image_url?c.image_url:"https://zjs.zmdcdn.me/zmp3-desktop/dev/119956/static/media/icon_zing_mp3_60.f6b51045.svg"})}),u.jsxs("div",{className:" ml-[10px] flex-grow",children:[u.jsx("div",{className:"h-[24px] w-full",children:f.useMemo(()=>u.jsx(md,{songInStore:c,autoScroll:!0,classNames:"text-[18px] font-[500]",label:(c==null?void 0:c.name)||"name"}),[c])}),u.jsx("div",{className:"h-[20px] w-full",children:f.useMemo(()=>u.jsx(md,{songInStore:c,autoScroll:!0,classNames:"text-[14px] opacity-60",label:(c==null?void 0:c.singer)||"singer"}),[c])})]})]})}),u.jsx("div",{className:`desktop-bottom-player-control  flex  
               max-w-[400px] ${n?"max-w-[600px] flex-col-reverse pb-[10px]":"flex-col justify-center"} flex-grow
            ${c.song_url?"":"pointer-events-none opacity-20"}`,children:f.useMemo(()=>u.jsx(q2,{audioEle:e,idle:!1,isPlaying:r,isWaiting:i,isOpenFullScreen:n,setIsWaiting:s,setIsPlaying:o}),[r,n,i])}),u.jsxs("div",{className:`volume-control w-1/3 flex items-center justify-end gap-5  ${n?"hidden":""}`,children:[u.jsxs("div",{className:"flex items-center w-[150px]",children:[u.jsx("button",{onClick:()=>x(),children:w?u.jsx(Kb,{className:"w-6 h-6"}):u.jsx(Wb,{className:"w-6 h-6"})}),u.jsx("div",{onClick:y=>v(y),ref:p,className:`ml-3 w-full relative h-[4px] hover:h-[0.4rem] cursor-pointer rounded-3xl overflow-hidden
                     ${d.type==="light"?"bg-gray-400":"bg-gray-200"}
                     `,children:u.jsx("div",{ref:m,className:`absolute left-0 top-0 h-full w-full ${d.content_bg}`})})]}),u.jsx(V,{onClick:()=>a(!0),variant:"circle",className:`h-[35px] w-[35px] p-[8px] ${c.name?"":"opacity-20 pointer-events-none"}`,children:u.jsx(qN,{})})]})]})})}const K2=({audioEle:t,songLyric:e,className:n})=>{const{theme:r}=ct(),[i,s]=f.useState(0),o=f.useRef(!0),a=f.useRef(null),l=()=>{s(t.currentTime)};f.useEffect(()=>{o.current&&t&&(t.addEventListener("timeupdate",l),i&&o&&(o.current=!1))},[i]),f.useEffect(()=>{if(!e.real_time.length)return;const d=a.current;d&&(d.style.height=window.innerHeight-125+"px")},[]);const c=()=>e.real_time.map((d,h)=>{const p=i>=d.start&&d.end>i;return u.jsx(B2,{theme:r,firstTimeRender:o.current,done:!p,active:p,children:d.text},h)});return e.real_time.length?u.jsx("ul",{ref:a,className:n,children:c()}):u.jsx("h1",{className:"text-[50px] mt-[30px] text-center",children:"..."})},G2=({tabs:t,idle:e,activeTab:n,setActiveTab:r,className:i})=>u.jsx("ul",{className:`flex px-[2px] flex-row py-[4px] h-full px-[4px] items-center bg-indio-650 mx-auto rounded-full bg-gray-500 bg-opacity-20  ${e?"hidden":""}`+i,children:t.map((s,o)=>u.jsx("li",{onClick:()=>r(s),className:`px-[30px] h-full rounded-full max-[549px]:px-[15px] ${n===s?"bg-gray-400 bg-opacity-20 text-white":""}`,children:u.jsx("span",{className:"leading-[27px] font-bold max-[549px]:font-normal",children:s})},o))});function y6({active:t,containerRef:e,songItemRef:n,firstTimeRender:r}){!scroll||!e||!n||f.useEffect(()=>{if(r.current){r.current=!1;return}if(e&&t&&n){const i=window.innerWidth,s=n.current,o=e.current,l=s.getBoundingClientRect().left,c=i-(l+s.offsetWidth),d=Math.abs(l-c)/2;(Math.abs(l)>i||Math.abs(c)>i)&&(o.style.scrollBehavior="auto"),c>l?setTimeout(()=>{o.scrollLeft=o.scrollLeft-d,o.style.scrollBehavior="smooth"},300):c<l&&setTimeout(()=>{o.scrollLeft=o.scrollLeft+d,o.style.scrollBehavior="smooth"},300)}},[t])}const Um=({data:t,active:e,hasHover:n,onClick:r,containerRef:i,hasTitle:s,classNames:o,scroll:a})=>{const l=f.useRef(null),c=f.useRef(!0);return y6({active:e,containerRef:i,songItemRef:l,scroll:a,firstTimeRender:c}),f.useEffect(()=>{console.log("check first time render",c.current)},[]),u.jsx(u.Fragment,{children:t&&u.jsxs("div",{ref:l,className:`flex flex-col delay-3000 ${e&&"transition-transform "}`,children:[u.jsx("div",{className:` flex ${o&&o}`,children:u.jsxs("div",{className:`group relative ${e?"w-[350px] max-[549px]:w-[100%]":"w-[250px] max-[549px]:w-[75%]"} transition-[width] duration-300 origin-center`,children:[u.jsx("img",{className:"select-none object-cover object-center rounded w-full",src:(t==null?void 0:t.image_url)||"https://placehold.co/500x500.png",alt:""}),n&&u.jsx("div",{className:`absolute inset-0 bg-black bg-opacity-60 
             items-center justify-center hidden max-[549px]:hidden group-hover:flex`,children:u.jsx(V,{onClick:r,variant:"circle",className:"h-[50px] w-[50px] text-white",children:u.jsx(Ro,{})})}),e&&window.innerWidth>=550&&u.jsx("div",{className:"absolute h-[30px] w-[30px] bottom-[15px] left-[15px]",children:u.jsx("img",{src:"https://zmp3-static.zmdcdn.me/skins/zmp3-v6.1/images/icons/icon-playing.gif",alt:""})})]})}),s&&u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl text-white  text-center mt-[10px] font-bold  max-[549px]:text-xl text-ellipsis line-clamp-1 ",children:(t==null?void 0:t.name)||"Some song"}),u.jsx("p",{className:"text-center text-md  text-gray-500",children:(t==null?void 0:t.singer)||"..."})]})]})})};function Q2({bgRef:t,songInStore:e}){f.useEffect(()=>{if(e.image_url){const n=t.current;n&&(n.style.backgroundImage=`url(${e.image_url})`)}},[e])}function X2({songInStore:t}){const[e,n]=f.useState({base:"",real_time:[]});return f.useEffect(()=>t.lyric_id?((async()=>{const i=(await MF({collection:"lyrics",id:t.lyric_id})).data();i&&n(i)})(),()=>n({base:"",real_time:[]})):void 0,[t]),e}function v6({isOpenFullScreen:t,setIsOpenFullScreen:e,idle:n,audioEle:r,isPlaying:i}){const s=Ei(),{theme:o}=ct(),{actuallySongs:a}=N0(),{adminSongs:l,userSongs:c}=_n(),{song:d}=Nn(bn),[h,p]=f.useState("Lyric"),m=f.useRef(null),v=f.useRef(null),w=f.useRef(),x=Tl();Q2({bgRef:m,songInStore:d});const y=X2({songInStore:d}),g=(S,A)=>{d.id!==S.id&&s(cr({...S,currentIndex:A,song_in:d.song_in}))},_=S=>{const A=v.current;S==="next"?(A.scrollLeft+=500,w.current&&clearTimeout(w.current)):S==="previous"&&(A.scrollLeft-=500)},E=()=>{e(!1),setTimeout(()=>{x(`/React-Zingmp3/edit/${d.id}`)},300)},T=f.useMemo(()=>{let S;if(d.song_in.includes("playlist")?S=a:d.song_in==="admin"?S=l:S=c,!!(S!=null&&S.length))return S.map((A,k)=>{const N=k===d.currentIndex;return u.jsx("div",{className:"px-[20px]",children:u.jsx(Um,{classNames:"items-center justify-center flex-shrink-0 w-[350px]",hasHover:!0,hasTitle:!0,containerRef:v,onClick:()=>g(A,k),active:N,data:A,scroll:!0})},k)})},[d,a]),R=u.jsxs("div",{className:"lyric-container px-[40px] h-full w-full flex items-center justify-center flex-row",children:[u.jsx("div",{className:"max-[549px]:hidden",children:u.jsx(Um,{classNames:"items-center justify-center",active:i,data:d,scroll:!1})}),u.jsx("div",{className:"flex-1 max-w-[700px] ml-[50px] max-[549px]:ml-0 h-full overflow-auto no-scrollbar pb-[30%]",children:u.jsx(K2,{audioEle:r,songLyric:y})})]}),I={button:`p-[8px] bg-gray-500 bg-opacity-20 text-xl ${o.content_hover_text}`,mainContainer:`fixed inset-0 z-50 bg-zinc-900  overflow-hidden text-white  ${t?"translate-y-0":"translate-y-full"} transition-[transform] duration-300 ease-in-out delay-150`,bg:"absolute h-[100vh] w-[100vw] -z-10 inset-0 bg-no-repeat bg-cover bg-center blur-[99px] transition-[background] duration-100",overplay:"absolute h-[100vh] w-[100vw] inset-0 bg-zinc-900 bg-opacity-80 bg-blend-multiply",header:"header-left flex px-10 py-[20px] relative h-[75px] max-[549px]:px-[10px]",headerRight:`flex items-center absolute right-10 gap-[10px] max-[549px]:right-[10px] top-0 h-full ${n?"hidden":""}`,contentContainer:"h-[calc(100%-100px)] max-[549px]:h-[calc(100%-150px)] relative overflow-hidden",songsListTab:`${h!=="Songs"?"opacity-0":""} relative h-full no-scrollbar flex items-center flex-row overflow-auto scroll-smooth max-[549px]:px-[150px]`,absoluteButton:"p-[8px] bg-gray-500 bg-opacity-50 text-xl fixed top-1/2 -translate-y-1/2 max-[549px]:hidden",songNameSinger:"relative text-center text-white text-[14px] opacity-80"};return u.jsxs("div",{className:`${I.mainContainer}`,children:[u.jsx("div",{ref:m,className:I.bg}),u.jsx("div",{className:I.overplay}),u.jsxs("div",{className:"h-[calc(100vh-90px)]",children:[u.jsxs("div",{className:I.header,children:[u.jsx("div",{className:`relative h-full ${n?"":"hidden"}`,children:u.jsx("div",{className:"absolute left-0 top-0 h-full ",children:u.jsx("img",{className:"h-full",src:"https://zjs.zmdcdn.me/zmp3-desktop/dev/119956/static/media/icon_zing_mp3_60.f6b51045.svg",alt:""})})}),u.jsx(G2,{idle:n,activeTab:h,setActiveTab:p,tabs:["Songs","Lyric"]}),u.jsxs("div",{className:`${I.headerRight}`,children:[d.by!="admin"&&u.jsx(V,{onClick:()=>E(),variant:"circle",size:"normal",className:I.button,children:u.jsx(ob,{})}),u.jsx(V,{onClick:()=>e(!1),variant:"circle",size:"normal",className:I.button,children:u.jsx(JE,{})})]})]}),u.jsxs("div",{className:I.contentContainer,children:[u.jsxs("div",{ref:v,className:` ${I.songsListTab}`,children:[T,u.jsx(V,{onClick:()=>_("previous"),variant:"circle",size:"large",className:`${I.absoluteButton} left-[20px]`,children:u.jsx(UN,{})}),u.jsx(V,{onClick:()=>_("next"),variant:"circle",size:"large",className:`${I.absoluteButton} right-[20px]`,children:u.jsx(Xp,{})})]}),t&&h==="Lyric"&&u.jsx("div",{className:"absolute inset-0 z-20  ",children:R})]}),t&&h==="Lyric"&&u.jsxs("p",{className:I.songNameSinger,children:[d.name," -"," ",u.jsx("span",{className:"opacity-30",children:d.singer})]})]})]})}function _6({audioEle:t,isPlaying:e,isWaiting:n,isOpenFullScreen:r,setIsPlaying:i,setIsWaiting:s,setIsOpenFullScreen:o}){const a=Nn(bn),l=Ei(),{adminSongs:c,initial:d,userSongs:h}=_n(),{song:p}=a,{theme:m}=ct(),{actuallySongs:v}=N0(),[w,x]=f.useState([]),[y,g]=f.useState(!1),[_,E]=f.useState(!1),[T,R]=f.useState("Playing"),[I,S]=f.useState(),[A,k]=f.useState(!1),N=f.useRef(),H=f.useRef(null),L=f.useRef(null),q=f.useRef(null);Q2({bgRef:L,songInStore:p});const Z=X2({songInStore:p}),{refs:K,floatingStyles:W,context:C}=Zl({open:_,onOpenChange:E,placement:"bottom-start",middleware:[E0(10),s2(),o2()],whileElementsMounted:Ql}),O=Yl(C),M=Jl(C),D=C2(C),{getReferenceProps:G,getFloatingProps:J}=ec([O,M,D]),ee=(z,Q)=>{l(cr({...z,currentIndex:Q,song_in:p.song_in}))};f.useEffect(()=>{var Q;N.current=(Q=H.current)==null?void 0:Q.offsetWidth;const z=q.current;z.style.height=`${window.innerHeight-65}px`},[]),f.useEffect(()=>{d&&(p.song_in.includes("playlist")?x(v):p.song_in==="admin"?x(c):x(h),console.log("check songlist",w))},[p.song_in,v]);const _e=f.useMemo(()=>u.jsx(u.Fragment,{children:p&&u.jsxs(u.Fragment,{children:[u.jsx("h3",{className:"text-white text-[16px] mt-[10px] mb-[7px]",children:"Playing next"}),u.jsx("div",{className:"relative h-full no-scrollbar overflow-auto transition-all",children:w.map((z,Q)=>{if(Q>p.currentIndex)return u.jsx(pl,{theme:m,data:z,onClick:()=>ee(z,Q),active:z.song_url===p.song_url},Q)})})]})}),[p,w]),ce=f.useMemo(()=>u.jsx(K2,{className:"flex-shrink-0 overflow-auto",audioEle:t,songLyric:Z}),[Z]);return u.jsxs("div",{className:`fixed inset-0 z-50 bg-zinc-900 text-white overflow-hidden  ${r?"translate-y-0":"translate-y-full"} transition-[transform] duration-300 ease-in-out delay-150  `,children:[u.jsx("div",{ref:L,className:"absolute  inset-0 bg-no-repeat bg-cover bg-center blur-[99px]"}),u.jsx("div",{className:"absolute inset-0 bg-zinc-900 bg-opacity-60 bg-blend-multiply"}),u.jsxs("div",{className:"absolute inset-0 z-10",children:[u.jsxs("div",{className:"h-[65px] p-[15px]",children:[u.jsx("button",{ref:K.setReference,...G(),className:"rounded-full p-[5px] bg-gray-500 bg-opacity-20 absolute left-[15px]",children:u.jsx(ZE,{className:"w-[25px]"})}),u.jsx(G2,{className:"w-fit",idle:!1,setActiveTab:R,activeTab:T,tabs:["Songs","Playing","Lyric"]}),u.jsx("button",{className:"bg-gray-500 bg-opacity-20 rounded-full absolute right-[15px] top-[15px] p-[6px]",onClick:()=>o(!1),children:u.jsx(JE,{className:"w-[25px]"})}),_&&u.jsx(Xl,{context:C,modal:!1,children:u.jsx("div",{className:"z-[99]",ref:K.setFloating,style:W,...J(),children:u.jsx(z2,{setIsOpenMenu:E,setIsOpenSetting:g,setSettingComp:S})})})]}),u.jsx("div",{ref:q,className:"relative px-[15px] overflow-hidden",children:u.jsx("div",{className:"h-full flex flex-col overflow-hidden",children:u.jsxs("div",{className:`flex flex-col h-full ${T!="Playing"?"":"justify-between"}`,children:[u.jsxs("div",{className:`${T!="Playing"&&!A?"flex":""}`,children:[f.useMemo(()=>u.jsx(Um,{classNames:`flex-shink-0 transition-[height, width] origin-top-left ${T!="Playing"?"max-[549px]:w-[60px] max-[549px]:h-[60px]":"justify-center items-center w-full"}`,active:!0,data:p,scroll:!1}),[p,e,T]),u.jsxs("div",{className:`flex flex-grow justify-between items-center ${T!="Playing"?"ml-[10px]":"mt-[15px]"}`,children:[u.jsxs("div",{className:"group flex-grow overflow-hidden",children:[u.jsx("div",{className:"h-[30px]",children:f.useMemo(()=>u.jsx(md,{songInStore:p,autoScroll:!0,classNames:`${T==="Playing"?"text-[24px] leading-[30px]":"text-[20px]"} font-[500]`,label:p.name||"..."}),[p,T])}),u.jsx("div",{className:"h-[30px]",children:f.useMemo(()=>u.jsx(md,{songInStore:p,autoScroll:!0,classNames:`${T==="Playing"?"text-[22px]":"text-[16px] text-gray-500"} font-[400]`,label:p.singer||"..."}),[p,T])})]}),u.jsx("div",{className:"pl-[20px]",children:u.jsx("button",{className:"p-[5px]",children:u.jsx(tT,{className:"w-[25px]"})})})]})]}),T==="Lyric"&&ce,T==="Songs"&&_e,u.jsx("div",{className:`mb-[30px] ${T!="Playing"?"opacity-0 pointer-events-none h-[0px] mb-[0px]":""}`,children:u.jsx("div",{className:"flex flex-col justify-start flex-1",children:u.jsx("div",{className:"flex-col-reverse flex",children:f.useMemo(()=>u.jsx(q2,{audioEle:t,isOpenFullScreen:!1,isPlaying:e,isWaiting:n,setIsWaiting:s,setIsPlaying:i,idle:!1}),[e,n])})})})]})})})]}),y&&u.jsx(Ri,{setOpenModal:g,children:u.jsx("div",{className:` w-[95vw] [90vh] px-[25px] pb-[25px] overflow-hidden ${m.container} rounded-[8px] ${m.type==="light"?"text-[#333]":"text-white"} `,children:I})})]})}const w6=({audioEle:t,isOpenFullScreen:e,isWaiting:n,setIsOpenFullScreen:r,isPlaying:i})=>{const s=Ei(),o=Nn(bn),{userSongs:a}=_n(),{theme:l}=ct(),{song:c}=o,d=()=>{t==null||t.play()},h=()=>{t==null||t.pause()},p=()=>{i?h():d()},m=()=>{let v=c.currentIndex+1,w;v<a.length?w=a[v]:(w=a[0],v=0),s(cr({...w,currentIndex:v,song_in:c.song_in}))};return f.useEffect(()=>{if(!e)return()=>{}},[c,e]),u.jsx("div",{className:`fixed bottom-0 w-full h-[70px] border-t z-40  px-[20px] ${l.bottom_player_bg}`,children:u.jsxs("div",{className:"flex flex-row  h-full",children:[u.jsx("div",{onClick:()=>r(!0),className:"mobile-current-song flex-grow",children:u.jsxs("div",{className:" flex flex-row items-center flex-grow h-full",children:[u.jsx("div",{className:"w-[40px] h-[40px]",children:u.jsx("img",{className:"w-full object-cover object-center rounded-full",src:c.image_url?c.image_url:"https://zjs.zmdcdn.me/zmp3-desktop/dev/119956/static/media/icon_zing_mp3_60.f6b51045.svg"})}),u.jsx("div",{className:"flex-grow  ml-[10px]",children:c.song_url&&u.jsxs(u.Fragment,{children:[u.jsx("h5",{className:"text-[18px] font-[500] line-clamp-1",children:(c==null?void 0:c.name)||"name"}),u.jsx("p",{className:"text-[14px] font-[400] line-clamp-1",children:(c==null?void 0:c.singer)||"singer"})]})})]})}),u.jsxs("div",{className:`mobile-bottom-player flex items-center h-full pl-[15px] gap-[10px] ${!c.name&&"opacity-60 pointer-events-none"}`,children:[u.jsx("button",{className:"p-[4px]",onClick:()=>p(),children:n?u.jsx(rT,{className:"w-[35px]"}):i?u.jsx(Ro,{className:"w-[35px]"}):u.jsx(nT,{className:"w-[35px]"})}),u.jsx("button",{onClick:m,className:"p-[4px]",children:u.jsx(eT,{className:"w-[35px]"})})]})]})})},x6={actuallySongs:[]},Y2=f.createContext(x6),N0=()=>{const{actuallySongs:t}=f.useContext(Y2);return{actuallySongs:t}},E6=({children:t})=>{const{userSongs:e,adminSongs:n,initial:r}=_n(),{song:i,playlist:s}=Nn(bn),[o,a]=f.useState([]),l=f.useCallback(()=>{let c=0;if(i.song_in.includes("playlist")&&i.song_in.includes("playlist"))if(i.song_in.includes("admin")){if(c===s.song_ids.length)return;const d=n.filter(h=>{const p=s.song_ids.find(m=>m===h.id);return p&&(c+=1),p});console.log("getActuallySongList song_in user-playlist",d),a(d)}else{const d=e.filter(h=>{if(c===s.song_ids.length)return;const p=s.song_ids.find(m=>m===h.id);return p&&(c+=1),p});console.log("getActuallySongList song_in user-playlist",d),a(d)}},[i.song_in,s.song_ids,e,n]);return f.useEffect(()=>{r&&l()},[i.song_in,s.song_ids,r]),u.jsx(Y2.Provider,{value:{actuallySongs:o},children:t})},T6=()=>{const t=Nn(bn),{song:e}=t,[n,r]=f.useState(!1),[i,s]=f.useState(!1),[o,a]=f.useState(!1),[l,c]=f.useState(!1),d=f.useRef(null),h=f.useRef(window.innerWidth),p=u.jsxs(u.Fragment,{children:[u.jsx(v6,{audioEle:d.current,idle:!1,isPlaying:n,isOpenFullScreen:o,setIsOpenFullScreen:a}),u.jsx(g6,{audioEle:d.current,idle:!1,isPlaying:n,isWaiting:i,isOpenFullScreen:o,setIsPlaying:r,setIsWaiting:s,setIsOpenFullScreen:a})]}),m=u.jsxs(u.Fragment,{children:[u.jsx(_6,{audioEle:d.current,idle:!1,isPlaying:n,isWaiting:i,isOpenFullScreen:o,setIsPlaying:r,setIsWaiting:s,setIsOpenFullScreen:a}),u.jsx(w6,{audioEle:d.current,idle:!1,isPlaying:n,isOpenFullScreen:o,isWaiting:i,setIsOpenFullScreen:a})]});return f.useEffect(()=>{l||d.current&&c(!0)},[]),u.jsx(E6,{children:u.jsxs("div",{className:"absolute",children:[u.jsx("audio",{ref:d,src:e.song_url,className:"hidden"}),l?h.current>=550?p:m:""]})})},S6=({children:t})=>{const{theme:e}=ct(),n={container:"w-full overflow-y-auto overflow-x-hidden h-[calc(100vh-90px)] max-[549px]:h-full max-[549px]:pb-[70px]",content:"px-[40px] max-[549px]:px-[15px]",page:`min-h-screen flex ${e.type==="dark"?"text-white":"text-[#333]"} ${e.container}`};return u.jsx(A0,{children:u.jsxs("div",{className:n.page,children:[window.innerWidth>=550&&u.jsx(W2,{}),u.jsxs("div",{className:n.container,children:[u.jsx("div",{className:"h-[200px]"}),u.jsx("div",{className:n.content,children:t})]}),u.jsx(T6,{}),u.jsx(H2,{autoClose:!0})]})})};function I6(){return u.jsx(yA,{children:u.jsx(dA,{children:f6.map((t,e)=>{let n;const r=t.component;return t.layout?n=t.layout:n=S6,t.path===Ut.dashboard?u.jsx(Kp,{path:t.path,element:u.jsx(A0,{children:u.jsx(r,{})})},e):u.jsx(Kp,{path:t.path,element:u.jsx(n,{children:u.jsx(r,{})})},e)})})})}const R6=M5({reducer:{song:Q5}});Jf.createRoot(document.getElementById("root")).render(u.jsx(xw.StrictMode,{children:u.jsx(eO,{theme:mT,children:u.jsx(DM,{songsStore:YI,children:u.jsx(lN,{store:R6,children:u.jsx(a9,{children:u.jsx(I6,{})})})})})}));
